<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="GENERATOR" content="techdoc v0.0.1">
<link rel="stylesheet" type="text/css" href="techdoc.css">
<br><title> Yet Another Gamecube Documentation</title>
</head>
<body>
<small><b>last modified: Sat, 23 Dec 2006 22:50:31 </b></small><br><br><h1 align="center">Yet Another Gamecube Documentation<br><font size="-1">(but one that's worth printing)</font> </h1>
<br><br><center><img src="images/yagcd_logo.png" alt="images/yagcd_logo.png"></center>&nbsp;<br>
this is the result of myself pasting together various freely available
documents aswell as adding some of my own findings. have fun... additions
and corrections welcome :)<br><br><b>THIS IS WORK IN PROGRESS! INFORMATION CONTAINED IN THIS DOCUMENT
MAY BE MISSING, INCOMPLETE OR EVEN PLAIN WRONG! NO F****N'
WARRANTY IMPLIED</b>! <b>IF THE USE OF THE INFORMATION CONTAINED
HERE RESULTS IN ULTRA REALISTIC SMOKE EFFECTS, BRAIN DAMAGE OR LOSS
OF PHYSICAL AND/OR MENTAL HEALTH PLEASE DON'T COME BACK AND SAY YOU
HAVEN'T BEEN WARNED! YOU SHOULDN'T BE USING THIS IN THE FIRST PLACE!</b><br><br>
groepaz/hitmen (<tt>groepaz@gmx.net)</tt><br>
Hitmen-Console <a href="http://www.hitmen-console.org"><tt>http://www.hitmen-console.org</tt></a>
 
<h2>
<a name="sec0">
Contents</a>
</h2>
<!--Table of Contents-->
<ul class="TofC">
<li><a name="idx1" href="yet_another_gamecube_doc.html#sec1">1 Introductional Rant</a></li>
<ul>
<li><a name="idx1.1" href="yet_another_gamecube_doc.html#sec1.1">1.1 Things that are in this document</a></li>
<li><a name="idx1.2" href="yet_another_gamecube_doc.html#sec1.2">1.2 Things that are not in this document</a></li>
<li><a name="idx1.3" href="yet_another_gamecube_doc.html#sec1.3">1.3 Conventions</a></li>
<li><a name="idx1.4" href="yet_another_gamecube_doc.html#sec1.4">1.4 legal Babble</a></li>
</ul>
<br><li><a name="idx2" href="yet_another_gamecube_doc.html#sec2">2 Gamecube Hardware Introduction</a></li>
<ul>
<li><a name="idx2.1" href="yet_another_gamecube_doc.html#sec2.1">2.1 enhanced PowerPC 750 Specification</a></li>
<li><a name="idx2.2" href="yet_another_gamecube_doc.html#sec2.2">2.2 Consumer Units</a></li>
<ul>
<li><a name="idx2.2.1" href="yet_another_gamecube_doc.html#sec2.2.1">2.2.1 Nintendo </a></li>
<li><a name="idx2.2.2" href="yet_another_gamecube_doc.html#sec2.2.2">2.2.2 Panasonic Q</a></li>
</ul>
<li><a name="idx2.3" href="yet_another_gamecube_doc.html#sec2.3">2.3 Development Units</a></li>
<li><a name="idx2.4" href="yet_another_gamecube_doc.html#sec2.4">2.4 Hardware Parts List</a></li>
<ul>
<li><a name="idx2.4.1" href="yet_another_gamecube_doc.html#sec2.4.1">2.4.1 Connectors</a></li>
<li><a name="idx2.4.2" href="yet_another_gamecube_doc.html#sec2.4.2">2.4.2 Semi-Conductors</a></li>
</ul>
<li><a name="idx2.5" href="yet_another_gamecube_doc.html#sec2.5">2.5 Details on the motherboard buses</a></li>
<li><a name="idx2.6" href="yet_another_gamecube_doc.html#sec2.6">2.6 Details on the Macronix (MX) Chips</a></li>
<li><a name="idx2.7" href="yet_another_gamecube_doc.html#sec2.7">2.7 DVD Protection</a></li>
<ul>
<li><a name="idx2.7.1" href="yet_another_gamecube_doc.html#sec2.7.1">2.7.1 Filesystem</a></li>
<li><a name="idx2.7.2" href="yet_another_gamecube_doc.html#sec2.7.2">2.7.2 Barcode</a></li>
<li><a name="idx2.7.3" href="yet_another_gamecube_doc.html#sec2.7.3">2.7.3 Encryption</a></li>
</ul>
<li><a name="idx2.8" href="yet_another_gamecube_doc.html#sec2.8">2.8 IPL/BIOS Encryption</a></li>
<ul>
<li><a name="idx2.8.1" href="yet_another_gamecube_doc.html#sec2.8.1">2.8.1 Flipper decryption logic bug</a></li>
<li><a name="idx2.8.2" href="yet_another_gamecube_doc.html#sec2.8.2">2.8.2 Cyphertext algorithm</a></li>
<li><a name="idx2.8.3" href="yet_another_gamecube_doc.html#sec2.8.3">2.8.3 replacing the IPL</a></li>
</ul>
</ul>
<br><li><a name="idx3" href="yet_another_gamecube_doc.html#sec3">3 Gekko CPU Overview</a></li>
<ul>
<li><a name="idx3.1" href="yet_another_gamecube_doc.html#sec3.1">3.1 Registers</a></li>
<li><a name="idx3.2" href="yet_another_gamecube_doc.html#sec3.2">3.2 Calling conventions</a></li>
<li><a name="idx3.3" href="yet_another_gamecube_doc.html#sec3.3">3.3 PPC Instructions</a></li>
<ul>
<li><a name="idx3.3.1" href="yet_another_gamecube_doc.html#sec3.3.1">3.3.1 Integer Instructions</a></li>
<li><a name="idx3.3.2" href="yet_another_gamecube_doc.html#sec3.3.2">3.3.2 Floating-Point Instructions</a></li>
<li><a name="idx3.3.3" href="yet_another_gamecube_doc.html#sec3.3.3">3.3.3 Integer Load and Store Instructions</a></li>
<li><a name="idx3.3.4" href="yet_another_gamecube_doc.html#sec3.3.4">3.3.4 Floating-Point Load and Store Instructions</a></li>
<li><a name="idx3.3.5" href="yet_another_gamecube_doc.html#sec3.3.5">3.3.5 Branch Instructions</a></li>
<li><a name="idx3.3.6" href="yet_another_gamecube_doc.html#sec3.3.6">3.3.6 Condition Register Logical Instructions</a></li>
<li><a name="idx3.3.7" href="yet_another_gamecube_doc.html#sec3.3.7">3.3.7 Misc Instructions</a></li>
</ul>
<li><a name="idx3.4" href="yet_another_gamecube_doc.html#sec3.4">3.4 additional Gekko Instructions</a></li>
<ul>
<li><a name="idx3.4.1" href="yet_another_gamecube_doc.html#sec3.4.1">3.4.1 FPR format in paired-single mode</a></li>
<li><a name="idx3.4.2" href="yet_another_gamecube_doc.html#sec3.4.2">3.4.2 Arithmetic Instructions</a></li>
<li><a name="idx3.4.3" href="yet_another_gamecube_doc.html#sec3.4.3">3.4.3 Load and Store Instructions</a></li>
<li><a name="idx3.4.4" href="yet_another_gamecube_doc.html#sec3.4.4">3.4.4 modified floating point instructions</a></li>
</ul>
<li><a name="idx3.5" href="yet_another_gamecube_doc.html#sec3.5">3.5 Programming Tips and additional information</a></li>
<ul>
<li><a name="idx3.5.1" href="yet_another_gamecube_doc.html#sec3.5.1">3.5.1 Machine State Register</a></li>
<li><a name="idx3.5.2" href="yet_another_gamecube_doc.html#sec3.5.2">3.5.2 Caches</a></li>
<li><a name="idx3.5.3" href="yet_another_gamecube_doc.html#sec3.5.3">3.5.3 branch unit</a></li>
</ul>
</ul>
<br><li><a name="idx4" href="yet_another_gamecube_doc.html#sec4">4 Memory Map</a></li>
<ul>
<li><a name="idx4.1" href="yet_another_gamecube_doc.html#sec4.1">4.1 Overview</a></li>
<li><a name="idx4.2" href="yet_another_gamecube_doc.html#sec4.2">4.2 RAM usage</a></li>
<ul>
<li><a name="idx4.2.1" href="yet_another_gamecube_doc.html#sec4.2.1">4.2.1 Dolphin-OS globals</a></li>
<li><a name="idx4.2.2" href="yet_another_gamecube_doc.html#sec4.2.2">4.2.2 Exception Handlers</a></li>
<li><a name="idx4.2.3" href="yet_another_gamecube_doc.html#sec4.2.3">4.2.3 Dolphin-OS globals</a></li>
<li><a name="idx4.2.4" href="yet_another_gamecube_doc.html#sec4.2.4">4.2.4 User Memory</a></li>
</ul>
</ul>
<br><li><a name="idx5" href="yet_another_gamecube_doc.html#sec5">5 Hardware Registers</a></li>
<ul>
<li><a name="idx5.1" href="yet_another_gamecube_doc.html#sec5.1">5.1 CP - Command Processor</a></li>
<ul>
<li><a name="idx5.1.1" href="yet_another_gamecube_doc.html#sec5.1.1">5.1.1 Token register</a></li>
</ul>
<li><a name="idx5.2" href="yet_another_gamecube_doc.html#sec5.2">5.2 PE - Pixel Engine</a></li>
<li><a name="idx5.3" href="yet_another_gamecube_doc.html#sec5.3">5.3 VI - Video Interface</a></li>
<ul>
<li><a name="idx5.3.1" href="yet_another_gamecube_doc.html#sec5.3.1">5.3.1 Video Modes</a></li>
</ul>
<li><a name="idx5.4" href="yet_another_gamecube_doc.html#sec5.4">5.4 PI - Processor Interface</a></li>
<ul>
<li><a name="idx5.4.1" href="yet_another_gamecube_doc.html#sec5.4.1">5.4.1 Operation</a></li>
</ul>
<li><a name="idx5.5" href="yet_another_gamecube_doc.html#sec5.5">5.5 MI - Memory Interface</a></li>
<li><a name="idx5.6" href="yet_another_gamecube_doc.html#sec5.6">5.6 DSP - Digital Signal Processor Interface</a></li>
<ul>
<li><a name="idx5.6.1" href="yet_another_gamecube_doc.html#sec5.6.1">5.6.1 internal DSP Registers</a></li>
<li><a name="idx5.6.2" href="yet_another_gamecube_doc.html#sec5.6.2">5.6.2 Operation</a></li>
</ul>
<li><a name="idx5.7" href="yet_another_gamecube_doc.html#sec5.7">5.7 DI - DVD Interface</a></li>
<ul>
<li><a name="idx5.7.1" href="yet_another_gamecube_doc.html#sec5.7.1">5.7.1 Drive Commands</a></li>
<li><a name="idx5.7.2" href="yet_another_gamecube_doc.html#sec5.7.2">5.7.2 Drive Debug Commands</a></li>
<li><a name="idx5.7.3" href="yet_another_gamecube_doc.html#sec5.7.3">5.7.3 Operation</a></li>
<li><a name="idx5.7.4" href="yet_another_gamecube_doc.html#sec5.7.4">5.7.4 DVD-ROM Subsystem</a></li>
</ul>
<li><a name="idx5.8" href="yet_another_gamecube_doc.html#sec5.8">5.8 SI - Serial Interface</a></li>
<ul>
<li><a name="idx5.8.1" href="yet_another_gamecube_doc.html#sec5.8.1">5.8.1 Operation</a></li>
</ul>
<li><a name="idx5.9" href="yet_another_gamecube_doc.html#sec5.9">5.9 EXI - External Interface</a></li>
<ul>
<li><a name="idx5.9.1" href="yet_another_gamecube_doc.html#sec5.9.1">5.9.1 Operation</a></li>
</ul>
<li><a name="idx5.10" href="yet_another_gamecube_doc.html#sec5.10">5.10 AI - Audio Streaming Interface</a></li>
<li><a name="idx5.11" href="yet_another_gamecube_doc.html#sec5.11">5.11 GX FIFO (Graphic display lists)</a></li>
<ul>
<li><a name="idx5.11.1" href="yet_another_gamecube_doc.html#sec5.11.1">5.11.1 internal BP registers</a></li>
<li><a name="idx5.11.2" href="yet_another_gamecube_doc.html#sec5.11.2">5.11.2 internal CP Registers</a></li>
<li><a name="idx5.11.3" href="yet_another_gamecube_doc.html#sec5.11.3">5.11.3 internal XF Memory</a></li>
<li><a name="idx5.11.4" href="yet_another_gamecube_doc.html#sec5.11.4">5.11.4 internal XF Registers</a></li>
<li><a name="idx5.11.5" href="yet_another_gamecube_doc.html#sec5.11.5">5.11.5 GP packet description </a></li>
</ul>
</ul>
<br><li><a name="idx6" href="yet_another_gamecube_doc.html#sec6">6 Exception and Interrupt Processing</a></li>
<ul>
<li><a name="idx6.1" href="yet_another_gamecube_doc.html#sec6.1">6.1 Hardware Exception Sources</a></li>
<ul>
<li><a name="idx6.1.1" href="yet_another_gamecube_doc.html#sec6.1.1">6.1.1 System Reset Interrupt</a></li>
<li><a name="idx6.1.2" href="yet_another_gamecube_doc.html#sec6.1.2">6.1.2 Machine Check Interrupt</a></li>
<li><a name="idx6.1.3" href="yet_another_gamecube_doc.html#sec6.1.3">6.1.3 DSI Interrupt</a></li>
<li><a name="idx6.1.4" href="yet_another_gamecube_doc.html#sec6.1.4">6.1.4 ISI Interrupt</a></li>
<li><a name="idx6.1.5" href="yet_another_gamecube_doc.html#sec6.1.5">6.1.5 External Interrupt</a></li>
<li><a name="idx6.1.6" href="yet_another_gamecube_doc.html#sec6.1.6">6.1.6 Alignment Interrupt</a></li>
<li><a name="idx6.1.7" href="yet_another_gamecube_doc.html#sec6.1.7">6.1.7 Program Interrupt</a></li>
<li><a name="idx6.1.8" href="yet_another_gamecube_doc.html#sec6.1.8">6.1.8 FP unavailable Interrupt</a></li>
<li><a name="idx6.1.9" href="yet_another_gamecube_doc.html#sec6.1.9">6.1.9 Decrementer Interrupt</a></li>
<li><a name="idx6.1.10" href="yet_another_gamecube_doc.html#sec6.1.10">6.1.10 System Call Interrupt</a></li>
<li><a name="idx6.1.11" href="yet_another_gamecube_doc.html#sec6.1.11">6.1.11 Trace Interrupt</a></li>
<li><a name="idx6.1.12" href="yet_another_gamecube_doc.html#sec6.1.12">6.1.12 Performance Monitor Interrupt</a></li>
<li><a name="idx6.1.13" href="yet_another_gamecube_doc.html#sec6.1.13">6.1.13 IABR Interrupt</a></li>
<li><a name="idx6.1.14" href="yet_another_gamecube_doc.html#sec6.1.14">6.1.14 Thermal Interrupt</a></li>
</ul>
<li><a name="idx6.2" href="yet_another_gamecube_doc.html#sec6.2">6.2 External Interrupt Sources</a></li>
<ul>
<li><a name="idx6.2.1" href="yet_another_gamecube_doc.html#sec6.2.1">6.2.1 HSP - High Speed Port</a></li>
<li><a name="idx6.2.2" href="yet_another_gamecube_doc.html#sec6.2.2">6.2.2 Debug</a></li>
<li><a name="idx6.2.3" href="yet_another_gamecube_doc.html#sec6.2.3">6.2.3 CP - Command Processor</a></li>
<li><a name="idx6.2.4" href="yet_another_gamecube_doc.html#sec6.2.4">6.2.4 PE - Pixel Engine Finished</a></li>
<li><a name="idx6.2.5" href="yet_another_gamecube_doc.html#sec6.2.5">6.2.5 PE - Pixel Engine Token</a></li>
<li><a name="idx6.2.6" href="yet_another_gamecube_doc.html#sec6.2.6">6.2.6 VI - Video Interface</a></li>
<li><a name="idx6.2.7" href="yet_another_gamecube_doc.html#sec6.2.7">6.2.7 Memory Interface</a></li>
<li><a name="idx6.2.8" href="yet_another_gamecube_doc.html#sec6.2.8">6.2.8 DSP Interface</a></li>
<li><a name="idx6.2.9" href="yet_another_gamecube_doc.html#sec6.2.9">6.2.9 Audio Streaming Interface</a></li>
<li><a name="idx6.2.10" href="yet_another_gamecube_doc.html#sec6.2.10">6.2.10 EXI</a></li>
<li><a name="idx6.2.11" href="yet_another_gamecube_doc.html#sec6.2.11">6.2.11 Serial Interface</a></li>
<li><a name="idx6.2.12" href="yet_another_gamecube_doc.html#sec6.2.12">6.2.12 DVD Interface</a></li>
<li><a name="idx6.2.13" href="yet_another_gamecube_doc.html#sec6.2.13">6.2.13 Reset Button</a></li>
<li><a name="idx6.2.14" href="yet_another_gamecube_doc.html#sec6.2.14">6.2.14 Error</a></li>
</ul>
</ul>
<br><li><a name="idx7" href="yet_another_gamecube_doc.html#sec7">7 Video Processing </a></li>
<ul>
<li><a name="idx7.1" href="yet_another_gamecube_doc.html#sec7.1">7.1 Used VI terms</a></li>
<li><a name="idx7.2" href="yet_another_gamecube_doc.html#sec7.2">7.2 init VI</a></li>
<ul>
<li><a name="idx7.2.1" href="yet_another_gamecube_doc.html#sec7.2.1">7.2.1 Videomodes</a></li>
</ul>
<li><a name="idx7.3" href="yet_another_gamecube_doc.html#sec7.3">7.3 render to XFB</a></li>
<li><a name="idx7.4" href="yet_another_gamecube_doc.html#sec7.4">7.4 vertical retrace</a></li>
<li><a name="idx7.5" href="yet_another_gamecube_doc.html#sec7.5">7.5 set XFB Address</a></li>
</ul>
<br><li><a name="idx8" href="yet_another_gamecube_doc.html#sec8">8 3D Graphics Processing</a></li>
<ul>
<li><a name="idx8.1" href="yet_another_gamecube_doc.html#sec8.1">8.1 basic operations</a></li>
<ul>
<li><a name="idx8.1.1" href="yet_another_gamecube_doc.html#sec8.1.1">8.1.1 load BP Register</a></li>
<li><a name="idx8.1.2" href="yet_another_gamecube_doc.html#sec8.1.2">8.1.2 load CP Register </a></li>
<li><a name="idx8.1.3" href="yet_another_gamecube_doc.html#sec8.1.3">8.1.3 load XF Register</a></li>
<li><a name="idx8.1.4" href="yet_another_gamecube_doc.html#sec8.1.4">8.1.4 load XF Register Indexed</a></li>
</ul>
<li><a name="idx8.2" href="yet_another_gamecube_doc.html#sec8.2">8.2 example processing loop</a></li>
<ul>
<li><a name="idx8.2.1" href="yet_another_gamecube_doc.html#sec8.2.1">8.2.1 init GX</a></li>
<li><a name="idx8.2.2" href="yet_another_gamecube_doc.html#sec8.2.2">8.2.2 begin frame</a></li>
<li><a name="idx8.2.3" href="yet_another_gamecube_doc.html#sec8.2.3">8.2.3 draw frame</a></li>
<li><a name="idx8.2.4" href="yet_another_gamecube_doc.html#sec8.2.4">8.2.4 end frame</a></li>
<li><a name="idx8.2.5" href="yet_another_gamecube_doc.html#sec8.2.5">8.2.5 close GX</a></li>
</ul>
</ul>
<br><li><a name="idx9" href="yet_another_gamecube_doc.html#sec9">9 Joy-Bus Devices</a></li>
<ul>
<li><a name="idx9.1" href="yet_another_gamecube_doc.html#sec9.1">9.1 ID and Device List</a></li>
<li><a name="idx9.2" href="yet_another_gamecube_doc.html#sec9.2">9.2 standard Controller</a></li>
<ul>
<li><a name="idx9.2.1" href="yet_another_gamecube_doc.html#sec9.2.1">9.2.1 Init</a></li>
<li><a name="idx9.2.2" href="yet_another_gamecube_doc.html#sec9.2.2">9.2.2 Read Controller Status</a></li>
<li><a name="idx9.2.3" href="yet_another_gamecube_doc.html#sec9.2.3">9.2.3 rumble Motor On</a></li>
<li><a name="idx9.2.4" href="yet_another_gamecube_doc.html#sec9.2.4">9.2.4 rumble Motor Off</a></li>
</ul>
<li><a name="idx9.3" href="yet_another_gamecube_doc.html#sec9.3">9.3 Keyboard</a></li>
<ul>
<li><a name="idx9.3.1" href="yet_another_gamecube_doc.html#sec9.3.1">9.3.1 Types</a></li>
<li><a name="idx9.3.2" href="yet_another_gamecube_doc.html#sec9.3.2">9.3.2 Scancodes</a></li>
<li><a name="idx9.3.3" href="yet_another_gamecube_doc.html#sec9.3.3">9.3.3 Init</a></li>
<li><a name="idx9.3.4" href="yet_another_gamecube_doc.html#sec9.3.4">9.3.4 Read Keyboard</a></li>
</ul>
<li><a name="idx9.4" href="yet_another_gamecube_doc.html#sec9.4">9.4 GBA</a></li>
<li><a name="idx9.5" href="yet_another_gamecube_doc.html#sec9.5">9.5 Wavebird</a></li>
<li><a name="idx9.6" href="yet_another_gamecube_doc.html#sec9.6">9.6 steering wheel</a></li>
<li><a name="idx9.7" href="yet_another_gamecube_doc.html#sec9.7">9.7 DKongas</a></li>
<ul>
<li><a name="idx9.7.1" href="yet_another_gamecube_doc.html#sec9.7.1">9.7.1 Read Controller Status</a></li>
</ul>
<li><a name="idx9.8" href="yet_another_gamecube_doc.html#sec9.8">9.8 Resident Evil4 Chainsaw</a></li>
</ul>
<br><li><a name="idx10" href="yet_another_gamecube_doc.html#sec10">10 EXI Devices</a></li>
<ul>
<li><a name="idx10.1" href="yet_another_gamecube_doc.html#sec10.1">10.1 EXI Channel and Device List</a></li>
<li><a name="idx10.2" href="yet_another_gamecube_doc.html#sec10.2">10.2 Retrieving the ID of an EXI Device</a></li>
<li><a name="idx10.3" href="yet_another_gamecube_doc.html#sec10.3">10.3 Mask ROM</a></li>
<ul>
<li><a name="idx10.3.1" href="yet_another_gamecube_doc.html#sec10.3.1">10.3.1 Memory Map (Europe/PAL)</a></li>
<li><a name="idx10.3.2" href="yet_another_gamecube_doc.html#sec10.3.2">10.3.2 Memory Map (USA/NTSC)</a></li>
<li><a name="idx10.3.3" href="yet_another_gamecube_doc.html#sec10.3.3">10.3.3 Memory Map (Japenese/NTSC)</a></li>
<li><a name="idx10.3.4" href="yet_another_gamecube_doc.html#sec10.3.4">10.3.4 Memory Map (Japenese/NTSC - Panasonic Q)</a></li>
<li><a name="idx10.3.5" href="yet_another_gamecube_doc.html#sec10.3.5">10.3.5 Font Encoding</a></li>
<li><a name="idx10.3.6" href="yet_another_gamecube_doc.html#sec10.3.6">10.3.6 Font Layout</a></li>
<li><a name="idx10.3.7" href="yet_another_gamecube_doc.html#sec10.3.7">10.3.7 Operation</a></li>
</ul>
<li><a name="idx10.4" href="yet_another_gamecube_doc.html#sec10.4">10.4 RTC (Real-Time Clock)</a></li>
<ul>
<li><a name="idx10.4.1" href="yet_another_gamecube_doc.html#sec10.4.1">10.4.1 Operation</a></li>
</ul>
<li><a name="idx10.5" href="yet_another_gamecube_doc.html#sec10.5">10.5 SRAM</a></li>
<ul>
<li><a name="idx10.5.1" href="yet_another_gamecube_doc.html#sec10.5.1">10.5.1 Memory Map</a></li>
<li><a name="idx10.5.2" href="yet_another_gamecube_doc.html#sec10.5.2">10.5.2 Operation</a></li>
<li><a name="idx10.5.3" href="yet_another_gamecube_doc.html#sec10.5.3">10.5.3 Checksums</a></li>
</ul>
<li><a name="idx10.6" href="yet_another_gamecube_doc.html#sec10.6">10.6 AD16</a></li>
<ul>
<li><a name="idx10.6.1" href="yet_another_gamecube_doc.html#sec10.6.1">10.6.1 Operation</a></li>
<li><a name="idx10.6.2" href="yet_another_gamecube_doc.html#sec10.6.2">10.6.2 Trace-Step Values</a></li>
</ul>
<li><a name="idx10.7" href="yet_another_gamecube_doc.html#sec10.7">10.7 Memory Cards</a></li>
<ul>
<li><a name="idx10.7.1" href="yet_another_gamecube_doc.html#sec10.7.1">10.7.1 Commands</a></li>
<li><a name="idx10.7.2" href="yet_another_gamecube_doc.html#sec10.7.2">10.7.2 Operation</a></li>
</ul>
<li><a name="idx10.8" href="yet_another_gamecube_doc.html#sec10.8">10.8 Ethernet Adapter</a></li>
<ul>
<li><a name="idx10.8.1" href="yet_another_gamecube_doc.html#sec10.8.1">10.8.1 registers</a></li>
<li><a name="idx10.8.2" href="yet_another_gamecube_doc.html#sec10.8.2">10.8.2 command-registers</a></li>
<li><a name="idx10.8.3" href="yet_another_gamecube_doc.html#sec10.8.3">10.8.3 Operation</a></li>
</ul>
<li><a name="idx10.9" href="yet_another_gamecube_doc.html#sec10.9">10.9 UART</a></li>
<li><a name="idx10.10" href="yet_another_gamecube_doc.html#sec10.10">10.10 SD Cards</a></li>
<li><a name="idx10.11" href="yet_another_gamecube_doc.html#sec10.11">10.11 Viper 'Modchip'</a></li>
<li><a name="idx10.12" href="yet_another_gamecube_doc.html#sec10.12">10.12 Ripper III GC 'Modchip'</a></li>
<li><a name="idx10.13" href="yet_another_gamecube_doc.html#sec10.13">10.13 Qoob 'Modchip'</a></li>
<li><a name="idx10.14" href="yet_another_gamecube_doc.html#sec10.14">10.14 NinjaMOD 'Modchip'</a></li>
<li><a name="idx10.15" href="yet_another_gamecube_doc.html#sec10.15">10.15 Mario Party Microphone</a></li>
</ul>
<br><li><a name="idx11" href="yet_another_gamecube_doc.html#sec11">11 HSP Devices</a></li>
<ul>
<li><a name="idx11.1" href="yet_another_gamecube_doc.html#sec11.1">11.1 GB Player</a></li>
</ul>
<br><li><a name="idx12" href="yet_another_gamecube_doc.html#sec12">12 Memory Card Structure</a></li>
<ul>
<li><a name="idx12.1" href="yet_another_gamecube_doc.html#sec12.1">12.1 Overview</a></li>
<li><a name="idx12.2" href="yet_another_gamecube_doc.html#sec12.2">12.2 Header</a></li>
<li><a name="idx12.3" href="yet_another_gamecube_doc.html#sec12.3">12.3 Directory</a></li>
<ul>
<li><a name="idx12.3.1" href="yet_another_gamecube_doc.html#sec12.3.1">12.3.1 Directory Entries</a></li>
</ul>
<li><a name="idx12.4" href="yet_another_gamecube_doc.html#sec12.4">12.4 Block Allocation Map</a></li>
<li><a name="idx12.5" href="yet_another_gamecube_doc.html#sec12.5">12.5 Checksums</a></li>
</ul>
<br><li><a name="idx13" href="yet_another_gamecube_doc.html#sec13">13 DVD Structure</a></li>
<ul>
<li><a name="idx13.1" href="yet_another_gamecube_doc.html#sec13.1">13.1 Disk header</a></li>
<li><a name="idx13.2" href="yet_another_gamecube_doc.html#sec13.2">13.2 Disk header Information</a></li>
<li><a name="idx13.3" href="yet_another_gamecube_doc.html#sec13.3">13.3 Apploader</a></li>
<li><a name="idx13.4" href="yet_another_gamecube_doc.html#sec13.4">13.4 Format of the FST</a></li>
<ul>
<li><a name="idx13.4.1" href="yet_another_gamecube_doc.html#sec13.4.1">13.4.1 Format of a File Entry</a></li>
</ul>
</ul>
<br><li><a name="idx14" href="yet_another_gamecube_doc.html#sec14">14 general File Formats</a></li>
<ul>
<li><a name="idx14.1" href="yet_another_gamecube_doc.html#sec14.1">14.1 BNR (Banner file format)</a></li>
<li><a name="idx14.2" href="yet_another_gamecube_doc.html#sec14.2">14.2 DOL (Gamecube Executable)</a></li>
<li><a name="idx14.3" href="yet_another_gamecube_doc.html#sec14.3">14.3 ELF (Executable and linkable Format)</a></li>
<li><a name="idx14.4" href="yet_another_gamecube_doc.html#sec14.4">14.4 GCB (QOOB Flash Files)</a></li>
<li><a name="idx14.5" href="yet_another_gamecube_doc.html#sec14.5">14.5 GCM (Gamecube Disc Image)</a></li>
<li><a name="idx14.6" href="yet_another_gamecube_doc.html#sec14.6">14.6 GCI (Gamecube Game Save)</a></li>
<li><a name="idx14.7" href="yet_another_gamecube_doc.html#sec14.7">14.7 GCP (Gamecube Memorycard Image)</a></li>
<li><a name="idx14.8" href="yet_another_gamecube_doc.html#sec14.8">14.8 TGC</a></li>
<ul>
<li><a name="idx14.8.1" href="yet_another_gamecube_doc.html#sec14.8.1">14.8.1 Header</a></li>
<li><a name="idx14.8.2" href="yet_another_gamecube_doc.html#sec14.8.2">14.8.2 embedded GCM</a></li>
</ul>
<li><a name="idx14.9" href="yet_another_gamecube_doc.html#sec14.9">14.9 VGC (Viper Flash Files)</a></li>
</ul>
<br><li><a name="idx15" href="yet_another_gamecube_doc.html#sec15">15 Game File Formats</a></li>
<ul>
<li><a name="idx15.1" href="yet_another_gamecube_doc.html#sec15.1">15.1 AFC (audio stream)</a></li>
<li><a name="idx15.2" href="yet_another_gamecube_doc.html#sec15.2">15.2 AST (audio stream) </a></li>
<li><a name="idx15.3" href="yet_another_gamecube_doc.html#sec15.3">15.3 ARC (RARC Archive)</a></li>
<ul>
<li><a name="idx15.3.1" href="yet_another_gamecube_doc.html#sec15.3.1">15.3.1 Header</a></li>
<li><a name="idx15.3.2" href="yet_another_gamecube_doc.html#sec15.3.2">15.3.2 Nodes</a></li>
<li><a name="idx15.3.3" href="yet_another_gamecube_doc.html#sec15.3.3">15.3.3 File Entries</a></li>
</ul>
<li><a name="idx15.4" href="yet_another_gamecube_doc.html#sec15.4">15.4 ARC (audio stuff)</a></li>
<li><a name="idx15.5" href="yet_another_gamecube_doc.html#sec15.5">15.5 ASN</a></li>
<li><a name="idx15.6" href="yet_another_gamecube_doc.html#sec15.6">15.6 AW ("audio wave"?)</a></li>
<li><a name="idx15.7" href="yet_another_gamecube_doc.html#sec15.7">15.7 BAS ("audio script" ?)</a></li>
<li><a name="idx15.8" href="yet_another_gamecube_doc.html#sec15.8">15.8 BCA</a></li>
<li><a name="idx15.9" href="yet_another_gamecube_doc.html#sec15.9">15.9 BCK (animation of a .bmd skeleton)</a></li>
<li><a name="idx15.10" href="yet_another_gamecube_doc.html#sec15.10">15.10 BDL </a></li>
<li><a name="idx15.11" href="yet_another_gamecube_doc.html#sec15.11">15.11 BFN (font)</a></li>
<li><a name="idx15.12" href="yet_another_gamecube_doc.html#sec15.12">15.12 BIN (binary file)</a></li>
<li><a name="idx15.13" href="yet_another_gamecube_doc.html#sec15.13">15.13 BLO (screen layout for dialog screens)</a></li>
<li><a name="idx15.14" href="yet_another_gamecube_doc.html#sec15.14">15.14 BMD (3d model with texture and skeleton)</a></li>
<li><a name="idx15.15" href="yet_another_gamecube_doc.html#sec15.15">15.15 BMG </a></li>
<li><a name="idx15.16" href="yet_another_gamecube_doc.html#sec15.16">15.16 BMP (window bitmap (!))</a></li>
<li><a name="idx15.17" href="yet_another_gamecube_doc.html#sec15.17">15.17 BMT</a></li>
<li><a name="idx15.18" href="yet_another_gamecube_doc.html#sec15.18">15.18 BCK ("Pack" file)</a></li>
<li><a name="idx15.19" href="yet_another_gamecube_doc.html#sec15.19">15.19 BRK </a></li>
<li><a name="idx15.20" href="yet_another_gamecube_doc.html#sec15.20">15.20 BTI</a></li>
<ul>
<li><a name="idx15.20.1" href="yet_another_gamecube_doc.html#sec15.20.1">15.20.1 Texture Header</a></li>
</ul>
<li><a name="idx15.21" href="yet_another_gamecube_doc.html#sec15.21">15.21 BTP </a></li>
<li><a name="idx15.22" href="yet_another_gamecube_doc.html#sec15.22">15.22 BTK</a></li>
<li><a name="idx15.23" href="yet_another_gamecube_doc.html#sec15.23">15.23 COL (collision triangles)</a></li>
<li><a name="idx15.24" href="yet_another_gamecube_doc.html#sec15.24">15.24 DZB</a></li>
<li><a name="idx15.25" href="yet_another_gamecube_doc.html#sec15.25">15.25 H4M</a></li>
<li><a name="idx15.26" href="yet_another_gamecube_doc.html#sec15.26">15.26 JPA (particle data)</a></li>
<li><a name="idx15.27" href="yet_another_gamecube_doc.html#sec15.27">15.27 JPC </a></li>
<li><a name="idx15.28" href="yet_another_gamecube_doc.html#sec15.28">15.28 MTH ('Mute thp?')</a></li>
<li><a name="idx15.29" href="yet_another_gamecube_doc.html#sec15.29">15.29 PAD</a></li>
<li><a name="idx15.30" href="yet_another_gamecube_doc.html#sec15.30">15.30 PRM ('Parameters?')</a></li>
<li><a name="idx15.31" href="yet_another_gamecube_doc.html#sec15.31">15.31 REL (relocatable module)</a></li>
<li><a name="idx15.32" href="yet_another_gamecube_doc.html#sec15.32">15.32 SB</a></li>
<li><a name="idx15.33" href="yet_another_gamecube_doc.html#sec15.33">15.33 SZS (packed RARC Archive)</a></li>
<li><a name="idx15.34" href="yet_another_gamecube_doc.html#sec15.34">15.34 THP (video format)</a></li>
<ul>
<li><a name="idx15.34.1" href="yet_another_gamecube_doc.html#sec15.34.1">15.34.1 Header data</a></li>
<li><a name="idx15.34.2" href="yet_another_gamecube_doc.html#sec15.34.2">15.34.2 Components structure</a></li>
<li><a name="idx15.34.3" href="yet_another_gamecube_doc.html#sec15.34.3">15.34.3 VideoInfo Structure</a></li>
<li><a name="idx15.34.4" href="yet_another_gamecube_doc.html#sec15.34.4">15.34.4 AudioInfo Structure</a></li>
<li><a name="idx15.34.5" href="yet_another_gamecube_doc.html#sec15.34.5">15.34.5 Frame data</a></li>
<li><a name="idx15.34.6" href="yet_another_gamecube_doc.html#sec15.34.6">15.34.6 Video Frames</a></li>
<li><a name="idx15.34.7" href="yet_another_gamecube_doc.html#sec15.34.7">15.34.7 Audio Frames</a></li>
</ul>
<li><a name="idx15.35" href="yet_another_gamecube_doc.html#sec15.35">15.35 TPL (Texture Palette)</a></li>
<li><a name="idx15.36" href="yet_another_gamecube_doc.html#sec15.36">15.36 YMP (height map)</a></li>
</ul>
<br><li><a name="idx16" href="yet_another_gamecube_doc.html#sec16">16 Compression Formats</a></li>
<ul>
<li><a name="idx16.1" href="yet_another_gamecube_doc.html#sec16.1">16.1 Yay0</a></li>
<ul>
<li><a name="idx16.1.1" href="yet_another_gamecube_doc.html#sec16.1.1">16.1.1 compression</a></li>
<li><a name="idx16.1.2" href="yet_another_gamecube_doc.html#sec16.1.2">16.1.2 de-compression Code</a></li>
<li><a name="idx16.1.3" href="yet_another_gamecube_doc.html#sec16.1.3">16.1.3 Font Data</a></li>
</ul>
<li><a name="idx16.2" href="yet_another_gamecube_doc.html#sec16.2">16.2 Yaz0</a></li>
<ul>
<li><a name="idx16.2.1" href="yet_another_gamecube_doc.html#sec16.2.1">16.2.1 de-compression Code</a></li>
</ul>
</ul>
<br><li><a name="idx17" href="yet_another_gamecube_doc.html#sec17">17 Graphic Formats</a></li>
<ul>
<li><a name="idx17.1" href="yet_another_gamecube_doc.html#sec17.1">17.1 YCbYCr</a></li>
<li><a name="idx17.2" href="yet_another_gamecube_doc.html#sec17.2">17.2 I4 (4bit indexed)</a></li>
<li><a name="idx17.3" href="yet_another_gamecube_doc.html#sec17.3">17.3 IA4 (4bit indexed with alpha)</a></li>
<li><a name="idx17.4" href="yet_another_gamecube_doc.html#sec17.4">17.4 I8 (8bit indexed)</a></li>
<li><a name="idx17.5" href="yet_another_gamecube_doc.html#sec17.5">17.5 IA8 (8bit indexed with alpha)</a></li>
<li><a name="idx17.6" href="yet_another_gamecube_doc.html#sec17.6">17.6 CI4 (compressed 4bit indexed)</a></li>
<li><a name="idx17.7" href="yet_another_gamecube_doc.html#sec17.7">17.7 CIA4 (compressed 4bit indexed with alpha)</a></li>
<li><a name="idx17.8" href="yet_another_gamecube_doc.html#sec17.8">17.8 CI8 (compressed 8bit indexed)</a></li>
<li><a name="idx17.9" href="yet_another_gamecube_doc.html#sec17.9">17.9 CIA8 (compressed 8bit indexed with alpha)</a></li>
<li><a name="idx17.10" href="yet_another_gamecube_doc.html#sec17.10">17.10 RGB4A3</a></li>
<ul>
<li><a name="idx17.10.1" href="yet_another_gamecube_doc.html#sec17.10.1">17.10.1 RGB4A3 Pixel Format</a></li>
</ul>
<li><a name="idx17.11" href="yet_another_gamecube_doc.html#sec17.11">17.11 RGB5A1</a></li>
<ul>
<li><a name="idx17.11.1" href="yet_another_gamecube_doc.html#sec17.11.1">17.11.1 RGB5A1 Pixel Format</a></li>
</ul>
<li><a name="idx17.12" href="yet_another_gamecube_doc.html#sec17.12">17.12 RGB565</a></li>
<ul>
<li><a name="idx17.12.1" href="yet_another_gamecube_doc.html#sec17.12.1">17.12.1 RGB565 Pixel Format</a></li>
</ul>
<li><a name="idx17.13" href="yet_another_gamecube_doc.html#sec17.13">17.13 RGBA8</a></li>
<ul>
<li><a name="idx17.13.1" href="yet_another_gamecube_doc.html#sec17.13.1">17.13.1 RGBA8 Pixel Format</a></li>
</ul>
<li><a name="idx17.14" href="yet_another_gamecube_doc.html#sec17.14">17.14 S3TC</a></li>
<ul>
<li><a name="idx17.14.1" href="yet_another_gamecube_doc.html#sec17.14.1">17.14.1 CMPR</a></li>
</ul>
</ul>
<br><li><a name="idx18" href="yet_another_gamecube_doc.html#sec18">18 Appendix</a></li>
<ul>
<li><a name="idx18.1" href="yet_another_gamecube_doc.html#sec18.1">18.1 GCC Quick How To</a></li>
<ul>
<li><a name="idx18.1.1" href="yet_another_gamecube_doc.html#sec18.1.1">18.1.1 compile ASM to object:</a></li>
<li><a name="idx18.1.2" href="yet_another_gamecube_doc.html#sec18.1.2">18.1.2 compile C to object:</a></li>
<li><a name="idx18.1.3" href="yet_another_gamecube_doc.html#sec18.1.3">18.1.3 compile C++ to object:</a></li>
<li><a name="idx18.1.4" href="yet_another_gamecube_doc.html#sec18.1.4">18.1.4 link objects</a></li>
<li><a name="idx18.1.5" href="yet_another_gamecube_doc.html#sec18.1.5">18.1.5 remove unneeded sections (debug info etc) from object</a></li>
<li><a name="idx18.1.6" href="yet_another_gamecube_doc.html#sec18.1.6">18.1.6 convert object to plain binary</a></li>
<li><a name="idx18.1.7" href="yet_another_gamecube_doc.html#sec18.1.7">18.1.7 convert absolute address into filename/line number/function</a></li>
<li><a name="idx18.1.8" href="yet_another_gamecube_doc.html#sec18.1.8">18.1.8 Building a Crosscompiler</a></li>
<li><a name="idx18.1.9" href="yet_another_gamecube_doc.html#sec18.1.9">18.1.9 Linker Script</a></li>
<li><a name="idx18.1.10" href="yet_another_gamecube_doc.html#sec18.1.10">18.1.10 Startup Code</a></li>
</ul>
<li><a name="idx18.2" href="yet_another_gamecube_doc.html#sec18.2">18.2 Boot Process Details</a></li>
<ul>
<li><a name="idx18.2.1" href="yet_another_gamecube_doc.html#sec18.2.1">18.2.1 BS - Bootstrap 1</a></li>
<li><a name="idx18.2.2" href="yet_another_gamecube_doc.html#sec18.2.2">18.2.2 BS2 - Bootstrap 2</a></li>
<li><a name="idx18.2.3" href="yet_another_gamecube_doc.html#sec18.2.3">18.2.3 Apploader</a></li>
<li><a name="idx18.2.4" href="yet_another_gamecube_doc.html#sec18.2.4">18.2.4 Main DOL executable</a></li>
</ul>
<li><a name="idx18.3" href="yet_another_gamecube_doc.html#sec18.3">18.3 Game and Maker Codes</a></li>
<ul>
<li><a name="idx18.3.1" href="yet_another_gamecube_doc.html#sec18.3.1">18.3.1 Gamecodes</a></li>
<li><a name="idx18.3.2" href="yet_another_gamecube_doc.html#sec18.3.2">18.3.2 Game Serial ID</a></li>
<li><a name="idx18.3.3" href="yet_another_gamecube_doc.html#sec18.3.3">18.3.3 Makercodes</a></li>
</ul>
<li><a name="idx18.4" href="yet_another_gamecube_doc.html#sec18.4">18.4 Macronix Chip IDs</a></li>
<li><a name="idx18.5" href="yet_another_gamecube_doc.html#sec18.5">18.5 chip simelarities</a></li>
<li><a name="idx18.6" href="yet_another_gamecube_doc.html#sec18.6">18.6 Easter Eggs</a></li>
<li><a name="idx18.7" href="yet_another_gamecube_doc.html#sec18.7">18.7 Terms and Acronyms</a></li>
</ul>
<br><li><a name="idx19" href="yet_another_gamecube_doc.html#sec19">19 References</a></li>
<ul>
<li><a name="idx19.1" href="yet_another_gamecube_doc.html#sec19.1">19.1 Sources</a></li>
</ul>
<br><li><a name="idx20" href="yet_another_gamecube_doc.html#sec20">20 Credits</a></li>
</ul>
<div class="p">
<div class="idx"><a href="#idx1">index</a></div>
<h2>
<a name="sec1">
1</a>&nbsp;&nbsp;Introductional Rant</h2>
<br>
If you don't know what programming a machine down to the metal is
all about, go away! no really, this document is not for you! if you
are seeking for advice on using existing solutions, such as SDKs or
libraries, you will find little to none information that is of any
use for you and you might only become frustrated by figuring out how
little you know. If you however aren't afraid of numbers and want
to dare jumping into the snake-pit of semi-accurate information based
on guesswork done by a bunch of freaks - feel invited. this was made
to give you what you need in the most compressed and visually pleasing
form possible. <em>Stuff that matters.</em>
     <div class="idx"><a href="#idx1.1">index</a></div>
<h3>
<a name="sec1.1">
1.1</a>&nbsp;&nbsp;Things that are in this document</h3>
<br>
just about everything explicitly and specifically related to the gamecube
hard- and software internals and its programming. everything inside
the box is subject to be documented, may it be relevant for actual
programming or not. its meant as a reference for everyone who wants
to know in all possible detail what makes this thing tick.<br><br>
one more thing: please notice that this is a technical documentation
which is presented for pure educational purposes and higher learning,
and not a moral lesson. i have decided against leaving out any information
since i believe that information by itself should not be crippled
in any way. if you choose to abuse this information for any kind of
illegal activities (<b>PLEASE DON'T!</b>) so be it, but don't bother
me with it.
     <div class="idx"><a href="#idx1.2">index</a></div>
<h3>
<a name="sec1.2">
1.2</a>&nbsp;&nbsp;Things that are <em>not</em> in this document</h3>
<br>
several things were decided to not being put into this document because
they didn't fit into the 'technical documentation' type of concept.
They may be documented separatly some time but not now and not here.
These things are:
<ul>
<li> Tips on Emulating the Gamecube on another Host system (this kind of
information is only useful for a very limited number of people, and
additionally might be highly confusing and/or misleading for those
who are writing actual gamecube programs)
</li>
<li> Explanation of the PSO (Phantasy Star Online) Exploit that lets you
run code on the Gamecube
</li>
<li> Explanation of the Codes used with Datels Action Replay
</li>
<li> Instructions on using any tools that let you upload and execute code
on the Gamecube, or any other development related tools <b>except</b>
anything related to setting up and using gcc as a cross-compiler targeted
to the gamecube.
</li>
<li> anything related to gaming, cheat-codes and the like. (this is a tech-doc
not a gaming FAQ!)
</li>
<li> information on using the datel action replay to patch itself in order
to execute code.
</li>
<li> detailed and/or complete sourcecode, except when a formal explanation
would just over-complicate things. (this is a documentation, not a
code library)
</li>
<li> building and/or using a custom interface to connect a gamecube memory
card to another host and read/write data
</li>
<li> anything related to playing/booting/copying pirated games (as you
may have noticed, <b>we do not support piracy!</b>)
</li>
</ul>
some of these may be arguable, so if you think they should be here
- probably along the lines of the appendix - don't hesitate to write
the chapter in question and send it to me. i might include it if you
write it, but other than that i won't care (there is still enough
other stuff to complete).
     <div class="idx"><a href="#idx1.3">index</a></div>
<h3>
<a name="sec1.3">
1.3</a>&nbsp;&nbsp;Conventions</h3>
<br><ul>
<li> we count bits starting from 0, the most significant bit of a byte
is bit 7. when visualising a byte the most significant bit comes first
(left), and the least significant bit comes last (right).
</li>
<li> when dealing with 16- or 32 byte values all figures are in big endian
byte order. this means that the most significant byte comes first
(left), and the least significant byte comes last (right).
Please notice that the above is different to what IBM is using in
their PPC documents. They have the (to many people strange and wrong)
idea of applying 'big endian' to the order of bits and showing them
the other way around as we do in this document.
</li>
<li> if known (from patents or other freely available sources) we use the
same terminology as Nintendo (or Macronix respectively) does, in particular
we try to use the same names and abbreviations for hardware registers,
signals and the like as a weak attempt of providing consistency with
other existing documentation.
</li>
<li> absolute memory addresses are shown as if the gamecube had been initialized
by the original IPL and address translation had not been changed.
For this matter we dont use physical adresses to avoid confusion for
the majority of our readers.
</li>
<li> code snippets are in either real or pseudo C language. any logical
or arithmetic expressions outside code snippets are loosely similar
to C notation according to the following table:
<table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap><b>Description</b></td>
<td nowrap align="center"><b>Symbol</b></td>
</tr>
<tr>
<td nowrap>logical or bitwise AND</td>
<td nowrap align="center"><tt>&amp;</tt></td>
</tr>
<tr>
<td nowrap>logical or bitwise OR</td>
<td nowrap align="center"><tt>|</tt></td>
</tr>
<tr>
<td nowrap>logical or bitwise exclusive OR</td>
<td nowrap align="center"><tt>^</tt></td>
</tr>
<tr>
<td nowrap>logical or bitwise NOT (inverse)</td>
<td nowrap align="center"><tt>!</tt></td>
</tr>
<tr>
<td nowrap>equality or assignment</td>
<td nowrap align="center"><tt>=</tt></td>
</tr>
<tr>
<td nowrap>addition</td>
<td nowrap align="center"><tt>+</tt></td>
</tr>
<tr>
<td nowrap>substraction</td>
<td nowrap align="center"><tt>-</tt></td>
</tr>
<tr>
<td nowrap>multiplication</td>
<td nowrap align="center"><tt>*</tt></td>
</tr>
<tr>
<td nowrap>division</td>
<td nowrap align="center"><tt>/</tt></td>
</tr>
</table>
</td></tr></table>
<br><br>
please notice that -outside code- we do not make a difference between
logical and bitwise operations. if in doubt the operation is bitwise,
it should however be clearly visible from the context.
</li>
</ul>
<div class="idx"><a href="#idx1.4">index</a></div>
<h3>
<a name="sec1.4">
1.4</a>&nbsp;&nbsp;legal Babble</h3>
<br>
Everything in this Document has been reverse-engineered from legally
aquired software (Games), publicly available Patents and Documentation
for the sole purpose of writing interoperable Software. This is explicitly
allowed (almost encouraged :)) by Sect. 1201 (f), Reverse Engineering
exception of the DMCA.
 <div class="idx"><a href="#idx2">index</a></div>
<h2>
<a name="sec2">
2</a>&nbsp;&nbsp;Gamecube Hardware Introduction</h2>
<br>
The GameCube is a powerful piece of hardware. The whole system is
based on the IBM PowerPC Gekko processor and the custom ATI Flipper
video system. The PowerPC Gekko processor is really just a PowerPC
750 with a few enhancements.
     <div class="idx"><a href="#idx2.1">index</a></div>
<h3>
<a name="sec2.1">
2.1</a>&nbsp;&nbsp;enhanced PowerPC 750 Specification</h3>
<br><ul>
<li> 486 MHz internal processor clock
</li>
<li> 200 MHz 64-bit bus width to main memory (1.6 Gigabytes per second
maximum)
</li>
<li> 32KB associative L1 Icache
</li>
<li> 32KB associative L1 Dcache with 16KB data scratchpad
</li>
<li> Super-scalar microprocessor with five different execution units:
<ul>
<li> 2 integer units, 1 FPU, and 1 loadstore unit and branch
unit
</li>
</ul>
</li>
<li> DMA unit servicing 16KB data scratchpad.
</li>
<li> DMA request queue - 15-entry.
</li>
<li> Write-gather buffer for writing graphics command lists to the video
system.
</li>
<li> Embedded 256KB 2-way set-associative L2 unified cache.
</li>
<li> 2 32-bit Integer Units (IU)
</li>
<li> 1 FPU, 32 and 64-bit bus width
</li>
<li> The FPU supports Floating Point Paired Singles (FP/PS)
</li>
<li> Branch Unit provides static AND dynamic branch prediction
</li>
<li> Features Out-Of-Order execution which means that when an instruction
delays because of data access, subsequent opcodes can continue to
be decoded and executed.
</li>
</ul>
The enhanced PowerPC Gekko processor also contains many features for
minimization of processor delays because of data accessing and for
maximization of processing throughput:
<ul>
<li> Non-blocking caches
</li>
<li> Branch prediction through use of the Branch Unit (BU)
</li>
<li> 8-way set-associative caches
</li>
<li> 256KB L2 transfer cache
</li>
<li> Out-of-order execution capabilities
</li>
</ul>
The instruction set of the PowerPC Gekko processor seems to be almost
identical to the one of the PowerPC 750 processor.The only visible
differences at the moment are that the PowerPC Gekko processor has
a few AltiVecSIMD opcodes added to its final instruction
set.
     <div class="idx"><a href="#idx2.2">index</a></div>
<h3>
<a name="sec2.2">
2.2</a>&nbsp;&nbsp;Consumer Units</h3>
<br><div class="idx"><a href="#idx2.2.1">index</a></div>
<h4>
<a name="sec2.2.1">
2.2.1</a>&nbsp;&nbsp;Nintendo </h4>
<br><h5>2.2.1.1 <a name="sec2.2.1.1">
    &nbsp;&nbsp;HW1</a>
</h5>
<br>
HW1 was an initial, buggy version of the GameCube hardware that wasnt
sold at retail.
<h5>2.2.1.2 <a name="sec2.2.1.2">
    &nbsp;&nbsp;HW2</a>
</h5>
<br>
HW2 is the first hardware that was sold in stores to the public.
<b>2.2.1.3<a name="sec2.2.1.3">
    &nbsp;&nbsp;HW2 'second edition'</a>
&nbsp;</b>
The second edition models are missing the "Serial Port 2"
that the first edition had. The plastic cover is still on the bottom
of the cube, where the port used to be, but there's just a metal plate
underneath it, and no connector.
<b>2.2.1.4<a name="sec2.2.1.4">
    &nbsp;&nbsp;HW2 'third edition'</a>
&nbsp;</b>
The third edition Gamecubes are missing both the "Serial
Port 2", and the Digital A/V connector. 
      <div class="idx"><a href="#idx2.2.2">index</a></div>
<h4>
<a name="sec2.2.2">
2.2.2</a>&nbsp;&nbsp;Panasonic Q</h4>
<br>
There is a Gamecube combined with dvd-player manufactured by Panasonic
called 'Panasonic-Q'. It seems to be exactly the same as HW2 for
the Gamecube part, except that the dvd drive is different.
     <div class="idx"><a href="#idx2.3">index</a></div>
<h3>
<a name="sec2.3">
2.3</a>&nbsp;&nbsp;Development Units</h3>
<br>
Nintendo provides development hardware units to official, licensed
GameCube developers. There are namely two different versions: the
GDEV and the DDH hardware development kit units. These units are the
same as retail GameCube HW2 units with some changes: They have PC
communications features (either through SCSI or USB) and they have
DVD emulation hardware instead of a proprietary mini-DVD drive. GameCube
development units also seem to have slower processor speeds than retail
GameCubes, this clock speed ranges from around 150MHz to 400MHz. Development
GameCubes also seem to contain more RAM than retail ones, namely around
40MB. SNSystems also provides their own development kit,authorized
by Nintendo, called the TDEV. According to specifications directly
from SNSystems, the TDEV development hardware contains twice as much
memory as retail GameCubes for debugging and a direct PC&lt;-&gt;TDEV USB
connection for fast uploading of code andor data.
Finally, there is also another proprietary development kit called
the NR-Reader. NR-Reader's contain less debugging capabilities than
the other development kits and are mostly meant for developers to
efficiently get their demosgames to beta testers or
media. However, SNSystems reports that their ProDG development kit
can be used with a special USB adapter of theirs for directly sending
program (debug) code to NR-Reader GameCubes. Also, NR-Reader GameCubes
contain different mini-DVD drives than retail GameCubes, but still
use a proprietary writingreading format which is currently
unknown. The DVD drives of NR-Readers can only read special DVDs that
can only be written correctly with NR-Writer hardware (which is really
just a PanasonicMatshita SW-9501 with modified firmware).
Also, the official debug development kits possibly contain J-TAG support,
which is a method for debugging hardware. If so, there is a possibility
that J-TAG support still remains in retail GameCubes as well, but
this is purely hypothesis. If, in fact, retail GameCubes contain J-TAG
debugging support then it should be possible for (homebrew) code to
be uploaded through a J-TAG cable) directly to a GameCube's RAM and
executed.
     <div class="idx"><a href="#idx2.4">index</a></div>
<h3>
<a name="sec2.4">
2.4</a>&nbsp;&nbsp;Hardware Parts List</h3>
<br><ul>
<li> "MBU" and "MBB" will be used to
refer to parts on the top and bottom sides of the GameCube's mother-board
respectively.
</li>
<li> "DVDB" will be used to refer to parts on the DVD
controller board.
</li>
<li> "CB" will be used to refer to parts on the controller
pad board.
</li>
</ul>
<div class="idx"><a href="#idx2.4.1">index</a></div>
<h4>
<a name="sec2.4.1">
2.4.1</a>&nbsp;&nbsp;Connectors</h4>
<br>
The are 10 different connectors on the GameCube's mother-board. The
following table contains an ID key and a short functional description.<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>ID </b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>P1</tt></td>
<td nowrap>Motherboard Power Connector - MBB - Top Left</td>
</tr>
<tr>
<td nowrap align="center"><tt>P2</tt></td>
<td nowrap>Digital Video Output Connector - MBU - Bottom Left</td>
</tr>
<tr>
<td nowrap align="center"><tt>P3</tt></td>
<td nowrap>Controller Pad Board Connector - MBU - Middle Right</td>
</tr>
<tr>
<td nowrap align="center"><tt>P4</tt></td>
<td nowrap>Memory Card Slot Connector A - MBU - Top Right</td>
</tr>
<tr>
<td nowrap align="center"><tt>P5</tt></td>
<td nowrap>Memory Card Slot Connector B - MBU - Bottom Right</td>
</tr>
<tr>
<td nowrap align="center"><tt>P6</tt></td>
<td nowrap>Serial Port Connector 1 - MBB - Top Right</td>
</tr>
<tr>
<td nowrap align="center"><tt>P7</tt></td>
<td nowrap>Analog Video Output Connector - MBU - Middle Left</td>
</tr>
<tr>
<td nowrap align="center"><tt>P8</tt></td>
<td nowrap>Serial Port Connector 2 - MBB - Top Right</td>
</tr>
<tr>
<td nowrap align="center"><tt>P9</tt></td>
<td nowrap>Mini-DVD Drive Port Connector - MBU - Top Right</td>
</tr>
<tr>
<td nowrap align="center"><tt>P10</tt></td>
<td nowrap>Hi-Speed Parallel Port Connector - MBB - Bottom Left</td>
</tr>
</table>
</td></tr></table>
<br><b>2.4.1.1<a name="sec2.4.1.1">
    &nbsp;&nbsp;Memory Card Slots (P4,P5)</a>
&nbsp;</b>
<table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">pin</td>
<td nowrap>Signal</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>EXTIN</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>GND</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>INT</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>3.3V</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>DO</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>5V</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>DI</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap>3.3V</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap>CS</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>Ground (Shield)</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>CLK</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap>EXTOUT</td>
</tr>
</table>
</td></tr></table>
<br><b>2.4.1.2<a name="sec2.4.1.2">
    &nbsp;&nbsp;High-speed Port (P8)</a>
&nbsp;</b>
<table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">pin</td>
<td nowrap>Signal</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>3.3V</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>GND</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>INT</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>CLK</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>DO</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>DI</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>CS</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap>Ground (Shield)</td>
</tr>
</table>
</td></tr></table>
<br><b>2.4.1.3<a name="sec2.4.1.3">
    &nbsp;&nbsp;SDRAM/Parallel Port (P10)</a>
&nbsp;</b>
<table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">pin</td>
<td nowrap>Signal</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>VCC</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>DQ0</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>DQ7</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>DQ1</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>DQ6</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>DQ2</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap>DQ5</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap>DQ3</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>DQ4</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>VCC</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap>write enable</td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap>DQM</td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap>CAS</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap>Clock</td>
</tr>
<tr>
<td nowrap align="center">17</td>
<td nowrap>RAS</td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap>A12</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap>CS (Chip Select)</td>
</tr>
<tr>
<td nowrap align="center">20</td>
<td nowrap>A11</td>
</tr>
<tr>
<td nowrap align="center">21</td>
<td nowrap>BA0</td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap>A9</td>
</tr>
<tr>
<td nowrap align="center">23</td>
<td nowrap>BA1</td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap>A8</td>
</tr>
<tr>
<td nowrap align="center">25</td>
<td nowrap>A10</td>
</tr>
<tr>
<td nowrap align="center">26</td>
<td nowrap>A7</td>
</tr>
<tr>
<td nowrap align="center">27</td>
<td nowrap>A0</td>
</tr>
<tr>
<td nowrap align="center">28</td>
<td nowrap>A6</td>
</tr>
<tr>
<td nowrap align="center">29</td>
<td nowrap>A1</td>
</tr>
<tr>
<td nowrap align="center">30</td>
<td nowrap>A5</td>
</tr>
<tr>
<td nowrap align="center">31</td>
<td nowrap>A2</td>
</tr>
<tr>
<td nowrap align="center">32</td>
<td nowrap>A4</td>
</tr>
<tr>
<td nowrap align="center">33</td>
<td nowrap>A3</td>
</tr>
<tr>
<td nowrap align="center">34</td>
<td nowrap>INT</td>
</tr>
<tr>
<td nowrap align="center">35</td>
<td nowrap>VCC</td>
</tr>
<tr>
<td nowrap align="center">36</td>
<td nowrap>Ground</td>
</tr>
</table>
</td></tr></table>
<br><b>2.4.1.4<a name="sec2.4.1.4">
    &nbsp;&nbsp;BBA/Modem Connector (P6)</a>
&nbsp;</b>
<table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">pin</td>
<td nowrap>Signal</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>EXTIN</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>Ground (Shield)</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>INT</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>CLK</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>12V</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>DO</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>3.3V</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap>3.3V</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap>DI</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>CS</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap>Ground</td>
</tr>
</table>
</td></tr></table>
<br><h5>2.4.1.5 <a name="sec2.4.1.5">
    &nbsp;&nbsp;DVD Interface Connector (P9)</a>
</h5>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">pin</td>
<td nowrap>Signal</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>AISLR (audio bus)</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>5V</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>AISD (audio bus)</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>5V</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>AISCLK (audio bus)</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>5V</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>DIHSTRB</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap>5V</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap>DIERRB</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>DIBRK</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap>DICOVER</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap>DIDSTBR</td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap>DIRSTB</td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap>DIDIR</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">17</td>
<td nowrap>DID7</td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap>DID6</td>
</tr>
<tr>
<td nowrap align="center">20</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">21</td>
<td nowrap>DID5</td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">23</td>
<td nowrap>DID4</td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">25</td>
<td nowrap>DID3</td>
</tr>
<tr>
<td nowrap align="center">26</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">27</td>
<td nowrap>DID2</td>
</tr>
<tr>
<td nowrap align="center">28</td>
<td nowrap>MONI</td>
</tr>
<tr>
<td nowrap align="center">29</td>
<td nowrap>DID1</td>
</tr>
<tr>
<td nowrap align="center">30</td>
<td nowrap>MONOUT</td>
</tr>
<tr>
<td nowrap align="center">31</td>
<td nowrap>DID0</td>
</tr>
<tr>
<td nowrap align="center">32</td>
<td nowrap>Ground</td>
</tr>
</table>
</td></tr></table>
<br><h5>2.4.1.6 <a name="sec2.4.1.6">
    &nbsp;&nbsp;Power Supply Connector (P1)</a>
</h5>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">pin</td>
<td nowrap>Signal</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>3.3V</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>3.3V</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap>1.8V</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>1.8V</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>1.8V</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap>1.8V</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap>1.55V</td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap>1.55V</td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap>1.55V</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">17</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap>Thermo detect</td>
</tr>
<tr>
<td nowrap align="center">20</td>
<td nowrap>12V</td>
</tr>
<tr>
<td nowrap align="center">21</td>
<td nowrap>5V</td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap>5V</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx2.4.2">index</a></div>
<h4>
<a name="sec2.4.2">
2.4.2</a>&nbsp;&nbsp;Semi-Conductors</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>ID</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>U1</tt></td>
<td nowrap>Customized NEC Flipper Chip - MBU - Middle</td>
</tr>
<tr>
<td nowrap align="center"><tt>U2</tt></td>
<td nowrap>Customized IBM PowerPC Gekko Chip - MBU - Bottom</td>
</tr>
<tr>
<td nowrap align="center"><tt>U3</tt></td>
<td nowrap>MoSys (MS3M23B-5 A) 12MB 1-T SRAM - MBU - Top Right</td>
</tr>
<tr>
<td nowrap align="center"><tt>U4</tt></td>
<td nowrap>MoSys (MS3M23B-5 A) 12MB 1-T SRAM - MBU - Top Right</td>
</tr>
<tr>
<td nowrap align="center"><tt>U5</tt></td>
<td nowrap>NEC (D4891281G5 0125XU621) 16MB ARAM - MBU - Top Left</td>
</tr>
<tr>
<td nowrap align="center"><tt>U6</tt></td>
<td nowrap>AV Encoder (AVE N -DOL RS5C5828) - MBB - Middle Left</td>
</tr>
<tr>
<td nowrap align="center"><tt>U7</tt></td>
<td nowrap>Amplifier? (AMP - DOL 128 124) - MBB - Top Left</td>
</tr>
<tr>
<td nowrap align="center"><tt>U8</tt></td>
<td nowrap>MX Clock Generator (Part Number?) - MBU - Bottom Left</td>
</tr>
<tr>
<td nowrap align="center"><tt>U9</tt></td>
<td nowrap>MX Clock Generator (Part Number?) - MBU - Bottom Right</td>
</tr>
<tr>
<td nowrap align="center"><tt>U10</tt></td>
<td nowrap>MX RTC/IPL (8013108-M RTCN-DOL 1R6022A1)</td>
</tr>
</table>
</td></tr></table>
<br><h5>2.4.2.1 <a name="sec2.4.2.1">
    &nbsp;&nbsp;IPL (U10)</a>
</h5>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Pin</b></td>
<td nowrap><b>Signal</b></td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Clock</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>CS</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>serial in</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>Ground</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap>serial out</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap>osc - xtal2</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap>osc - xtal1</td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx2.5">index</a></div>
<h3>
<a name="sec2.5">
2.5</a>&nbsp;&nbsp;Details on the motherboard buses</h3>
<br>
The GameCube has three main external buses on its mother-board: the
North-Bridge, the South-Bridge, and the East-Bridge. The fastest bus
is the South-Bridge which connects the two 12MB 1T-SRAM chips to the
Flipper. The South-Bridge bus has a bus-width of 64 bits, and data
is exchanged through it at rates of about 324MHz. The North-Bridge
bus connects the IBM PowerPC Gekko processor to the Flipper and is
another 64 bit bus-width bus, however, it is only half as fast as
the South-Bridge bus and is clocked at around 162MHz. Finally, the
East-Bridge bus connects the 16MB Audio RAM chip to the Flipper chip.
This bus only has a bus-width of 8 bits and is by far the slowest
one, clocked at only 81MHz.
     <div class="idx"><a href="#idx2.6">index</a></div>
<h3>
<a name="sec2.6">
2.6</a>&nbsp;&nbsp;Details on the Macronix (MX) Chips</h3>
<br>
An outer inspection of the two MX chips does not reveal anything of
much interest. Both chips are TSOP packages containing 14 pins each.
One of the chips has "CLK" inscripted on it, and
the other "RTC". It can be easily inferred that
the "CLK" chip functions as some sort of a clock
controllergenerator and the "RTC"
chip contains the GameCube's Real-Time Clock unit. Two of the RTC
chip's pins are connected to an external crystal which regulates the
RTC's timing rate. Another pin is connected to a battery located on
the controller board. At least two pins are used for both VCC and
GND. That leaves nine unknown pins. The RTC MX chip also contains
the GameCube's BIOS. While 14 pins is not nearly enough for parallel
Flash ROM, EEPROM, mask ROM, etc., it is quite adequate for a serial
connection.
     <div class="idx"><a href="#idx2.7">index</a></div>
<h3>
<a name="sec2.7">
2.7</a>&nbsp;&nbsp;DVD Protection</h3>
<br>
The DVD Protection is based on a custom data format on an otherwhise
pretty standard dvd. 
      <div class="idx"><a href="#idx2.7.1">index</a></div>
<h4>
<a name="sec2.7.1">
2.7.1</a>&nbsp;&nbsp;Filesystem</h4>
<br>
The custom Filesystem (which is described somewhere else in this Document)
by itself is not related to the actual protection mechanism. However,
since it is not standard, that alone would already make it hard to
read (and create) in a regular (pc-) environment.
      <div class="idx"><a href="#idx2.7.2">index</a></div>
<h4>
<a name="sec2.7.2">
2.7.2</a>&nbsp;&nbsp;Barcode</h4>
<br>
The Barcode is used to authenticate the Disc in the Drive.
      <div class="idx"><a href="#idx2.7.3">index</a></div>
<h4>
<a name="sec2.7.3">
2.7.3</a>&nbsp;&nbsp;Encryption</h4>
<br>
The entire content of a Gamecube DVD is XORed with a constant cyphertext
and it is transparently decrypted by the Disc-Controller when reading
from the DVD.
<h5>2.7.3.1 <a name="sec2.7.3.1">
    &nbsp;&nbsp;Cyphertext algorithm</a>
</h5>
<br>
todo
     <div class="idx"><a href="#idx2.8">index</a></div>
<h3>
<a name="sec2.8">
2.8</a>&nbsp;&nbsp;IPL/BIOS Encryption</h3>
<br>
if you XOR an NTSC with a PAL bios (or any other two different ones),
you will notice that because they have different sizes, there are
some obviously zero encoded areas in one files, giving you plaintext
in the other one which proves:
<ul>
<li> encryption is a simple XOR with a constant ciphertext.
</li>
<li> the key used to generate the cyphertext is the same for different
bios's
</li>
</ul>
so we do the math:<br><br>
given Ci = ciphertext, Cl = cleartext, K = key<br><br>
encoding data goes like:<br><br>
Ci1 = Cl1 ^ K<br>
Ci2 = Cl2 ^ K<br><br>
If Cl1 or Cl2 is nothing but zero, the resultant Ci is just K<br><br>
decoding it would be:<br><br>
Cl = Ci ^ K<br><br>
for the areas where Cl is nothing but zeroes in one bios, we know
K <br><div class="idx"><a href="#idx2.8.1">index</a></div>
<h4>
<a name="sec2.8.1">
2.8.1</a>&nbsp;&nbsp;Flipper decryption logic bug</h4>
<br>
The hardware decryption logic has a really nasty bug which allows
us to read almost the full Cleartext (and thus a large part of the
cyphertext, by XORing it with encrypted data).<br><br>
This, combined with the features of the XOR encryption makea the whole
encryption useless (at least very insecure) and implementing a new
bios is a straight-forward task (provided that "high speed"
(30Mhz) programmable logic with enough memory attached to it is available.).
The Bios chip, which also includes sram and rtc (but that won't matter
here), is attached to the EXI0 bus. The Exi bus (nothing new here,
just to refresh it is an SPI-like bus. SPI is nothing complicated,
just four interesting lines: CS (used mainly for syncing, since you
need a defined start point, and you can easily attach multiple devices
(memory card, ...) to the same bus with seperate CS lines), SI (aka
MOSI, master out, slave in - the CPU is always master, the IPL-chip
is slave. so SI is gamecube -&gt; device), SO (device -&gt; gamecube, tristated
when a device is not active), and CLK (generated by the master). a
transfer is basically:<br><br>
- lower CS (it's low active)<br>
 for every bit do:<br>
- set SI bit<br>
- clock<br>
- read SO bit<br>
then:<br>
- put CS high again.<br><br>
(the exact timing (WHEN to sample SO, clock polarity) is different
for different SPI modes, and the one descriped here is not necessarily
the one used in the GC. anyway, it doesn't matter here)<br><br>
so, based on that, we can transfer n-bit messages in BOTH DIRECTIONS.
technically this is implemented with a 32bit shift register, with
every clock cycle one bit is shifted out (to SI), and one bit is shifted
in (to SO). so after n clock cycles, you have n new bits in the shift
register and shifted n bits out. the used protocol on the Bus is in
most cases very simple but device dependant. In the case of the IPL
chip, it's the following:<br><br>
GC -&gt; IPL<br>
1 bit read/write (0 for read, 1 for write, the latter only valid for
RTC/Sram of course)<br>
1 unknown bit<br>
1 bits selection (0 for ROM, 1 for RTC/Sram)<br>
23 bits address<br>
6 bits dummy<br>
after that, the data transfer starts. the 6 dummy cycles are mainly
to give the IPL time to read out the first byte.<br><br>
So you send 32 bits of data (the "address"), and
start receiving the ROM bytes. but hey - we said the SPI bus always
transfers 2 bits per clock cycle (in marketing terms), since it's
fullduplex (in technical terms). we transfer one bit TO the device,
and one BACK. we HAVE to. there's no way to NOT send a bit - but it
doesn't matter, since for example the bits send from the IPL to the
GC in the first 32bits are just ignored - they would contain most
probably only zeros, ones, or the bus might be tristate. it's simply
not defined, so there's no data to be expected. the same goes for
the transfer of the data. the IPL chip sets the correct data at the
SO line, but the gamecube - well, sends dummy bits, too. normally
you would send zeros, ones, or whatever. it's ignored by the IPL chip
anyway (unless it's a write, that would turn the whole thing upside
down) now since technically the SPI port is implemented by a shifting
register of 32bit length. after transferring 32bits, we would have
to read out the new value, store it into memory, and "start
the next transfer". but what's about CLEARING the register
before? yes, they didn't. in the next transfer, the last 32bit are
shifted out as dummy bits. well, one might say, it's just the data
just shifted in, so it's completely uninteresting. BUT: the decryption
of the loader is done in hardware. it's a part between the SO line
of the IPL and the DI port of the shift register. (the encryption
is build into the flipper, so no way to intercept the content AFTER
decryption).so because the (decrypted) data just shifted in (and stored
into memory) is shifted out again - we can get the decrypted data.
if you sniff the SI line to the IPL chip, you will get a log like
this:<br><br><tt>00 00 40 00 (address written to the IPL, in this case: 0x100)</tt>&nbsp;<br><tt>FF FF FF FF (well just dummy data)</tt>&nbsp;<br><tt>xx xx xx xx (the data from the last 4 bytes, decrypted)</tt>&nbsp;<br><tt>...</tt>&nbsp;<br><tt>...</tt>&nbsp;<br><tt>xx xx xx xx (the data from the n-1 transfer, decrypted)</tt><br><br>
so in the end you get every 32bit words except one. For every transfered
block you miss 32bits of plaintext data, but you'll get the rest.
This should be enough to decrypt huge parts of the bios, and thus
recover a large part of K.
      <div class="idx"><a href="#idx2.8.2">index</a></div>
<h4>
<a name="sec2.8.2">
2.8.2</a>&nbsp;&nbsp;Cyphertext algorithm</h4>
<br>
todo
      <div class="idx"><a href="#idx2.8.3">index</a></div>
<h4>
<a name="sec2.8.3">
2.8.3</a>&nbsp;&nbsp;replacing the IPL</h4>
<br>
using the above gained knowledge it is possible to create a small
bootrom replacement (using the, yet incomplete, cyphertext), and get
more (most) of the IPL Cleartext.<br><br>
The Gekko boots from 0x100, that's what you read in almost any ppc
instruction manual - the reset vector. well, this isn't the complete
truth - it boots from it's exception base + 0x100. And the exception
base is normally zero, BUT, as the ppc manual states: there's a bit
in a HID (i think) register, which turns the exception base to 0xFFF00000.
and this bit is "set usually at boot time". So the
processor starts to fetch instructions at 0xFFF000100. If you read
a bit further, you'll notice that the CPU always reads 64bits at once
for code. The memory at 0xFFF00000 is mapped inside the flipper to
an automated exi transfer (with that shift register), with the decryption
logic active. so the processor starts executing the decrypted instructions,
reading 8 bytes at a time, of which we get 4 bytes in plain - not
much, (although enough to make some funny experiments, but that's
another topic). Luckily, the IPL itself (the cube menu) isn't executed
this way since that wouldn't be possible thanks to the "dumb"
decryption logic The first ~0x800 bytes start to read
data out of the IPL chip and store it to memory (still using the hardware
decryption logic), and jump there. they read 1024 bytes at once. Well
- now we know 1020 bytes of each transfer, enough to have a complete
block of code we can exchange (we have the ciphertext Cl^K
= Ci on SO, and the plaintext (delayed by 32bits on SI), and can XOR
them to get Cl^K^Ci = K. now we
can encrypt our code with K). so now we can make a small code which
just dumps the whole IPL - well, to the EXI bus or whereever you can
receive it. Now we have all Cl, and thus we can compute all K, thus
we can get the complete Plaintext of all available IPLs aswell as
encode a larger custom IPL ourselves.<br><br>
a small note on why you can not recover the plaintext of the original
loader this way:<br><br>
The decryption logic is, whatever it is, a PRNG. It generates a stream
of ciphertext ("K"), which has random properties
(non-repeating, at least not in the range of some MB), but is always
the same. it is incremented with every EXI-transfer. the address is
NOT used in the calculation. thus reading from 0xFFF00100 more than
one time will give you each time another result. the first time you
get Ci(0)^K(0) (the correct result), the second time
you get Ci(0)^K(1) etc., i.e. wrong results. Since
we never get the K(n) for odd n, i see no chance of recovering it
this way, even if we can read at 0xFFF00000+x (and we can do this
if we don't set a specific bit to disable the logic).
 <div class="idx"><a href="#idx3">index</a></div>
<h2>
<a name="sec3">
3</a>&nbsp;&nbsp;Gekko CPU Overview</h2>
<br><div class="idx"><a href="#idx3.1">index</a></div>
<h3>
<a name="sec3.1">
3.1</a>&nbsp;&nbsp;Registers</h3>
<br><ul>
<li> General purpose registers (r0-r31)
<ul>
<li> r1 sp stackpointer
</li>
<li> r2 rtoc global pointer to _SDA2_BASE_
</li>
<li> r13 global pointer to _SDA_BASE_
</li>
</ul>
</li>
<li> Floating point registers (fp0-fp31)
</li>
<li> Segment registers (sr0-sr15) - unused in regular (SDK/DolphinOS) applications
</li>
<li> Special purpose registers (spr0-spr1023)
<ul>
<li> spr8 (lr) - link register
</li>
<li> spr920 - HID2
</li>
<li> spr1010 - instruction breakpoint address
</li>
<li> spr1013 - data breakpoint address
</li>
</ul>
</li>
</ul>
<table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center">spr920</td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">HID2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PSE - Paired-Single load and store instructions enabled</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LSQE - Paired-Single mode enabled</td>
</tr>
</table>
</td></tr>
</table>
<br><div class="idx"><a href="#idx3.2">index</a></div>
<h3>
<a name="sec3.2">
3.2</a>&nbsp;&nbsp;Calling conventions</h3>
<br>
parameters are passed in r3 (1st) r4 (2nd) and r5 (third) up to r12
(9th), further parameters are passed through the stack.
     <div class="idx"><a href="#idx3.3">index</a></div>
<h3>
<a name="sec3.3">
3.3</a>&nbsp;&nbsp;PPC Instructions</h3>
<br><div class="idx"><a href="#idx3.3.1">index</a></div>
<h4>
<a name="sec3.3.1">
3.3.1</a>&nbsp;&nbsp;Integer Instructions</h4>
<br><table><tr><td nowrap>
<table>
<tr>
<td nowrap><b>Mnemonic</b></td>
<td nowrap align="center"><b>Opcode</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>addi</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>addis</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>add</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>addo</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>subf</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>subfo</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>addic</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>subfic</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>addc</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>addco</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>subfc</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>subfco</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>adde</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>addeo</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>subfe</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>subfeo</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>addme</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>addmeo</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>subfme</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>subfmeo</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>addze</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>addzeo</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>subfze</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>subfzeo</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>neg</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>nego</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mulli</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mullw</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mullwo</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mulhw</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mulhwu</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>divw</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>divwo</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>divwu</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>divwuo</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>cmpi</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>cmp</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>cmpli</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>cmpl</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table>
<tr>
<td nowrap><b>Mnemonic</b></td>
<td nowrap align="center"><b>Opcode</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>andi</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>andis</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>ori</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>oris</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>xori</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>xoris</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>and</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>or</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>xor</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>nand</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>nor</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>eqv</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>andc</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>orc</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table>
<tr>
<td nowrap><b>Mnemonic</b></td>
<td nowrap align="center"><b>Opcode</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>extsb</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>extsh</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>cntlzw</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>rlwinm</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>rlwnm</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>rlwimi</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>slw</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>srw</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>srawi</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>sraw</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx3.3.2">index</a></div>
<h4>
<a name="sec3.3.2">
3.3.2</a>&nbsp;&nbsp;Floating-Point Instructions</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap><b>Mnemonic</b></td>
<td nowrap align="center"><b>Opcode</b></td>
<td nowrap align="center"><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>fadd</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fadds (*)</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fsub</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fsubs (*)</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fmul</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fmuls (*)</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fdiv</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fdivs</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fres (*)</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>frsqrte</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fsel (*)</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fmadd</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fmadds (*)</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fmsub</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fmsubs (*)</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fnmadd</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fnmadds (*)</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fnmsub</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fnmsubs (*)</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>frsp (*)</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fctiw</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fctiwz</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fcmpu</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fcmpo</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mffs</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mcrfs</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mtfsfi</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mtfsf</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mtfsb0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mtfsb1</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fmr (*)</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fneg</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fabs</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fnabs</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
</table>
</td></tr></table>
<br>
(*) - modified for paired singles
      <div class="idx"><a href="#idx3.3.3">index</a></div>
<h4>
<a name="sec3.3.3">
3.3.3</a>&nbsp;&nbsp;Integer Load and Store Instructions</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap><b>Mnemonic</b></td>
<td nowrap align="center"><b>Opcode</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>lbz</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lbzx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lbzu</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lbzux</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lhz</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lhzx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lhzu</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lhzux</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lha</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lhax</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lhau</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lhaux</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lwz</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lwzx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lwzu</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lwzux</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stb</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stbx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stbu</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stbux</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>sth</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>sthx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>sthu</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>sthux</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stw</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stwx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stwu</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stwux</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lhbrx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lwbrx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>sthbrx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stwbrx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lmw</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stmw</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lswi</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lswx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stswi</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stswx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx3.3.4">index</a></div>
<h4>
<a name="sec3.3.4">
3.3.4</a>&nbsp;&nbsp;Floating-Point Load and Store Instructions</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap><b>Mnemonic</b></td>
<td nowrap align="center"><b>Opcode</b></td>
<td nowrap align="center"><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>lfs</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lfsx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lfsu</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lfsux</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lfd</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lfdx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lfdu</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lfdux</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stfs</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stfsx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stfsu</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stfsux</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stfd</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stfdx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stfdu</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stfdux</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stfiwx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx3.3.5">index</a></div>
<h4>
<a name="sec3.3.5">
3.3.5</a>&nbsp;&nbsp;Branch Instructions</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap><b>Mnemonic</b></td>
<td nowrap align="center"><b>Opcode</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>b</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unconditional Jump</td>
</tr>
<tr>
<td nowrap><tt>ba</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>bl</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>branch and link</td>
</tr>
<tr>
<td nowrap><tt>bla</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>bc</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>bca</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>bcl</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>bcla</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>bclr</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>bclrl</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>bcctr</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>bcctrl</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx3.3.6">index</a></div>
<h4>
<a name="sec3.3.6">
3.3.6</a>&nbsp;&nbsp;Condition Register Logical Instructions</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap><b>Mnemonic</b></td>
<td nowrap align="center"><b>Opcode</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>crand</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>cror</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>crxor</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>crnand</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>crnor</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>creqv</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>crandc</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>crorc</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mcrf</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx3.3.7">index</a></div>
<h4>
<a name="sec3.3.7">
3.3.7</a>&nbsp;&nbsp;Misc Instructions</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap><b>Mnemonic</b></td>
<td nowrap align="center"><b>Opcode</b></td>
<td nowrap align="center"><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>twi</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>tw</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>sc</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>rfi</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mtcrf</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mcrxr</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mfcr</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mtmsr</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mfmsr</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mtspr</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mfspr</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>lwarx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>stwcx.</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>sync</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mftb</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>eieio</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>isync</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>dcbt</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>dcbtst</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>dcbz</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>dcbz_l</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>dcbst</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>dcbf</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>dcbi</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>icbi</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>eciwx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>ecowx</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mtsr</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mtsrin</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mfsr</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>mfsrin</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>tlbie</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>tlbsync</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx3.4">index</a></div>
<h3>
<a name="sec3.4">
3.4</a>&nbsp;&nbsp;additional Gekko Instructions</h3>
<br>
The Gekko has some additional (and some modified respectivly) instructions
in its Paired-single mode which are useful for fast vector and matrix
calculations and which are analog to Intel (and other x86 series)
processors "streamed instructions", known as SSE.
This extension is unique for the Gekko processor and used to calculate
two single-precision numbers ("floats" in C) in
one clock cycle. The floating-Point Registers of the Gekko (FPRs)
are modified in the following way : one half is used for the first
single number, and other for the second. These parts are named as
"PS0" and "PS1". PS instructionset
is divided into two parts : Load and Store Quantization and Paired-Single
Arithmetic instructions. Load and Store Quantization instructions
are used for fast integer-float type casting and some specific memory
operations, using PS0 and PS1 parts of FPR. If you try to execute
any PS instruction without HID2[PSE] and HID2[LSQE] bit set, an
illegal instruction exception will be generated.
      <div class="idx"><a href="#idx3.4.1">index</a></div>
<h4>
<a name="sec3.4.1">
3.4.1</a>&nbsp;&nbsp;FPR format in paired-single mode</h4>
<br><table>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>63</tt></td>
<td nowrap align="right"><tt>56</tt></td>
<td nowrap><tt>55</tt></td>
<td nowrap align="right"><tt>48</tt></td>
<td nowrap><tt>57</tt></td>
<td nowrap align="right"><tt>40</tt></td>
<td nowrap><tt>39</tt></td>
<td nowrap align="right"><tt>32</tt></td>
</tr>
<tr>
<td nowrap><tt>1111</tt></td>
<td nowrap align="right"><tt>1111</tt></td>
<td nowrap><tt>1111</tt></td>
<td nowrap align="right"><tt>1111</tt></td>
<td nowrap><tt>1111</tt></td>
<td nowrap align="right"><tt>1111</tt></td>
<td nowrap><tt>1111</tt></td>
<td nowrap align="right"><tt>1111</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>0000</tt></td>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>0000</tt></td>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>0000</tt></td>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>0000</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">32-63</td>
<td nowrap align="center">1</td>
<td nowrap>PS1</td>
</tr>
<tr>
<td nowrap align="center">0-31</td>
<td nowrap align="center">0</td>
<td nowrap>PS0</td>
</tr>
</table>
</td></tr>
</table>
<br><div class="idx"><a href="#idx3.4.2">index</a></div>
<h4>
<a name="sec3.4.2">
3.4.2</a>&nbsp;&nbsp;Arithmetic Instructions</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap><b>Mnemonic</b></td>
<td nowrap><b>Opcode</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>ps_abs</tt></td>
<td nowrap><tt>000100 DDDDD 00000 BBBBB 01000 01000 R</tt></td>
<td nowrap>absolute value</td>
</tr>
<tr>
<td nowrap><tt>ps_add</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB 00000 10101 R</tt></td>
<td nowrap>add</td>
</tr>
<tr>
<td nowrap><tt>ps_cmpo0</tt></td>
<td nowrap><tt>000100 DDD00 AAAAA BBBBB 00001 00000 0</tt></td>
<td nowrap>compare ordered high</td>
</tr>
<tr>
<td nowrap><tt>ps_cmpo1</tt></td>
<td nowrap><tt>000100 DDD00 AAAAA BBBBB 00011 00000 0</tt></td>
<td nowrap>compare ordered low</td>
</tr>
<tr>
<td nowrap><tt>ps_cmpu0</tt></td>
<td nowrap><tt>000100 DDD00 AAAAA BBBBB 00000 00000 0</tt></td>
<td nowrap>compare unordered high</td>
</tr>
<tr>
<td nowrap><tt>ps_cmpu1</tt></td>
<td nowrap><tt>000100 DDD00 AAAAA BBBBB 00010 00000 0</tt></td>
<td nowrap>compare unordered low</td>
</tr>
<tr>
<td nowrap><tt>ps_div</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB 00000 10010 R</tt></td>
<td nowrap>divide</td>
</tr>
<tr>
<td nowrap><tt>ps_merge00</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB 10000 10000 R</tt></td>
<td nowrap>merge high</td>
</tr>
<tr>
<td nowrap><tt>ps_merge01</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB 10001 10000 R</tt></td>
<td nowrap>merge direct</td>
</tr>
<tr>
<td nowrap><tt>ps_merge10</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB 10010 10000 R</tt></td>
<td nowrap>merge swapped</td>
</tr>
<tr>
<td nowrap><tt>ps_merge11</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB 10011 10000 R</tt></td>
<td nowrap>merge low</td>
</tr>
<tr>
<td nowrap><tt>ps_mr</tt></td>
<td nowrap><tt>000100 DDDDD 00000 BBBBB 00010 01000 R</tt></td>
<td nowrap>move register</td>
</tr>
<tr>
<td nowrap><tt>ps_nabs</tt></td>
<td nowrap><tt>000100 DDDDD 00000 BBBBB 00100 01000 R</tt></td>
<td nowrap>negate absolute value</td>
</tr>
<tr>
<td nowrap><tt>ps_neg</tt></td>
<td nowrap><tt>000100 DDDDD 00000 BBBBB 00001 01000 R</tt></td>
<td nowrap>negate</td>
</tr>
<tr>
<td nowrap><tt>ps_res</tt></td>
<td nowrap><tt>000100 DDDDD 00000 BBBBB 00000 11000 R</tt></td>
<td nowrap>reciprocal estimate</td>
</tr>
<tr>
<td nowrap><tt>ps_rsqrte</tt></td>
<td nowrap><tt>000100 DDDDD 00000 BBBBB 00000 11010 R</tt></td>
<td nowrap>reciprocal square root estimate</td>
</tr>
<tr>
<td nowrap><tt>ps_sub</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB 00000 10100 R </tt></td>
<td nowrap>substract</td>
</tr>
<tr>
<td nowrap><tt>ps_madd</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB CCCCC 11101 R </tt></td>
<td nowrap>multiply and add</td>
</tr>
<tr>
<td nowrap><tt>ps_madds0</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB CCCCC 01110 R</tt></td>
<td nowrap>multiply and add scalar high</td>
</tr>
<tr>
<td nowrap><tt>ps_madds1</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB CCCCC 01111 R</tt></td>
<td nowrap>multiply and add scalar low</td>
</tr>
<tr>
<td nowrap><tt>ps_msub</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB CCCCC 11100 R</tt></td>
<td nowrap>multiply and substract</td>
</tr>
<tr>
<td nowrap><tt>ps_mul</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA 00000 CCCCC 11001 R</tt></td>
<td nowrap>multiply</td>
</tr>
<tr>
<td nowrap><tt>ps_muls0</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA 00000 CCCCC 01100 R</tt></td>
<td nowrap>multiply scalar high</td>
</tr>
<tr>
<td nowrap><tt>ps_muls1</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA 00000 CCCCC 01101 R</tt></td>
<td nowrap>multiply scalar low</td>
</tr>
<tr>
<td nowrap><tt>ps_nmadd</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB CCCCC 11111 R</tt></td>
<td nowrap>negative multiply and add</td>
</tr>
<tr>
<td nowrap><tt>ps_nmsub</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB CCCCC 11110 R</tt></td>
<td nowrap>negative multiply and substract</td>
</tr>
<tr>
<td nowrap><tt>ps_sel</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB CCCCC 10111 R</tt></td>
<td nowrap>select</td>
</tr>
<tr>
<td nowrap><tt>ps_sum0</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB CCCCC 01010 R</tt></td>
<td nowrap>vector sum high</td>
</tr>
<tr>
<td nowrap><tt>ps_sum1</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB CCCCC 01011 R</tt></td>
<td nowrap>vector sum low</td>
</tr>
</table>
</td></tr></table>
<br>
Note : R opcode field (comparsion of result with zero) is unused.
(=0)
<h5>3.4.2.1 <a name="sec3.4.2.1">
    &nbsp;&nbsp;PS_ABS</a>
</h5>
<br>
absolute value
<tt>Clear bit 0 of PS0[B] and copy result to PS0[D]</tt><br><tt>Clear bit 0 of PS1[B] and copy result to PS1[D]</tt><br><h5>3.4.2.2 <a name="sec3.4.2.2">
    &nbsp;&nbsp;PS_ADD</a>
</h5>
<br>
add
<tt>PS0[D] = PS0[A] + PS0[B]</tt><br><tt>PS1[D] = PS1[A] + PS1[B]</tt><br><h5>3.4.2.3 <a name="sec3.4.2.3">
    &nbsp;&nbsp;PS_CMPO0</a>
</h5>
<br>
compare ordered high
<tt>"c" holds result of comparsion</tt><br><tt>If (PS0[A] is NaN or PS0[B] is NaN) then c = 0001b</tt><br><tt>Else if (PS0[A] &lt; PS0[B]) then c = 1000b</tt><br><tt>Else if (PS0[A] &gt; PS0[B]) then c = 0100b</tt><br><tt>Else c = 0010b</tt><br><tt>Save result in D field of condition register (CR[D] = c).</tt><br><h5>3.4.2.4 <a name="sec3.4.2.4">
    &nbsp;&nbsp;PS_CMPO1</a>
</h5>
<br>
compare ordered low
<tt>"c" holds result of comparsion</tt><br><tt>If (PS1[A] is NaN or PS1[B] is NaN) then c = 0001b</tt><br><tt>Else if (PS1[A] &lt; PS1[B]) then c = 1000b</tt><br><tt>Else if (PS1[A] &gt; PS1[B]) then c = 0100b</tt><br><tt>Else c = 0010b</tt><br><tt>Save result in D field of condition register (CR[D] = c).</tt><br><h5>3.4.2.5 <a name="sec3.4.2.5">
    &nbsp;&nbsp;PS_CMPU0</a>
</h5>
<br>
compare unordered high
<tt>"c" holds result of comparsion</tt><br><tt>If (PS0[A] is NaN or PS0[B] is NaN) then c = 0001b</tt><br><tt>Else if (PS0[A] &lt; PS0[B]) then c = 1000b</tt><br><tt>Else if (PS0[A] &gt; PS0[B]) then c = 0100b</tt><br><tt>Else c = 0010b</tt><br><tt>Save result in D field of condition register (CR[D] = c).</tt><br><h5>3.4.2.6 <a name="sec3.4.2.6">
    &nbsp;&nbsp;PS_CMPU1</a>
</h5>
<br>
compare unordered low
<tt>"c" holds result of comparsion</tt><br><tt>If (PS1[A] is NaN or PS1[B] is NaN) then c = 0001b</tt><br><tt>Else if (PS1[A] &lt; PS1[B]) then c = 1000b</tt><br><tt>Else if (PS1[A] &gt; PS1[B]) then c = 0100b</tt><br><tt>Else c = 0010b</tt><br><tt>Save result in D field of condition register (CR[D] = c).</tt><br><tt>These four compare instructions looks same, because I omitted
some</tt><br><tt>unecessary FPSCR stuff.</tt><br><h5>3.4.2.7 <a name="sec3.4.2.7">
    &nbsp;&nbsp;PS_DIV</a>
</h5>
<br>
divide
<tt>PS0[D] = PS0[A] / PS0[B]</tt><br><tt>PS1[D] = PS1[A] / PS1[B]</tt><br><h5>3.4.2.8 <a name="sec3.4.2.8">
    &nbsp;&nbsp;PS_MERGE00</a>
</h5>
<br>
merge high
<tt>PS0[D] = PS0[A]</tt><br><tt>PS1[D] = PS0[B]</tt><br><h5>3.4.2.9 <a name="sec3.4.2.9">
    &nbsp;&nbsp;PS_MERGE01</a>
</h5>
<br>
merge direct
<tt>PS0[D] = PS0[A]</tt><br><tt>PS1[D] = PS1[B]</tt><br><h5>3.4.2.10 <a name="sec3.4.2.10">
    &nbsp;&nbsp;PS_MERGE10</a>
</h5>
<br>
merge swapped
<tt>PS0[D] = PS1[A]</tt><br><tt>PS1[D] = PS0[B]</tt><br><h5>3.4.2.11 <a name="sec3.4.2.11">
    &nbsp;&nbsp;PS_MERGE11</a>
</h5>
<br>
merge low
<tt>PS0[D] = PS1[A]</tt><br><tt>PS1[D] = PS1[B]</tt><br><h5>3.4.2.12 <a name="sec3.4.2.12">
    &nbsp;&nbsp;PS_MR</a>
</h5>
<br>
move register
<tt>PS0[D] = PS0[B]</tt><br><tt>PS1[D] = PS1[B]</tt><br><h5>3.4.2.13 <a name="sec3.4.2.13">
    &nbsp;&nbsp;PS_NABS</a>
</h5>
<br>
negate absolute value
<tt>Set bit 0 of PS0[B] and copy result to PS0[D]</tt><br><tt>Set bit 0 of PS1[B] and copy result to PS1[D]</tt><br><h5>3.4.2.14 <a name="sec3.4.2.14">
    &nbsp;&nbsp;PS_NEG</a>
</h5>
<br>
negate
<tt>Invert bit 0 of PS0[B] and copy result to PS0[D]</tt><br><tt>Invert bit 0 of PS1[B] and copy result to PS1[D]</tt><br><h5>3.4.2.15 <a name="sec3.4.2.15">
    &nbsp;&nbsp;PS_RES</a>
</h5>
<br>
reciprocal estimate
<tt>PS0[D] = 1 / PS0[B]</tt><br><tt>PS1[D] = 1 / PS1[B]</tt><br><h5>3.4.2.16 <a name="sec3.4.2.16">
    &nbsp;&nbsp;PS_RSQRTE</a>
</h5>
<br>
reciprocal square root estimate
<tt>PS0[D] = 1 / SQRT(PS0[B])</tt><br><tt>PS1[D] = 1 / SQRT(PS1[B])</tt><br><h5>3.4.2.17 <a name="sec3.4.2.17">
    &nbsp;&nbsp;PS_SUB</a>
</h5>
<br>
subtract
<tt>PS0[D] = PS0[A] - PS0[B]</tt><br><tt>PS1[D] = PS1[A] - PS1[B]</tt><br><h5>3.4.2.18 <a name="sec3.4.2.18">
    &nbsp;&nbsp;PS_MADD</a>
</h5>
<br>
multiply-add
<tt>PS0[D] = PS0[A] * PS0[C] + PS0[B]</tt><br><tt>PS1[D] = PS1[A] * PS1[C] + PS1[B]</tt><br><h5>3.4.2.19 <a name="sec3.4.2.19">
    &nbsp;&nbsp;PS_MADDS0</a>
</h5>
<br>
multiply-add scalar high
<tt>PS0[D] = PS0[A] * PS0[C] + PS0[B]</tt><br><tt>PS1[D] = PS1[A] * PS0[C] + PS1[B]</tt><br><h5>3.4.2.20 <a name="sec3.4.2.20">
    &nbsp;&nbsp;PS_MADDS1</a>
</h5>
<br>
multiply-add scalar low
<tt>PS0[D] = PS0[A] * PS1[C] + PS0[B]</tt><br><tt>PS1[D] = PS1[A] * PS1[C] + PS1[B]</tt><br><h5>3.4.2.21 <a name="sec3.4.2.21">
    &nbsp;&nbsp;PS_MSUB</a>
</h5>
<br>
multiply-subtract
<tt>PS0[D] = PS0[A] * PS0[C] - PS0[B]</tt><br><tt>PS1[D] = PS1[A] * PS1[C] - PS1[B]</tt><br><h5>3.4.2.22 <a name="sec3.4.2.22">
    &nbsp;&nbsp;PS_MUL</a>
</h5>
<br>
multiply
<tt>PS0[D] = PS0[A] + PS0[C]</tt><br><tt>PS1[D] = PS1[A] + PS1[C]</tt><br><h5>3.4.2.23 <a name="sec3.4.2.23">
    &nbsp;&nbsp;PS_MULS0</a>
</h5>
<br>
multiply scalar high
<tt>PS0[D] = PS0[A] + PS0[C]</tt><br><tt>PS1[D] = PS1[A] + PS0[C]</tt><br><h5>3.4.2.24 <a name="sec3.4.2.24">
    &nbsp;&nbsp;PS_MULS1</a>
</h5>
<br>
multiply scalar low
<tt>PS0[D] = PS0[A] + PS1[C]</tt><br><tt>PS1[D] = PS1[A] + PS1[C]</tt><br><h5>3.4.2.25 <a name="sec3.4.2.25">
    &nbsp;&nbsp;PS_NMADD</a>
</h5>
<br>
negative multiply-add
<tt>PS0[D] = - (PS0[A] * PS0[C] + PS0[B])</tt><br><tt>PS1[D] = - (PS1[A] * PS1[C] + PS1[B])</tt><br><h5>3.4.2.26 <a name="sec3.4.2.26">
    &nbsp;&nbsp;PS_NMSUB</a>
</h5>
<br>
negative multiply-subtract
<tt>PS0[D] = - (PS0[A] * PS0[C] - PS0[B])</tt><br><tt>PS1[D] = - (PS1[A] * PS1[C] - PS1[B])</tt><br><h5>3.4.2.27 <a name="sec3.4.2.27">
    &nbsp;&nbsp;PS_SEL</a>
</h5>
<br>
select
<tt>If (PS0[A] &gt;= 0) then PS0[D] = PS0[C] else PS0[D]
= PS0[B]</tt><br><tt>If (PS1[A] &gt;= 0) then PS1[D] = PS1[C] else PS1[D]
= PS1[B]</tt><br><h5>3.4.2.28 <a name="sec3.4.2.28">
    &nbsp;&nbsp;PS_SUM0</a>
</h5>
<br>
vector sum high
<tt>PS0[D] = PS0[A] + PS1[B]</tt><br><tt>PS1[D] = PS1[C]</tt><br><h5>3.4.2.29 <a name="sec3.4.2.29">
    &nbsp;&nbsp;PS_SUM1 </a>
</h5>
<br>
vector sum low
<tt>PS0[D] = PS0[C]</tt><br><tt>PS1[D] = PS0[A] + PS1[B]</tt><br><div class="idx"><a href="#idx3.4.3">index</a></div>
<h4>
<a name="sec3.4.3">
3.4.3</a>&nbsp;&nbsp;Load and Store Instructions</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap><b>Mnemonic</b></td>
<td nowrap><b>Opcode</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>psq_lx</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB WIII 000110 0</tt></td>
<td nowrap>Paired Singles Quantized Load indexed</td>
</tr>
<tr>
<td nowrap><tt>psq_lux</tt></td>
<td nowrap><tt>000100 DDDDD AAAAA BBBBB WIII 100110 0</tt></td>
<td nowrap>Paired Singles Quantized Load with Update indexed</td>
</tr>
<tr>
<td nowrap><tt>psq_stx</tt></td>
<td nowrap><tt>000100 SSSSS AAAAA BBBBB WIII 000111 0</tt></td>
<td nowrap>Paired Singles Quantized Store indexed</td>
</tr>
<tr>
<td nowrap><tt>psq_stux</tt></td>
<td nowrap><tt>000100 SSSSS AAAAA BBBBB WIII 100111 0</tt></td>
<td nowrap>Paired Singles Quantized Store with Update indexed</td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap><b>Mnemonic</b></td>
<td nowrap><b>Opcode</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>psq_l</tt></td>
<td nowrap><tt>111000 DDDDD AAAAA WIII dddddddddddd</tt></td>
<td nowrap>Paired Singles Quantized Load</td>
</tr>
<tr>
<td nowrap><tt>psq_lu</tt></td>
<td nowrap><tt>111001 DDDDD AAAAA WIII dddddddddddd</tt></td>
<td nowrap>Paired Singles Quantized Load with Update</td>
</tr>
<tr>
<td nowrap><tt>psq_st</tt></td>
<td nowrap><tt>111100 SSSSS AAAAA WIII dddddddddddd</tt></td>
<td nowrap>Paired Singles Quantized Store</td>
</tr>
<tr>
<td nowrap><tt>psq_stu</tt></td>
<td nowrap><tt>111101 SSSSS AAAAA WIII dddddddddddd</tt></td>
<td nowrap>Paired Singles Quantized Store with Update</td>
</tr>
</table>
</td></tr></table>
<br><h5>3.4.3.1 <a name="sec3.4.3.1">
    &nbsp;&nbsp;psq_lx</a>
</h5>
<br>
Paired Singles Quantized Load indexed
<h5>3.4.3.2 <a name="sec3.4.3.2">
    &nbsp;&nbsp;psq_lux</a>
</h5>
<br>
Paired Singles Quantized Load with Update indexed
<h5>3.4.3.3 <a name="sec3.4.3.3">
    &nbsp;&nbsp;psq_stx</a>
</h5>
<br>
Paired Singles Quantized Store indexed
<h5>3.4.3.4 <a name="sec3.4.3.4">
    &nbsp;&nbsp;psq_stux</a>
</h5>
<br>
Paired Singles Quantized Store with Update indexed
<h5>3.4.3.5 <a name="sec3.4.3.5">
    &nbsp;&nbsp;psq_l</a>
</h5>
<br>
Paired Singles Quantized Load
<h5>3.4.3.6 <a name="sec3.4.3.6">
    &nbsp;&nbsp;psq_lu</a>
</h5>
<br>
Paired Singles Quantized Load with Update
<h5>3.4.3.7 <a name="sec3.4.3.7">
    &nbsp;&nbsp;psq_st</a>
</h5>
<br>
Paired Singles Quantized Store
<h5>3.4.3.8 <a name="sec3.4.3.8">
    &nbsp;&nbsp;psq_stu</a>
</h5>
<br>
Paired Singles Quantized Store with Update
      <div class="idx"><a href="#idx3.4.4">index</a></div>
<h4>
<a name="sec3.4.4">
3.4.4</a>&nbsp;&nbsp;modified floating point instructions</h4>
<br>
In paired single mode (HID2[PSE] = 1), all the double-precision
floating point instructions are still valid, and execute as in non-paired
single mode. All single-precision floating-point instructions (fadds,
fsubs, fmuls, fdivs, fmadds, fmsubs, fnmadds, fnmsubs, fres, frsp)
switch their meaning and operate on the ps0 operand.<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap><b>Mnemonic</b></td>
<td nowrap><b>Opcode</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>fadds</tt></td>
<td nowrap>&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fsubs</tt></td>
<td nowrap>&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fmuls</tt></td>
<td nowrap>&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fdivs</tt></td>
<td nowrap>&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fmadds</tt></td>
<td nowrap>&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fmsubs</tt></td>
<td nowrap>&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fnmadds</tt></td>
<td nowrap>&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fnmsubs</tt></td>
<td nowrap>&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fres</tt></td>
<td nowrap>&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>frsp</tt></td>
<td nowrap>&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fsel</tt></td>
<td nowrap>&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap><tt>fmr</tt></td>
<td nowrap>&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td></tr></table>
<br><h5>3.4.4.1 <a name="sec3.4.4.1">
    &nbsp;&nbsp;fadds</a>
</h5>
<br><h5>3.4.4.2 <a name="sec3.4.4.2">
    &nbsp;&nbsp;fsubs</a>
</h5>
<br><h5>3.4.4.3 <a name="sec3.4.4.3">
    &nbsp;&nbsp;fmuls</a>
</h5>
<br><h5>3.4.4.4 <a name="sec3.4.4.4">
    &nbsp;&nbsp;fdivs</a>
</h5>
<br><h5>3.4.4.5 <a name="sec3.4.4.5">
    &nbsp;&nbsp;fmadds</a>
</h5>
<br><h5>3.4.4.6 <a name="sec3.4.4.6">
    &nbsp;&nbsp;fmsubs</a>
</h5>
<br><h5>3.4.4.7 <a name="sec3.4.4.7">
    &nbsp;&nbsp;fnmadds</a>
</h5>
<br><h5>3.4.4.8 <a name="sec3.4.4.8">
    &nbsp;&nbsp;fnmsubs</a>
</h5>
<br><h5>3.4.4.9 <a name="sec3.4.4.9">
    &nbsp;&nbsp;fres</a>
</h5>
<br><h5>3.4.4.10 <a name="sec3.4.4.10">
    &nbsp;&nbsp;frsp</a>
</h5>
<br><h5>3.4.4.11 <a name="sec3.4.4.11">
    &nbsp;&nbsp;fsel</a>
</h5>
<br><h5>3.4.4.12 <a name="sec3.4.4.12">
    &nbsp;&nbsp;fmr</a>
</h5>
<br><div class="idx"><a href="#idx3.5">index</a></div>
<h3>
<a name="sec3.5">
3.5</a>&nbsp;&nbsp;Programming Tips and additional information</h3>
<br><div class="idx"><a href="#idx3.5.1">index</a></div>
<h4>
<a name="sec3.5.1">
3.5.1</a>&nbsp;&nbsp;Machine State Register</h4>
<br>
to do
      <div class="idx"><a href="#idx3.5.2">index</a></div>
<h4>
<a name="sec3.5.2">
3.5.2</a>&nbsp;&nbsp;Caches</h4>
<br>
to do
      <div class="idx"><a href="#idx3.5.3">index</a></div>
<h4>
<a name="sec3.5.3">
3.5.3</a>&nbsp;&nbsp;branch unit</h4>
<br>
to flush branch unit's dynamic prediction logic, you must sequentially
execute 3 branches<br><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b label1</tt>&nbsp;<br><tt>label1: b label2</tt>&nbsp;<br><tt>label2: b label3</tt>&nbsp;<br><tt>label3:</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;....</tt>&nbsp;<br><tt></tt>&nbsp;<br><div class="idx"><a href="#idx4">index</a></div>
<h2>
<a name="sec4">
4</a>&nbsp;&nbsp;Memory Map</h2>
<br><div class="idx"><a href="#idx4.1">index</a></div>
<h3>
<a name="sec4.1">
4.1</a>&nbsp;&nbsp;Overview</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00000000</tt></td>
<td nowrap align="center"><tt>0x017fffff</tt></td>
<td nowrap align="center">24MB</td>
<td nowrap>Physical address of the RAM</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000000</tt></td>
<td nowrap align="center"><tt>0x817fffff</tt></td>
<td nowrap align="center">24MB</td>
<td nowrap>Logical address of the RAM, cached</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xC0000000</tt></td>
<td nowrap align="center"><tt>0xC17fffff</tt></td>
<td nowrap align="center">24MB</td>
<td nowrap>Logical address of the RAM, not cached</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xc8000000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">2MB</td>
<td nowrap>Embedded Framebuffer (EFB)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC000000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Hardware registers</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC000000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CP - Command Processor</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC001000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PE - Pixel Engine</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC002000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VI - Video Interface</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC003000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PI - Processor Interface (Interrupt Interface)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC004000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MI - Memory Interface</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC005000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>AI - Audio Interface</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC006000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DI - DVD Interface</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC006400</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SI - Serial Interface</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC006800</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>EXI - External Interface</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC006C00</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Streaming Interface</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC008000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>GX FIFO (Graphic display lists)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xe0000000</tt></td>
<td nowrap align="center"><tt>0xe0003fff</tt></td>
<td nowrap align="center">16k</td>
<td nowrap>L2 Cache</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xfff00000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1MB</td>
<td nowrap>IPL (mapped here at bootup)</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx4.2">index</a></div>
<h3>
<a name="sec4.2">
4.2</a>&nbsp;&nbsp;RAM usage</h3>
<br>
Variables that are marked as B are changed by bootrom or IPL. Variables
marked as A are changed lately in apploader when a game is booting.
Variables, which are marked as O are changed after an OSInit call.
Remember that the IPL also has a hard-linked Dolphin OS inside, so
those variables that are marked as O are also changed in the IPL.
      <div class="idx"><a href="#idx4.2.1">index</a></div>
<h4>
<a name="sec4.2.1">
4.2.1</a>&nbsp;&nbsp;Dolphin-OS globals</h4>
<br>
In PowerPC architectures the lower 256 bytes of main memory are reserved
for internal OS use. This map describes all known OS low memory variables.
Dolphin OS accesses low memory as 0x80000000 + offset (cached).
<h5>4.2.1.1 <a name="sec4.2.1.1">
    &nbsp;&nbsp;Boot Info</a>
</h5>
<br><br>    &nbsp;&nbsp;&nbsp;<b><a name="sec4.2.1.1.1">
    4.2.1.1.1&nbsp;&nbsp;DVD Disc ID</a>
&nbsp;</b>
<table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000000</tt></td>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center">B</td>
<td nowrap>Gamecode</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000004</tt></td>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap align="center">B</td>
<td nowrap>Company</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000006</tt></td>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap align="center">B</td>
<td nowrap>Disk ID</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000007</tt></td>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap align="center">B</td>
<td nowrap>Version</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000008</tt></td>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap align="center">B</td>
<td nowrap>Streaming</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap colspan="1" align="center"> 
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>audio streaming off</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>audio streaming on</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000009</tt></td>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap align="center">B</td>
<td nowrap>StreamBufSize</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8000000a</tt></td>
<td nowrap align="center"><tt>0x0f</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>padding zeros</td>
</tr>
</table>
</td></tr></table>
<br><br>    &nbsp;&nbsp;&nbsp;<b><a name="sec4.2.1.1.2">
    4.2.1.1.2&nbsp;&nbsp;system Info</a>
&nbsp;</b>
<table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8000001c</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">A</td>
<td nowrap>DVD magic word</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xc2339f3d</tt></td>
<td nowrap align="center">Nintendo Game Disc</td>
</tr></table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000020</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">A</td>
<td nowrap>Magic word (how did the console boot?)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><b>value</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0D15EA5E</tt></td>
<td nowrap>normal boot</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xE5207C22</tt></td>
<td nowrap>booted from jtag</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000024</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">A</td>
<td nowrap>Version (usually set to 1 by apploader)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000028</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">B</td>
<td nowrap>physical Memory Size</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x01800000</tt></td>
<td nowrap align="center">24MB on retail console</td>
</tr></table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8000002C</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">B</td>
<td nowrap>Console type</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><b>value</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00000001</tt></td>
<td nowrap>Retail1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00000002</tt></td>
<td nowrap>HW2 production board</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00000003</tt></td>
<td nowrap>The latest production board</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00000004</tt></td>
<td nowrap>Reserved</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1XXXXXXX</tt></td>
<td nowrap>Devkits</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x10000000</tt></td>
<td nowrap>MAC emulator</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x10000001</tt></td>
<td nowrap>PC Emulator</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x10000002</tt></td>
<td nowrap>'Arthur'</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x10000003</tt></td>
<td nowrap>'Minnow'</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x10000004</tt></td>
<td nowrap>1st Devkit HW</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x10000005</tt></td>
<td nowrap>2nd Devkit HW</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x10000006</tt></td>
<td nowrap>latest Devkit HW</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x10000007</tt></td>
<td nowrap>Reserved</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x2XXXXXXX</tt></td>
<td nowrap>TDEV-kits</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x20000005</tt></td>
<td nowrap>HW2 TDEV system </td>
</tr>
<tr>
<td nowrap align="center"><tt>0x20000006</tt></td>
<td nowrap>The latest TDEV system</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x20000007</tt></td>
<td nowrap>Reserved</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000030</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">O</td>
<td nowrap>ArenaLo (==0x00000000)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000034</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">O</td>
<td nowrap>ArenaHi (==0x817fe8c0)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000038</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FST Location in ram (==0x817fe8c0)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8000003C</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FST Max Length (==0x00000024)</td>
</tr>
</table>
</td></tr></table>
<br><br><h5>4.2.1.2 <a name="sec4.2.1.2">
    &nbsp;&nbsp;Debugger info</a>
</h5>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000040</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">A</td>
<td nowrap>flag for "debugger present" (used by __OSIsDebuggerPresent)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000044</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">A</td>
<td nowrap>Debugger Exception mask Bitmap, set to 0 at sdk lib start</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000048</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">A</td>
<td nowrap>Exception hook destination (physical address)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8000004c</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">A</td>
<td nowrap>Temp for LR, Return from exception address (to return from hook)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000050</tt></td>
<td nowrap align="center"><tt>16</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>padding zeros</td>
</tr>
</table>
</td></tr></table>
<br><h5>4.2.1.3 <a name="sec4.2.1.3">
    &nbsp;&nbsp;Debugger Hook</a>
</h5>
<br><tt>.&gt;80000060&nbsp; 38 a0 00 40&nbsp; li r5,0x40</tt><table align="right" border="border"><tr><td nowrap align="right"><tt>r5=0x40</tt></td></tr></table>
<tt>.&gt;80000064&nbsp; 7c 68 02 a6&nbsp; mflr r3</tt><table align="right" border="border"><tr><td nowrap align="right"><tt>r3=lr</tt></td></tr></table>
<tt>.&gt;80000068&nbsp; 90 65 00 0c&nbsp; stw r3,0x0c(r5)</tt><br><tt>.&gt;8000006c&nbsp; 80 65 00 08&nbsp; lwz r3,0x08(r5)</tt><br><tt>.&gt;80000070&nbsp; 64 63 80 00&nbsp; oris r3,r3,0x8000</tt><br><tt>.&gt;80000074&nbsp; 7c 68 03 a6&nbsp; mtlr r3</tt><table align="right" border="border"><tr><td nowrap align="right"><tt>lr=r3</tt></td></tr></table>
<tt>.&gt;80000078&nbsp; 38 60 00 30&nbsp; li r3,0x30</tt><br><tt>.&gt;8000007c&nbsp; 7c 60 01 24&nbsp; mtmsr r3</tt><table align="right" border="border"><tr><td nowrap align="right"><tt>msr=0x30</tt></td></tr></table>
<tt>.&gt;80000080&nbsp; 4e 80 00 20&nbsp; blr</tt><table align="right" border="border"><tr><td nowrap align="right"><tt>jump (lr)</tt></td></tr></table>
<tt></tt>&nbsp;<br><h5>4.2.1.4 <a name="sec4.2.1.4">
    &nbsp;&nbsp;Dolphin OS Globals</a>
</h5>
<br>
&nbsp;<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000084</tt></td>
<td nowrap align="center"><tt>0x800000bf</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>padding zeros</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000c0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap align="center">O</td>
<td nowrap>Current OS context (physical address)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000C4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">O</td>
<td nowrap>Previous OS interrupt mask</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000C8</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">O</td>
<td nowrap>current OS interrupt mask</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000CC</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TV Mode</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>value</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap>ntsc</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>pal</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>debug</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>debug pal</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>mpal</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>pal 60</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000d0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">B</td>
<td nowrap>ARAM size (internal+expansion) in bytes. set by ARAM driver, usually
16mb.</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000D4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">O</td>
<td nowrap>current OS Context (logical address)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000D8</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">O</td>
<td nowrap>default OS thread (logical address)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000Dc</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">O</td>
<td nowrap>active Thread queue, head thread (logical address)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000e0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">O</td>
<td nowrap>active Thread queue, tail thread (logical address)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000e4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">O</td>
<td nowrap>Current OS thread</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000e8</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">A</td>
<td nowrap>Debug monitor size (in bytes)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000ec</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">A</td>
<td nowrap>Debug monitor location (usually at the top of main memory)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000F0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">A</td>
<td nowrap>Console Simulated Memory Size, 0x01800000 (usually same as physical
memory size)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000F4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">A</td>
<td nowrap>DVD BI2 location in main memory (size of BI2 is 0x2000 bytes)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000F8</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Bus Clock Speed, 162 MHz (=0x09a7ec80, 162000000)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800000FC</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CPU Clock Speed, 486 MHz (=0x1cf7c580, 486000000)</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx4.2.2">index</a></div>
<h4>
<a name="sec4.2.2">
4.2.2</a>&nbsp;&nbsp;Exception Handlers</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000100</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>System Reset Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000200</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Machine Check Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000300</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DSI Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000400</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ISI Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000500</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>External Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000600</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Alignment Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000700</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Program Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000800</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FP unavailable Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000900</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Decrementer Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000C00</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>System Call Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000d00</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Trace Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000f00</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Performance Monitor Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80001300</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>IABR Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80001400</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>reserved</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80001700</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Thermal Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80001800</tt></td>
<td nowrap align="center"><tt>0x80002fff</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved (*)</td>
</tr>
</table>
</td></tr></table>
<br>
(*) note: psoload v2 uses this area to stay resident in memory,
it is unused by Dolphin-OS
      <div class="idx"><a href="#idx4.2.3">index</a></div>
<h4>
<a name="sec4.2.3">
4.2.3</a>&nbsp;&nbsp;Dolphin-OS globals</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80003000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>exception handler vectors (from sdk libs &amp; ipl)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8000303c</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>padding/unused</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80003040</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>external interrupt handler vectors (from sdk libs &amp; ipl)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030a4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>padding/unused</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030c0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030c4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030c8</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>First Module Header Pointer in Module Queue</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030cc</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Last Module Header Pointer in Module Queue</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030d0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Module String Table Pointer</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030d4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap align="center">A</td>
<td nowrap>DOL size (total size of text/data sections), in bytes (*1)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030d8</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">B</td>
<td nowrap>OS system time (set, when console is powered up)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030dc</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030E0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>? (6=production pads ?)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030e4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030e6</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030e7</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030e8</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center">O</td>
<td nowrap>set by OsInit() (debugger stuff?)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030e9</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center">O</td>
<td nowrap>set by OsInit() (debugger stuff?)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030ea</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030ec</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030F0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030F2</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Boot status</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><b>value</b></td>
<td nowrap align="center"><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">first boot</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">already booted</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030F3</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030F4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030F8</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x800030Fc</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
</table>
</td></tr></table>
<br><br>
(*1) If FST on DVD is placed after DOL, then BB2 FSTLength is added
to this value.
      <div class="idx"><a href="#idx4.2.4">index</a></div>
<h4>
<a name="sec4.2.4">
4.2.4</a>&nbsp;&nbsp;User Memory</h4>
<br><h5>4.2.4.1 <a name="sec4.2.4.1">
    &nbsp;&nbsp;user program area</a>
</h5>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80003100</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Start of code (usually)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80003140</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Entry point (early SDK v1.0 applications)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81200000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Load Address of the Apploader</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81300000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Load Address of Bootrom/IPL</td>
</tr>
</table>
</td></tr></table>
<br>
note: of course the entrypoint of an application can be anything,
those listed here are just some typical examples. Retail game start
dol-files are usually located below the apploader.
<h5>4.2.4.2 <a name="sec4.2.4.2">
    &nbsp;&nbsp;stack area</a>
</h5>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt></tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Bottom of Stack</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Top of Stack</td>
</tr>
</table>
</td></tr></table>
<br><h5>4.2.4.3 <a name="sec4.2.4.3">
    &nbsp;&nbsp;heap area</a>
</h5>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>? </tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">O</td>
<td nowrap>ArenaLo - Bottom of Heap</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x817fe8c0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">O</td>
<td nowrap>ArenaHi - Top of Heap</td>
</tr>
</table>
</td></tr></table>
<br>
note: the address of ArenaHi is not a constant, but should be set
to the bottom of the FST which is read from the DVD so its size depends
on the application. the value given here is just an example.
<b>4.2.4.4<a name="sec4.2.4.4">
    &nbsp;&nbsp;'high memory'</a>
&nbsp;</b>
<table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x817fe8c0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>24</tt></td>
<td nowrap align="center">O</td>
<td nowrap>FST (used by Dolphin-OS)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x817fffff</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Memory Top</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx5">index</a></div>
<h2>
<a name="sec5">
5</a>&nbsp;&nbsp;Hardware Registers</h2>
<br><div class="idx"><a href="#idx5.1">index</a></div>
<h3>
<a name="sec5.1">
5.1</a>&nbsp;&nbsp;CP - Command Processor</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Registerblock Base</b></td>
<td nowrap align="center"><b>Size of Registerblock</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0xcc000000</tt></td>
<td nowrap align="center"><tt>0x80</tt></td>
<td nowrap align="center"><tt>2</tt></td>
</tr>
</table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000000</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">SR - Status Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">5-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BP (breakpoint?) interrupt</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>GP is idle for commands (1: idle)</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>GP is idle for reading (1: idle)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>gx fifo underflow (ptr&lt;lo watermark)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>gx fifo overflow (ptr&gt;hi watermark)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000002</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">CR - Control Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap><tt>..bl</tt></td>
<td nowrap align="right"><tt>.mig</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">6-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">b</td>
<td nowrap>bp enable</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">l</td>
<td nowrap>gp link enable (enable for linking of cp/pe FIFO)</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FIFO underflow irq enable (?)</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">m</td>
<td nowrap>FIFO overflow irq enable? / cp irq (clear to acknowledge) ?</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">i</td>
<td nowrap>cp irq enable (?) (write 1 to clear bp irq?)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">g</td>
<td nowrap>gp FIFO read enable</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000004</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">W</td>
<td nowrap align="center">Clear Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">2-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>write 1 to clear FIFO underflow</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>write 1 to clear FIFO overflow</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00000E</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">token register</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000010</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">bounding box - left</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000012</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">bounding box - right</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000014</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">bounding box - top</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000016</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">bounding box - bottom</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000020</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO base lo</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000022</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO base hi</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000024</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO end lo</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000026</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO end hi</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000028</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO high watermark lo</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00002a</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO high watermark hi</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00002c</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO low watermark lo</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00002e</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO low watermark hi</td>
</tr></table>
</td></tr></table>
<br><br>
the low and high watermark control the assertion of the CP interrupt<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000030</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO read/write distance lo</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000032</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO read/write distance hi</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000034</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO write pointer lo</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000036</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO write pointer hi</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC000038</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO read pointer lo</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00003a</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO read pointer hi</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00003c</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO bp lo</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00003e</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">cp FIFO bp hi</td>
</tr></table>
</td></tr></table>
<br><br><div class="idx"><a href="#idx5.1.1">index</a></div>
<h4>
<a name="sec5.1.1">
5.1.1</a>&nbsp;&nbsp;Token register</h4>
<br>
You can insert this dirty marker, at the end of command list, by this
way :<br><br>
*(u32 *)GXFIFO = 0x4800XXXX<br>
*(u32 *)GXFIFO = 0x4700XXXX<br><br>
Where XXXX is the token value. When command processor reaches this
stage, it writes XXXX into PE token register (see above), and then
raise "PE TOKEN" interrupt. Thus you can monitor
the completion of your drawing tasks.<br><br>
note: its probably a good idea to send a BP 'drawing complete' command
(0x45000002) before the insertion of the token.<br><div class="idx"><a href="#idx5.2">index</a></div>
<h3>
<a name="sec5.2">
5.2</a>&nbsp;&nbsp;PE - Pixel Engine</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Registerblock Base</b></td>
<td nowrap align="center"><b>Size of Registerblock</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0xcc001000</tt></td>
<td nowrap align="center"><tt>0x100</tt></td>
<td nowrap align="center"><tt>2</tt></td>
</tr>
</table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc001000</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">Z configuration</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Z update enable</td>
</tr>
<tr>
<td nowrap align="center">1-3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>function</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>z-comperator enable</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc001002</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">Alpha configuration</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">12-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>blend operator (?)</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>substractive / additive toggle (?)</td>
</tr>
<tr>
<td nowrap align="center">8-10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>source</td>
</tr>
<tr>
<td nowrap align="center">5-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>destination</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>alpha update enable</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>color update enable</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>dither enable (?)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>arithmetic blending enable (?)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>boolean blending enable (?)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc001004</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">destination alpha</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>enable</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>alpha</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc001006</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">Alpha Mode</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>mode</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>threshold</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc001008</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">Alpha Read (?)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>mode</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc00100a</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">Interrupt Status Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PE Finish (set to acknowledge)</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PE Token (set to acknowledge)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PE Finish enable (?)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PE Token enable (?)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc00100e</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">PE Token ?</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>tttt</tt></td>
<td nowrap align="right"><tt>tttt</tt></td>
<td nowrap><tt>tttt</tt></td>
<td nowrap align="right"><tt>tttt</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">0-15</td>
<td nowrap align="center">t</td>
<td nowrap>PE Token (asserted from last PE Token Interrupt)</td>
</tr>
</table>
</td></tr>
</table>
<br><div class="idx"><a href="#idx5.3">index</a></div>
<h3>
<a name="sec5.3">
5.3</a>&nbsp;&nbsp;VI - Video Interface</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Registerblock Base</b></td>
<td nowrap align="center"><b>Size of Registerblock</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0xcc002000</tt></td>
<td nowrap align="center"><tt>0x100</tt></td>
<td nowrap align="center"><tt>4</tt></td>
</tr>
</table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002000</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">VTR - Vertical Timing Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>00aa</tt></td>
<td nowrap align="right"><tt>aaaa</tt></td>
<td nowrap><tt>aaaa</tt></td>
<td nowrap align="right"><tt>eeee</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">4-13</td>
<td nowrap align="center">a</td>
<td nowrap>ACV - Active Video (in full Lines) ? other source says halflines</td>
</tr>
<tr>
<td nowrap align="center">0-3</td>
<td nowrap align="center">e</td>
<td nowrap>EQU - Equalization pulse in half lines</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x11F5, 0x0F06, 0x0F06</td></tr>
<tr><td nowrap>The value in ACV is double buffered</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002002</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">DCR - Display Configuration Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>00pp</tt></td>
<td nowrap><tt>lltt</tt></td>
<td nowrap align="right"><tt>dire</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">p</td>
<td nowrap>FMT - Current Video Format</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>NTSC</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>PAL</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>MPAL</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>Debug</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">l</td>
<td nowrap>LE1 - Enables Display Latch 1</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Off</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>On for 1 field</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>On for 2 fields</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>Always On</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">t</td>
<td nowrap>LE0 - Enables Display Latch 0</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Off</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>On for 1 field</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>On for 2 fields</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>Always On</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">d</td>
<td nowrap>DLR - Selects 3D Display Mode</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">i</td>
<td nowrap>NIN - Interlace Selector</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Interlaced</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Non-Interlaced, top field drawn at field rate and bottom field is
not displayed</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">r</td>
<td nowrap>RST - Reset - Clears all data requests and puts VI into its idle state.</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">e</td>
<td nowrap>ENB - Enable - Enables video timing generation and data request.</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x0101, 0x0001, 0x0001</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002004</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">HTR0 - Horizontal Timing 0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>0sss</tt></td>
<td nowrap align="right"><tt>ssss</tt></td>
<td nowrap><tt>0eee</tt></td>
<td nowrap align="right"><tt>eeee</tt></td>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>000w</tt></td>
<td nowrap><tt>wwww</tt></td>
<td nowrap align="right"><tt>wwww</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">s</td>
<td nowrap>HCS - Horizontal Sync Start to Color Burst Start</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">e</td>
<td nowrap>HCE - Horizontal Sync Start to Color Burst End</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">w</td>
<td nowrap>HLW - Halfline Width (W*16 = Width (720))</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x4B6A01B0, 0x476901AD, 0x476901AD</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002008</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">HTR1 - Horizontal Timing 1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>0sss</tt></td>
<td nowrap><tt>ssss</tt></td>
<td nowrap align="right"><tt>ssse</tt></td>
<td nowrap><tt>eeee</tt></td>
<td nowrap align="right"><tt>eeee</tt></td>
<td nowrap><tt>ewww</tt></td>
<td nowrap align="right"><tt>wwww</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">s</td>
<td nowrap>HBS - Half line to horizontal blanking start</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">e</td>
<td nowrap>HBE - Horizontal Sync Start to horizontal blank end</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">w</td>
<td nowrap>HSY - Horizontal Sync Width</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x02F85640, 0x02EA5140, 0x02EA5140</td></tr>
<tr><td nowrap>Setting bit 0 seems to blackout the screen. (Similar to ViBlack?)</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00200C</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">VTO - Odd Field Vertical Timing Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>..ss</tt></td>
<td nowrap><tt>ssss</tt></td>
<td nowrap align="right"><tt>ssss</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>..rr</tt></td>
<td nowrap><tt>rrrr</tt></td>
<td nowrap align="right"><tt>rrrr</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>16-25</tt></td>
<td nowrap align="center">s</td>
<td nowrap>PSB - Post blanking in half lines</td>
</tr>
<tr>
<td nowrap align="center"><tt>0-9</tt></td>
<td nowrap align="center">r</td>
<td nowrap>PRB - Pre-blanking in half lines</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x00010023, 0x00030018, 0x00030018</td></tr>
<tr><td nowrap>This register sets up the pre-blanking and post-blanking interval
of odd fields, PRB and PSB are double-buffered.</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002010</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">VTE - Even Field Vertical Timing Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>..ss</tt></td>
<td nowrap><tt>ssss</tt></td>
<td nowrap align="right"><tt>ssss</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>..rr</tt></td>
<td nowrap><tt>rrrr</tt></td>
<td nowrap align="right"><tt>rrrr</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>16-25</tt></td>
<td nowrap align="center">s</td>
<td nowrap>PSB - post-blanking in halflines</td>
</tr>
<tr>
<td nowrap align="center"><tt>0-9</tt></td>
<td nowrap align="center">r</td>
<td nowrap>PRB - pre-blanking in halflines</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x00000024, 0x00020019, 0x00020019</td></tr>
<tr><td nowrap>This register sets up the pre-blanking and post-blanking intervals
of even fields. PRB and PSB are double-buffered.</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002014</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">BBEI - Odd Field Burst Blanking Interval Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">21-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BE3 - Field 3 start to burst blanking end in halflines</td>
</tr>
<tr>
<td nowrap align="center">16-20</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BS3 - Field 3 start to burst blanking start in halflines</td>
</tr>
<tr>
<td nowrap align="center">5-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BE1 - Field 1 start to burst blanking end in halflines</td>
</tr>
<tr>
<td nowrap align="center">0-4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BS1 - Field 1 start to burst blanking start in halflines</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x4D2B4D6D, 0x410C410C, 0x410C410C</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002018</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">BBOI - Even Field Burst Blanking Interval Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">21-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BE4 - Field 4 start to burst blanking end in halflines</td>
</tr>
<tr>
<td nowrap align="center">16-20</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BS4 - Field 4 start to burst blanking start in halflines</td>
</tr>
<tr>
<td nowrap align="center">5-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BE2 - Field 2 start to burst blanking end in halflines</td>
</tr>
<tr>
<td nowrap align="center">0-4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BS2 - Field 2 start to burst blanking start in halflines</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x4D8A4D4C, 0x40ED40ED, 0x40ED40ED</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00201c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">TFBL - Top Field Base Register (L) (External Framebuffer Half 1)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>yyy?</tt></td>
<td nowrap align="right"><tt>zzzz</tt></td>
<td nowrap><tt>aaaa</tt></td>
<td nowrap align="right"><tt>aaaa</tt></td>
<td nowrap><tt>aaaa</tt></td>
<td nowrap align="right"><tt>aaax</tt></td>
<td nowrap><tt>xxxx</tt></td>
<td nowrap align="right"><tt>xxxx</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">29-31</td>
<td nowrap align="center">y</td>
<td nowrap>always zero (maybe some write only control register stuff?, setting
bit 31 clears bits 31-28 (?))</td>
</tr>
<tr>
<td nowrap align="center">28</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>page offset bit (*1)</td>
</tr>
<tr>
<td nowrap align="center">24-27</td>
<td nowrap align="center">z</td>
<td nowrap>XOF - Horizontal Offset of the left-most pixel within the first word
of the fetched picture.</td>
</tr>
<tr>
<td nowrap align="center">9-23</td>
<td nowrap align="center">a</td>
<td nowrap>FBB - bit 23 - bit 9 of XFB Address (*2)</td>
</tr>
<tr>
<td nowrap align="center">0-8</td>
<td nowrap align="center">x</td>
<td nowrap>unused (?)</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x00435A4E, 0x00435A4E, 0x00435A4E</td></tr>
<tr><td nowrap>This register specifies the display origin of the top field of a picture
in 2D mode or for the left picture in 3D mode</td></tr>
</table>
<br><br>
(*1) when this bit is set, the framebuffer address is calculated
as (address&gt;&nbsp;&gt;5)<br>
(*2) if bit 28 is cleared, highest possible Address: 0x80fffe00
(set register to 0x00fffe00) (aligned to 9bit)<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002020</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">TFBR - Top Field Base Register (R) (Only valid in 3D Mode)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>0000</tt></td>
<td nowrap><tt>ffff</tt></td>
<td nowrap align="right"><tt>ffff</tt></td>
<td nowrap><tt>ffff</tt></td>
<td nowrap align="right"><tt>fff0</tt></td>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>0000</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">f</td>
<td nowrap>FBB - External Memory Address of frame buffer</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x00000000, 0x00000000, 0x00000000</td></tr>
<tr><td nowrap>This register specifies the base address of the top field for the
right picture in 3D mode.</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002024</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">BFBL - Bottom Field Base Register (L) (External Framebuffer Half 2)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>yyyy</tt></td>
<td nowrap align="right"><tt>yyyy</tt></td>
<td nowrap><tt>aaaa</tt></td>
<td nowrap align="right"><tt>aaaa</tt></td>
<td nowrap><tt>aaaa</tt></td>
<td nowrap align="right"><tt>aaax</tt></td>
<td nowrap><tt>xxxx</tt></td>
<td nowrap align="right"><tt>xxxx</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">y</td>
<td nowrap>always zero (maybe some write-only control register stuff?)</td>
</tr>
<tr>
<td nowrap align="center">28</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>page offset bit (*1)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">a</td>
<td nowrap>FBB - bit 23 - bit 9 of XFB Address</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">x</td>
<td nowrap>unused (?)</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x00435A4E, 0x00435A4E, 0x00435A4E</td></tr>
<tr><td nowrap>This register specifies the display origin of the bottom field of
a picture in 2D mode or for the left picture in 3D mode</td></tr>
</table>
<br><br>
(*1) when this bit is set, the framebuffer address is calculated
as (address&gt;&nbsp;&gt;5)<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002028</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">BFBR - Bottom Field Base Register (R) (Only valid in 3D Mode)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>0000</tt></td>
<td nowrap><tt>ffff</tt></td>
<td nowrap align="right"><tt>ffff</tt></td>
<td nowrap><tt>ffff</tt></td>
<td nowrap align="right"><tt>fff0</tt></td>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>0000</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">f</td>
<td nowrap>FBB - External Memory Address of frame buffer</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x00000000, 0x00000000, 0x00000000</td></tr>
<tr><td nowrap>specifies the base address of the bottom field for the right picture
in 3D mode.</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00202C</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R</td>
<td nowrap align="center">DPV - current vertical Position</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>0vvv</tt></td>
<td nowrap><tt>vvvv</tt></td>
<td nowrap align="right"><tt>vvvv</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">v</td>
<td nowrap>VCT - current vertical Position of Raster beam</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x013C, 0x0005, 0x0000</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00202E</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R</td>
<td nowrap align="center">DPH - current horizontal Position (?)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>0hhh</tt></td>
<td nowrap><tt>hhhh</tt></td>
<td nowrap align="right"><tt>hhhh</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">h</td>
<td nowrap>HCT - current horizontal Position of Raster beam (?)</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x0144, 0x0176, 0x0000</td></tr>
</table>
<br><br>
The Horizontal Count is in pixels and runs from 1 to # pixels per
line. It is reset to 1 at the beginning of every line. 
The Vertical Count is in lines (on a frame basis) and runs from 1
to # lines per frame. It is 1 at the beginning of pre-equalization.
This is a frame line count. So for example: for NTSC vcount=264 is
the first (full) line in the second field and vcount=525 is the last
line in the frame (fields being numbered 1-4). For non-interlaced
modes vcount is on a field-by-field basis (for NTSC vcount ranges
from 1-263). 
This counting scheme applies the Display Position, Display Interrupt,
and Display Latch registers. <br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002030</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">DI0 - Display Interrupt 0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>i00e</tt></td>
<td nowrap align="right"><tt>00vv</tt></td>
<td nowrap><tt>vvvv</tt></td>
<td nowrap align="right"><tt>vvvv</tt></td>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>00hh</tt></td>
<td nowrap><tt>hhhh</tt></td>
<td nowrap align="right"><tt>hhhh</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">31</td>
<td nowrap align="center">i</td>
<td nowrap>INT - Interrupt Status (1=Active) (Write to clear)</td>
</tr>
<tr>
<td nowrap align="center">28</td>
<td nowrap align="center">e</td>
<td nowrap>ENB - Interrupt Enable Bit</td>
</tr>
<tr>
<td nowrap align="center">16-25</td>
<td nowrap align="center">v</td>
<td nowrap>VCT - Vertical Position</td>
</tr>
<tr>
<td nowrap align="center">0-9</td>
<td nowrap align="center">h</td>
<td nowrap>HCT - Horizontal Position</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x113901B1, 0x110701AE, 0x110701AE</td></tr>
</table>
<br><br>
There are a total of four display interrupt registers (0-3). They
are used to generate interrupts to the main processor at different
positions within a field. Each register has a separate enable bit.
The interrupt is cleared by writing a zero to the status flag (INT).
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002034</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">DI1 - Display Interrupt 1</td>
</tr></table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x10010001, 0x10010001, 0x10010001</td></tr>
<tr><td nowrap>Refer to Display Interrupt 0</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002038</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">DI2 - Display Interrupt 2</td>
</tr></table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x00010001, 0x00010001, 0x00010001</td></tr>
<tr><td nowrap>Refer to Display Interrupt 0</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00203C</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">DI3 - Display Interrupt 3</td>
</tr></table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x00010001, 0x00010001, 0x00010001</td></tr>
<tr><td nowrap>Refer to Display Interrupt 0</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002040</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">DL0 - Display Latch Register 0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>31</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TRG - Trigger Flag</td>
</tr>
<tr>
<td nowrap align="center"><tt>16-26</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCT - Vertical Count</td>
</tr>
<tr>
<td nowrap align="center"><tt>0-10</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>HCT - Horizontal Count</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x0000, 0x0000, 0x0000</td></tr>
</table>
<br><br>
The Display Latch Register 0 latches the value of the Display Position
Register at the rising edge of the gt0 signal. The trigger flag is
set if a gun trigger is detected. Writing a zero to the register clears
the trigger flag.<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002044</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">DL1 - Display Latch Register 1</td>
</tr></table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x0000, 0x0000, 0x0000</td></tr>
</table>
<br><br>
See the description of Display Latch Register 0. This register is
latched on the rising edge of the gt1 signal.<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002048</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">HSW - Scaling Width Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">0-9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SRCWIDTH - Horizontal Stepping size</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x2850, 0x2850, 0x2850</td></tr>
</table>
<br><br>
This register is the number of source pixels to be scaled. This is
only used when the Horizontal Scaler is enabled. For example, if the
image is to be scaled from 320x240 to 640x240, 320 would be written
into this register.<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00204a</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">HSR - Horizontal Scaling Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>000e</tt></td>
<td nowrap align="right"><tt>000v</tt></td>
<td nowrap><tt>vvvv</tt></td>
<td nowrap align="right"><tt>vvvv</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">e</td>
<td nowrap>HS_EN - Enable Horizontal Scaling</td>
</tr>
<tr>
<td nowrap align="center">0-8</td>
<td nowrap align="center">v</td>
<td nowrap>STP - Horizontal stepping size (U1.8 Scaler Value) (0x160 Works for
320)</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x0100, 0x0100, 0x0100</td></tr>
</table>
<br><br>
This register sets up the step size of the horizontal stepper.<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00204C</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">FCT0 - Filter Coefficient Table 0 (AA stuff)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">20-29</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T2 - Tap2 </td>
</tr>
<tr>
<td nowrap align="center">10-19</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T1 - Tap1</td>
</tr>
<tr>
<td nowrap align="center">0-9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T0 - Tap0</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x1AE771F0, 0x1AE771F0, 0x1AE771F0</td></tr>
<tr><td nowrap>sets up part of the low-pass filter. Taps 0 to 9 are in the range
(0.0, 2.0)</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc002050</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">FCT1 - Filter Coefficient Table 1 (AA stuff)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">20-29</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T5 - Tap5</td>
</tr>
<tr>
<td nowrap align="center">10-19</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T4 - Tap4</td>
</tr>
<tr>
<td nowrap align="center">0-9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T3 - Tap3</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x0DB4A574, 0x0DB4A574, 0x0DB4A574</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc002054</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">FCT2 - Filter Coefficient Table 2 (AA stuff)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">20-29</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T8 - Tap8</td>
</tr>
<tr>
<td nowrap align="center">10-19</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T7 - Tap7</td>
</tr>
<tr>
<td nowrap align="center">0-9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T6 - Tap6</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x00C1188E, 0x00C1188E, 0x00C1188E</td></tr>
<tr><td nowrap>sets up part of the low-pass filter</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc002058</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">FCT3 - Filter Coefficient Table 3 (AA stuff)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T12 - Tap12</td>
</tr>
<tr>
<td nowrap align="center">16-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T11 - Tap11</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T10 - Tap10</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T9 - Tap9</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0xC4C0CBE2, 0xC4C0CBE2, 0xC4C0CBE2</td></tr>
<tr><td nowrap>sets up part of the low-pass filter. Taps 9 to tap 24 are in the Rage
(-0.125, 0.125)</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc00205c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">FCT4 - Filter Coefficient Table 4 (AA stuff)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T16 - Tap16</td>
</tr>
<tr>
<td nowrap align="center">16-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T15 - Tap15</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T14 - Tap14</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T13 - Tap13</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0xFCECDECF, 0xFCECDECF, 0xFCECDECF</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc002060</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">FCT5 - Filter Coefficient Table 5 (AA stuff)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T20 - Tap20</td>
</tr>
<tr>
<td nowrap align="center">16-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T19 - Tap19</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T18 - Tap18</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T17 - Tap17</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x13130F08, 0x13130F08, 0x13130F08</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc002064</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">FCT6 - Filter Coefficient Table 6 (AA stuff)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T24 - Hardwired to zero</td>
</tr>
<tr>
<td nowrap align="center">16-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T23 - Tap23</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T22 - Tap22</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>T21 - Tap21</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x00080C0F, 0x00080C0F, 0x00080C0F</td></tr>
<tr><td nowrap>sets up part of the low-pass filter</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc002068</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">? (AA stuff)</td>
</tr></table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x00FF0000, 0x00FF0000, 0x00FF0000</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00206C</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">VICLK - VI Clock Select Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>0000</tt></td>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>000s</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">s</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>27 MHz video CLK</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>54 MHz video CLK (used in Progressive Mode)</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x0000, 0x0000, 0x0000</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00206e</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">VISEL - VI DTV Status Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VISEL - don't care</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x0000, 0x0000, 0x0000</td></tr>
<tr><td nowrap>this register allows software to read the status of two i/o pins</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002070</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr>
<tr><td nowrap>Holds 0x280, but has no effect on change (maybe for Progressive ?)</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x0280, 0x0280, 0x0280</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC002072</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">HBE - Border HBE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BRDR_EN - Border Enable</td>
</tr>
<tr>
<td nowrap align="center">0-9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>HBE656 - Border Horizontal Blank End</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x0000, 0x0000, 0x0000</td></tr>
</table>
<br><br>
This register (in conjunction with the border HBS) sets up a black
border around the actual active pixels in debug mode. This was done
in order to accommodate certain encoders that only support 720 active
pixels. The border HBE and HBS can be programmed for 720 active pixels
while the regular HBE and HBS can be programmed to the actual active
width. This allows the frame buffer to be of any width without having
to manually set up a border in memory. These registers will only take
effect if enabled and in debug mode. <br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center">
<tt>0xcc002074</tt> </td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">HBS - Border HBS</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">0-9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>HBS656 - Border Horizontal Blank start</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x0000, 0x0000, 0x0000</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center">
<tt>0xcc002076</tt> </td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">? (unused?)</td>
</tr></table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x00FF, 0x00FF, 0x00FF</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc002078</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">? (unused?)</td>
</tr></table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x00FF00FF, 0x00FF00FF, 0x00FF00FF</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc00207c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">? (unused?)</td>
</tr></table>
</td></tr>
<tr><td nowrap>pal50/pal60/ntsc: 0x00FF00FF 0x00FF00FF, 0x00FF00FF</td></tr>
</table>
<br><div class="idx"><a href="#idx5.3.1">index</a></div>
<h4>
<a name="sec5.3.1">
5.3.1</a>&nbsp;&nbsp;Video Modes</h4>
<br><table>
<tr>
<td nowrap align="center">Mode</td>
<td nowrap align="center">TV Norm / Region</td>
<td nowrap align="center">Framerate</td>
<td nowrap align="center">Columns</td>
<td nowrap align="center">Lines</td>
</tr>
<tr>
<td nowrap align="center">NTSC</td>
<td nowrap align="center">ntsc (usa, japan)</td>
<td nowrap align="center">60Hz</td>
<td nowrap align="center">640</td>
<td nowrap align="center">480</td>
</tr>
<tr>
<td nowrap align="center">PAL</td>
<td nowrap align="center">pal (europe)</td>
<td nowrap align="center">50Hz</td>
<td nowrap align="center">640</td>
<td nowrap align="center">574</td>
</tr>
<tr>
<td nowrap align="center">DEBUG</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">DEBUG PAL</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">MPAL</td>
<td nowrap align="center">pal (brazil)</td>
<td nowrap align="center">60Hz</td>
<td nowrap align="center">640</td>
<td nowrap align="center">480</td>
</tr>
<tr>
<td nowrap align="center">PAL60</td>
<td nowrap align="center">pal</td>
<td nowrap align="center">60Hz</td>
<td nowrap align="center">640</td>
<td nowrap align="center">480</td>
</tr>
</table>
<br><br>
note: other modes may be possible using VGA output, although its unlikely.
     <div class="idx"><a href="#idx5.4">index</a></div>
<h3>
<a name="sec5.4">
5.4</a>&nbsp;&nbsp;PI - Processor Interface</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Registerblock Base</b></td>
<td nowrap align="center"><b>Size of Registerblock</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0xcc003000</tt></td>
<td nowrap align="center"><tt>0x100</tt></td>
<td nowrap align="center"><tt>4</tt></td>
</tr>
</table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC003000</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r</td>
<td nowrap align="center">INTSR - interrupt cause</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>...r</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">17-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap align="center">r</td>
<td nowrap>RSWST</td>
<td nowrap>Reset Switch State (1 when pressed)</td>
</tr>
<tr>
<td nowrap align="center">14-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>HSP</td>
<td nowrap>High Speed Port</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DEBUG</td>
<td nowrap>External Debugger</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CP</td>
<td nowrap>Command FIFO</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PE FINISH</td>
<td nowrap>Frame is Ready</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PE TOKEN</td>
<td nowrap>Token Assertion in Command List</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VI </td>
<td nowrap>Video Interface</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MEM</td>
<td nowrap>Memory Interface</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DSP</td>
<td nowrap>DSP</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>AI</td>
<td nowrap>Streaming</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>EXI</td>
<td nowrap>EXI</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SI</td>
<td nowrap>Serial</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DI</td>
<td nowrap>DVD</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RSW</td>
<td nowrap>Reset Switch</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ERROR</td>
<td nowrap>GP runtime error</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC003004</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">INTMR - interrupt mask</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>HSP</td>
<td nowrap>High Speed Port</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DEBUG</td>
<td nowrap>External Debugger</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CP</td>
<td nowrap>Command FIFO</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PE FINISH</td>
<td nowrap>Frame is Ready</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PE TOKEN</td>
<td nowrap>Token Assertion in Command List</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VI </td>
<td nowrap>Video Interface</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MEM</td>
<td nowrap>Memory Interface</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DSP</td>
<td nowrap>DSP</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>AI</td>
<td nowrap>Streaming</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>EXI</td>
<td nowrap>EXI</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SI</td>
<td nowrap>Serial</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DI</td>
<td nowrap>DVD</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RSW</td>
<td nowrap>Reset Switch</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ERROR</td>
<td nowrap>GP runtime error</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00300c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">FIFO Base Start</td>
</tr></table>
</td></tr></table>
<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC003010</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">FIFO Base End?</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC003014</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">PI (cpu) FIFO current Write Pointer?</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC003018</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00301c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC003020</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC003024</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">Reset?</td>
</tr></table>
</td></tr>
<tr><td nowrap>Writing anything here seems to cause a complete reset.</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00302c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center">bit(s)</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Description</td>
</tr>
<tr>
<td nowrap align="center">28-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>console type (2: hw2)</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><div class="idx"><a href="#idx5.4.1">index</a></div>
<h4>
<a name="sec5.4.1">
5.4.1</a>&nbsp;&nbsp;Operation</h4>
<br><b>5.4.1.1<a name="sec5.4.1.1">
    &nbsp;&nbsp;FIFO/Write Gather Pipe</a>
&nbsp;</b>
when CPU writes a byte to 0xcc008000, it is written to mem[writeptr],
and writeptr is increased automatically.<br><br>
0xcc008000 is the write gather pipe, a way for the CPU to blast sequences
of things of various sizes to memory without having to keep track
of the write pointer and wrapping manually. the gp then reads what
the CPU has written to memory. It is used for Display Lists. it will
disconnect the GP from the writegatherpipe (cc000002 &amp; 0x10 = 0),
and change the write ptr to where it wants to write a display list..
then use ordinary GX commands to build it. there's a Call Displaylist
GX command.. so it will store render commands for rendering a certain
object (for example) in a display list in memory, then send the CallDL
with the address to the list instead of sending all the vertices over
the FIFO.
<h5>5.4.1.2 <a name="sec5.4.1.2">
    &nbsp;&nbsp;Interrupts</a>
</h5>
<br>
Each interrupt has one or more "source" devices.
It means that some kind of device may generate a couple of different
interrupts, represented by a single bit in interrupt registers. To
"enable" interrupt, set bit in mask register. To
ignore all interrupts write 0 to interrupt mask register. Raising
of any interrupt will set corresponding bit in interrupt cause register.
Interrupt cause register resets to 0, when read (i.e. you must read
it to clear pending interrupts).<br><br>
Interrupt mask register isn't controlled by hardware logic. Note that
masking of interrupt in INTMR doesn't disable it at all. It is only
causing masked interrupt to be ignored in the software interrupt handler.
You must clear corresponding "source" device registers,
to completely disable interrupt.<br><br><h5>5.4.1.3 <a name="sec5.4.1.3">
    &nbsp;&nbsp;hotreset</a>
</h5>
<br>
this code snippet will reset the machine almost as if powered off/on<br><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lis r3,0</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lis r9,0xCC00</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sth r3, 0x2000(r9)</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;li r4, 3</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stw r4, 0x3024(r9)</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stw r3, 0x3024(r9)</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nop</tt>&nbsp;<br><tt>loop__:</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b loop__</tt>&nbsp;<br><div class="idx"><a href="#idx5.5">index</a></div>
<h3>
<a name="sec5.5">
5.5</a>&nbsp;&nbsp;MI - Memory Interface</h3>
<br>
Protection can be enabled only for pages (page size is 1024 bytes),
and you can specify only 4 protected regions of memory. External interrupt
will be raised, if CPU try to wrong access in protected region. Because
it's allowed to enable protection for 4 regions only, there are a
total of 4 possible interrupts which are called MEM_0, MEM_1, MEM_2
and MEM_3.<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Registerblock Base</b></td>
<td nowrap align="center"><b>Size of Registerblock</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0xcc004000</tt></td>
<td nowrap align="center"><tt>0x80</tt></td>
<td nowrap align="center"><tt>4</tt></td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004000</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">Protected Region No1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004004</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">Protected Region No2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004008</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">Protected Region No3</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00400c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">Protected Region No4</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>llll</tt></td>
<td nowrap align="right"><tt>llll</tt></td>
<td nowrap><tt>llll</tt></td>
<td nowrap align="right"><tt>llll</tt></td>
<td nowrap><tt>hhhh</tt></td>
<td nowrap align="right"><tt>hhhh</tt></td>
<td nowrap><tt>hhhh</tt></td>
<td nowrap align="right"><tt>hhhh</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">16-31</td>
<td nowrap align="center">l</td>
<td nowrap align="center">Page Address Lo</td>
</tr>
<tr>
<td nowrap align="center">0-15</td>
<td nowrap align="center">h</td>
<td nowrap align="center">Page Address Hi</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><tt>note: the page address can be calculated as (physical_address&gt;&nbsp;&gt;10)</tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004010</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">type of the protection, 4*2 bits</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>3322</tt></td>
<td nowrap align="right"><tt>1100</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">3</td>
<td nowrap>Channel 3</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap>access denied</td>
</tr>
<tr>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap>read only (break on write)</td>
</tr>
<tr>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>write only (break on read)</td>
</tr>
<tr>
<td nowrap align="center"><tt>3</tt></td>
<td nowrap>read / write (no protection, full access)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">2</td>
<td nowrap>Channel 2 (see Channel 3)</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">1</td>
<td nowrap>Channel 1 (see Channel 3)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">0</td>
<td nowrap>Channel 0 (see Channel 3)</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00401c</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/w</td>
<td nowrap align="center">MI interrupt mask</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>...m</tt></td>
<td nowrap align="right"><tt>3210</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">m</td>
<td nowrap>mask all MI interrupts (1 - enable)</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">3</td>
<td nowrap>mask MEM3 interrupt (1 - enable)</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">2</td>
<td nowrap>mask MEM2 interrupt (1 - enable)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">1</td>
<td nowrap>mask MEM1 interrupt (1 - enable)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">0</td>
<td nowrap>mask MEM0 interrupt (1 - enable)</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00401e</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">interrupt cause</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>...m</tt></td>
<td nowrap align="right"><tt>3210</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">m</td>
<td nowrap>all MI interrupts</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">3</td>
<td nowrap>MEM3 interrupt</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>irq has not been requested</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>irq has been requested</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>no effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>clear pending irq assertion</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">2</td>
<td nowrap>MEM2 interrupt </td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>irq has not been requested</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>irq has been requested</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>no effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>clear pending irq assertion</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">1</td>
<td nowrap>MEM1 interrupt</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>irq has not been requested</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>irq has been requested</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>no effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>clear pending irq assertion</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">0</td>
<td nowrap>MEM0 interrupt</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>irq has not been requested</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>irq has been requested</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>no effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>clear pending irq assertion</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004020</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>..m.</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">1</td>
<td nowrap>? (set when MI interrupt has been asserted)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">0</td>
<td nowrap>?</td>
</tr>
</table>
</td></tr>
</table>
<br><br><tt>note:</tt> assume to be zero, after init, and should be cleared
by interrupt handler.<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004022</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">ADDRLO - address which failed protection rules</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">5-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>bit 5-bit 15 of address</td>
</tr>
<tr>
<td nowrap align="center">0-4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>zero</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004024</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">ADDRHI - address, which failed protection rules</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">14-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>zero</td>
</tr>
<tr>
<td nowrap align="center">0-13</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>bit 16-bit 29 of address</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004032</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERHI</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004034</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERLO</td>
</tr></table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004036</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERHI</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004038</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERLO</td>
</tr></table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00403a</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERHI</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00403c</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERLO</td>
</tr></table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00403e</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERHI</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004040</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERLO</td>
</tr></table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004042</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERHI</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004044</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERLO</td>
</tr></table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004046</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERHI</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004048</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERLO</td>
</tr></table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00404a</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERHI</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00404c</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERLO</td>
</tr></table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00404e</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERHI</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004050</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERLO</td>
</tr></table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004052</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERHI</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004054</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERLO</td>
</tr></table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004056</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERHI</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC004058</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">TIMERLO</td>
</tr></table>
</td></tr>
</table>
<br><br>
note: writing anything to the timer register resets it to zero<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00405a</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>.xxx</tt></td>
<td nowrap><tt>xxxx</tt></td>
<td nowrap align="right"><tt>xxxx</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">11-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused ?</td>
</tr>
</table>
</td></tr>
</table>
<br><div class="idx"><a href="#idx5.6">index</a></div>
<h3>
<a name="sec5.6">
5.6</a>&nbsp;&nbsp;DSP - Digital Signal Processor Interface</h3>
<br>
At the heart of the GCN audio hardware is a custom digital signal
processor (DSP) which is largely dedicated to pitch modulation and
the mixing of voices and effects data. The DSP is augmented by a large
quantity of auxiliary RAM (ARAM) which may be used to store audio
samples.The GCN audio hardware features a custom digital signal processor
(DSP) which has the following characteristics:
<ul>
<li> 81MHz instruction clock.
</li>
<li> 16-bit data words and addressing.
</li>
<li> 8KB (4Kword) Data RAM.
</li>
<li> 4KB (2Kword) Data ROM.
</li>
<li> 8KB (4Kword) Instruction RAM.
</li>
<li> 8KB (4Kword) Instruction ROM.
</li>
<li> 40-bit add-and-multiply-result registers.
</li>
<li> Hardware ADPCM decoder.
</li>
<li> Cached memory interface to ARAM.
</li>
<li> DMA interface to main memory.
</li>
<li> "Mailbox" registers for communicating with the CPU.
</li>
</ul>
<table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Register block Base</b></td>
<td nowrap align="center"><b>Size of Register block</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC005000</tt></td>
<td nowrap align="center">
<tt>0x200</tt> bytes</td>
<td nowrap align="center">16bit words</td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC005000</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DSP Mailbox High (to DSP)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC005002</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DSP Mailbox Low (to DSP)</td>
</tr></table>
</td></tr>
<tr><td nowrap>bit31 of DSP Mailbox shows mail delivery status. (it will be cleared
when the transfer is done)</td></tr>
<tr><td nowrap>to send mail just write data, high word first, with bit31 set.</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC005004</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r</td>
<td nowrap align="center">CPU Mailbox High (from DSP)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC005006</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r</td>
<td nowrap align="center">CPU Mailbox Low (from DSP)</td>
</tr></table>
</td></tr>
<tr><td nowrap>bit31 of CPU Mailbox shows mail delivery status.</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00500a</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/w</td>
<td nowrap align="center">AI DSP CSR - Control Status Register (DSP Status)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Reset DSP (?)</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DSP DMA Int Status</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DSPINTMSK - DSP interrupt mask (*1)</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DSPINT</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>no interrupts</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>interrupt is active</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>no effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>clear interrupt</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARINTMSK - ARAM interupt mask (*2)</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARINT - </td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>no interrupts</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>interrupt is active</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>no effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>clear interupt</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>AIDINTMASK - AI interrupt mask (*3)</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>AIDINT</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>no interrupts</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>interrupt is active</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>no effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>clear interrupt</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>HALT - Halt DSP (?)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>unhalt DSP</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>halt DSP (stop task execution)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PIINT - DSP Interrupt Assertion (?)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>assert PI DSP interrupt</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RES - Reset DSP (?)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>reset DSP</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><br>
(*1) disables only PI interrupt, doesnt effect assertion of DSPINT.<br>
(*2) disables only PI interrupt, doesnt effect assertion of ARINT.<br>
(*3) disables only PI interrupt, doesnt effect assertion of AIDINT.<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC005012</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">AR_SIZE</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC005016</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">AR_MODE</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00501a</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">AR_REFRESH</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC005020</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">AR_DMA_MMADDR_H</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC005022</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">AR_DMA_MMADDR_L</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC005024</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">AR_DMA_ARADDR_H</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC005026</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">AR_DMA_ARADDR_L</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC005028</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">AR_DMA_CNT_H</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>type of transfer (0: write to aram 1: read from aram)</td>
</tr>
<tr>
<td nowrap align="center">0-14</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>high bits of transfer length</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00502a</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">AR_DMA_CNT_L</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC005030</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/w</td>
<td nowrap align="center">DMA Start address (High)</td>
</tr></table>
</td></tr>
<tr><td nowrap>Start of Audio Data</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC005032</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/w</td>
<td nowrap align="center">DMA Start address (Low)</td>
</tr></table>
</td></tr>
<tr><td nowrap>Start of Audio Data</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC005036</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/w</td>
<td nowrap align="center">DMA Control/DMA length (Length of Audio Data)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>axxx</tt></td>
<td nowrap align="right"><tt>xxxx</tt></td>
<td nowrap><tt>xxxx</tt></td>
<td nowrap align="right"><tt>xxxx</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap><b>bit(s)</b></td>
<td nowrap>&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap>a</td>
<td nowrap>0=stop sample 1=play sample</td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap>x</td>
<td nowrap>length/32 (max len is 0x000fffe0)</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00503a</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">DMA Bytes left</td>
</tr></table>
</td></tr>
<tr><td nowrap>Counts down to zero showing how any bytes are left</td></tr>
</table>
<br><div class="idx"><a href="#idx5.6.1">index</a></div>
<h4>
<a name="sec5.6.1">
5.6.1</a>&nbsp;&nbsp;internal DSP Registers</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Registerblock Base</b></td>
<td nowrap align="center"><b>Size of Registerblock</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0xffc9</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
</tr>
</table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xFFC9</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DSCR - DSP dma Control Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">3-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DSP DMA busy</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Block length counter not yet zero, DMA is still busy</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>no effect ?</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>no effect ?</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DSP source/destination (DMA involved DSP memory)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>DSP data memory</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>DSP instruction memory</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>transfer direction</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>from main memory to DSP memory</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>from DSP memory to main memory</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xFFCB</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DSBL - DSp dma Block Length</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">2-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>block length - This register is used to specify DSP DMA transfer length
from bit 15 to bit 2</td>
</tr>
<tr>
<td nowrap align="center">0-1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>r: 2 bit of its LSBs - The transfer length is a multiple of 4 bytes</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xFFCD</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DSPA - DSp dma dsP memory Address High</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">1-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DSP memory address - This register is used to specify DSP memory starting/current
address from bit 15 to bit 1</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>r: 1 bit of its LSBs - The DSP memory address should be located at
2 word boundary</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xFFCE</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DSMAH - DSp dma Main memory Address High</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">10-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>r: 6 bits of its MSBs - This register is used to specify DSP DMA main
memory starting/current address from bit 31 to bit 26, and always
0</td>
</tr>
<tr>
<td nowrap align="center">0-9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>main memory address high word - This register is used to specify DSP
DMA main memory starting/current address from bit 25 to bit 16</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xFFCF</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DSMAL - DSp dma Main memory Address Low</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">2-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>main memory address - This register is used to specify DSP DMA main
memory starting/current address from bit 15 to bit 2</td>
</tr>
<tr>
<td nowrap align="center">0-1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>r: 2 bits of its LSBs - The main memory address of this DMA should
be located at 4 byte boundary</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xFFD4</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">ACSAH - Accelerator aram Starting Address High</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">11-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">0-10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>wtarting address high-word - Bit 26 to bit 16 of ARAM starting address</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xFFD5</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">ACSAL - Accelerator aram Starting Address Low</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">0-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Starting address low-word - Bit 15 to bit 0 of ARAM starting address</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xFFD6</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ACEAH - Accelerator aram Ending Address High</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">15-11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">0-10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ending address high-word - Bit 26 to bit 16 of ARAM ending address</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xFFD7</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ACEAL - Accelerator aram Ending Address Low</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">0-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ending address low-word - Bit 15 to bit 0 of ARAM ending address</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xFFD8</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">ACCAH - Accelerator aram Current Address High</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>direction</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>accelerator read ARAM</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>accelerator write ARAM</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">11-14</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">0-10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>current address high-word - Bit 26 to bit 16 of ARAM current address</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xFFD9</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">ACCAL - Accelerator aram Current Address Low</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">0-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Bit 15 to Bit 0 of ARAM current address</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xFFEF</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">AMDM - ARAM-Dma request Mask</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">1-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>DMA request ARAM is unmasked</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>DMA request ARAM is masked</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<br><br><div class="idx"><a href="#idx5.6.2">index</a></div>
<h4>
<a name="sec5.6.2">
5.6.2</a>&nbsp;&nbsp;Operation</h4>
<br><h5>5.6.2.1 <a name="sec5.6.2.1">
    &nbsp;&nbsp;play raw audio sample</a>
</h5>
<br><ul>
<li> load DMA Start Address
</li>
<li> setup DMA Control/DMA length
</li>
</ul>
<b>5.6.2.2<a name="sec5.6.2.2">
    &nbsp;&nbsp;transfer from/to ARAM</a>
&nbsp;</b>
<ul>
<li> set main memory address in AR_DMA_MMADDR_H and AR_DMA_MMADDR_L
</li>
<li> set aram address in AR_DMA_ARADDR_H and AR_DMA_ARADDR_L
</li>
<li> set length and transfer type in AR_DMA_CNT_H and AR_DMA_CNT_L
</li>
<li> wait until bit 9 of AI DSP Control register gets cleared
</li>
</ul>
<h5>5.6.2.3 <a name="sec5.6.2.3">
    &nbsp;&nbsp;reset DSP</a>
</h5>
<br><ul>
<li> set bit0 and bit11 of AI DSP Control Register
</li>
</ul>
<h5>5.6.2.4 <a name="sec5.6.2.4">
    &nbsp;&nbsp;Boot DSP Task</a>
</h5>
<br><ul>
<li> send mail to DSP: <tt>0x80F3A001</tt>, ram_mmem_addr
</li>
<li> send mail to DSP: <tt>0x80F3C002</tt>, ram_addr
</li>
<li> send mail to DSP: <tt>0x80F3A002</tt>, ram_length
</li>
<li> send mail to DSP: <tt>0x80F3B002</tt>, aram_mmem_addr (==0 ?)
</li>
<li> send mail to DSP: <tt>0x80F3D001</tt>, dsp_init_vector
</li>
</ul>
<div class="idx"><a href="#idx5.7">index</a></div>
<h3>
<a name="sec5.7">
5.7</a>&nbsp;&nbsp;DI - DVD Interface</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Register block Base</b></td>
<td nowrap align="center"><b>Size of Register block</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC006000</tt></td>
<td nowrap align="center"><tt>0x40</tt></td>
<td nowrap align="center"><tt>4</tt></td>
</tr>
</table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006000</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DISR - DI Status Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">7-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>reserved</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BRKINT - Break Complete Interrupt Status (*1)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>Interrupt has not been requested</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Interrupt has been requested</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>no effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>clear Interrupt</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BRKINTMASK - Break Complete Interrupt Mask. 0:masked, 1:enabled (*2)</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TCINT - Transfer Complete Interrupt Status (*3)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>Interrupt has not been requested</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Interrupt has been requested</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>no effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>clear Interrupt</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TCINTMASK - Transfer Complete Interrupt Mask. 0:masked, 1:enabled
(*4)</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DEINT - Device Error Interrupt Status (*5)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>Interrupt has not been requested</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Interrupt has been requested</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>no effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>clear Interrupt</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DEINTMASK - Device Error Interrupt Mask. 0:masked, 1:enabled (*6)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BRK - DI Break (*7)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>break not requested or break complete</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>break requested and pending</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>no effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>request break</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<br><br>
(*1) On read this bit indicates the current status of the break
complete interrupt. This interrupt is asserted when a Break cycle
has completed (break acknowledge received from mass storage access
device). When a `1` is written to this register, the interrupt is
cleared.<br>
(*2) Interrupt masking prevents the interrupt from being sent to
the main processor, but does not affect the assertion of DISR[BRKINT]<br>
(*3) On read this bit indicates the current status of the transfer
complete interrupt. The Transfer Complete interrupt is asserted under
the following conditions: a DMA mode transfer has completed (DMA finished)
or an Immediate mode transfer has completed (transfer to/from DIIMMBUF
has completed). When a `1` is written to this register, the interrupt
is cleared. The assertion of TCIT is delayed until the DIDSTRBb (low)
in order to guarantee the error interrupt occurs before transfer complete
interrupt. If DIERRb is asserted during the current transaction, the
transaction will be halted and TCINT will not be asserted.<br>
(*4) Interrupt masking prevents the interrupt from being sent to
the main processor, but does not affect the assertion of DISR[TCINT]<br>
(*5) On read this bit indicates the current status of the mass storage
access device error interrupt. To clear this interrupt, two actions
must occur. When a `1` is written to this register, the internal interrupt
is cleared. To reset the DIERRb signal, a command must be issued to
the external DI device. If error occurs during the command packet,
the drive has to delay the error assertion until the completion of
the 12 bytes command transfer. In immediate mode, if error occurs
during the data packet, the error assertion has to be delayed until
the completion of the 4 bytes data transfer. In DMA mode, it has to
be delayed until the completion of any 32 bytes data transfer.<br>
(*6) Interrupt masking prevents the interrupt from being sent to
the main processor, but does not affect the assertion of DISR[DEINT]<br>
(*7) When a `1` is written to this bit, the DI controller interrupts
the current command and sends a break signal to the mass storage access
device. The break signal interrupts the current command on the mass
storage access device. After the break sequence is complete (see TCINT),
a new command may be sent to the mass storage access device. This
bit is cleared after the break command is complete. Note that DI controller
will delay the break signal assertion if it is in the middle of the
command transfer. Hence break can only occur during the data transfer
or when it is idle.<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006004</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DICVR - DI Cover Register (status2)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>.smc</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">s</td>
<td nowrap>CVRINT - Cover Interrupt Status (*1)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>cover interrupt has not been requested</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>cover interrupt has been requested</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>no effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>clear cover interrupt</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">m</td>
<td nowrap>CVRINTMASK - Cover Interrupt Mask. 0: masked, 1: enabled (*2)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">c</td>
<td nowrap>CVR - State of the DICOVER signal. 0: cover closed, 1: cover opened</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
(*1) On read this bit indicates the current status of the Mass Storage
Device Cover interrupt. When a `1` is written to this register, the
internal interrupt is cleared. The Mass Storage Device Cover Interrupt
is asserted when the status of the DICOVER signal changes (e.g., when
the cover is opened or closed).<br>
(*2) Interrupt masking prevents the interrupt from being sent to
the main processor, but does not affect the assertion of DISR[CVRINT].<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006008</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DICMDBUF0 - DI Command Buffer 0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>cccc</tt></td>
<td nowrap align="right"><tt>cccc</tt></td>
<td nowrap><tt>1111</tt></td>
<td nowrap align="right"><tt>1111</tt></td>
<td nowrap><tt>2222</tt></td>
<td nowrap align="right"><tt>2222</tt></td>
<td nowrap><tt>2222</tt></td>
<td nowrap align="right"><tt>2222</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">24-31</td>
<td nowrap align="center">c</td>
<td nowrap>command</td>
</tr>
<tr>
<td nowrap align="center">16-23</td>
<td nowrap align="center">1</td>
<td nowrap>subcommand 1</td>
</tr>
<tr>
<td nowrap align="center">0-15</td>
<td nowrap align="center">2</td>
<td nowrap>subcommand 2</td>
</tr>
</table>
</td></tr>
</table>
<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00600c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DICMDBUF1 - DI Command Buffer 1 (offset in 32 bit words)</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006010</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DICMDBUF2 - DI Command Buffer 2 (source length)</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006014</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DIMAR - DMA Memory Address Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">26-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>reserved/unused</td>
</tr>
<tr>
<td nowrap align="center">5-25</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DIMAR - Address of source/destination buffer in main Memory</td>
</tr>
<tr>
<td nowrap align="center">0-4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>always zero (Address must be 32 byte aligned)</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006018</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DILENGTH - DI DMA Transfer Length Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">26-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>reserved/unused</td>
</tr>
<tr>
<td nowrap align="center">5-25</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DILENGTH - length of DMA data transfer in bytes (*1)</td>
</tr>
<tr>
<td nowrap align="center">0-4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>always zero (transfer length must be 32 byte aligned)</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
(*1) If a DMA command is interrupted by a break cycle, this register
indicates the amount of data that was left to transfer before the
DMA command was interrupted. If the length equals zero, it is a special
case with command transfer only.<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00601c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DICR - DI Control Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>.mbe</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap align="center">m</td>
<td nowrap>RW - access mode, 0:read, 1:write</td>
</tr>
<tr>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center">b</td>
<td nowrap>DMA - 0: immediate mode, 1: DMA mode (*1)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap align="center">e</td>
<td nowrap>TSTART - transfer start. write 1: start transfer, read 1: transfer
pending (*2)</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
(*1) The only mass storage device packet command which can use immediate
mode is the `Register Access` command. When in immediate mode, the
DIMAR and DILENGTH registers are ignored.<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
(*2) When read this bit represents the current command status. This
bit is also cleared after the break completion and after DIERRb is
asserted.<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006020</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DIIMMBUF - DI immediate data buffer (error code ?)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>REGVAL0 - data of register address+0</td>
</tr>
<tr>
<td nowrap align="center">16-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>REGVAL1 - data of register address+1</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>REGVAL2 - data of register address+2</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>REGVAL3 - data of register address+3</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006024</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r</td>
<td nowrap align="center">DICFG - DI Configuration Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">8-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>reserved/unused</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CONFIG - during reset this register latches DIDD bus (only bit 0 used)</td>
</tr>
</table>
</td></tr>
</table>
<br><div class="idx"><a href="#idx5.7.1">index</a></div>
<h4>
<a name="sec5.7.1">
5.7.1</a>&nbsp;&nbsp;Drive Commands</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap><b>DICMDBUF0</b></td>
<td nowrap><b>DICMDBUF1</b></td>
<td nowrap><b>DICMDBUF2</b></td>
<td nowrap><b>DIMAR</b></td>
<td nowrap><b>DILENGTH</b></td>
<td nowrap><b>DIIMMBUF</b></td>
<td nowrap><b>DICR</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>0x12000000</tt></td>
<td nowrap><tt>0x00000000</tt></td>
<td nowrap><tt>0x00000020</tt></td>
<td nowrap>ret: Drive-Info</td>
<td nowrap><tt>0x00000020</tt></td>
<td nowrap>-</td>
<td nowrap>DMA read</td>
<td nowrap>Inquiry</td>
</tr>
<tr>
<td nowrap><tt>0xa8000000</tt></td>
<td nowrap>Data-Position&gt;&nbsp;&gt;2</td>
<td nowrap>Data-Length</td>
<td nowrap>ret: Sector-Data</td>
<td nowrap>Data-Length</td>
<td nowrap>-</td>
<td nowrap>DMA read</td>
<td nowrap>read Sector</td>
</tr>
<br><tr>
<td nowrap><tt>0xa8000040</tt></td>
<td nowrap><tt>0x00000000</tt></td>
<td nowrap><tt>0x00000020</tt></td>
<td nowrap>ret: Disc-ID</td>
<td nowrap><tt>0x00000020</tt></td>
<td nowrap>-</td>
<td nowrap>DMA read</td>
<td nowrap>read Disc ID/Init Drive</td>
</tr>
<tr>
<td nowrap><tt>0xa8000080</tt></td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap><tt>0xa80000C0</tt></td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap><tt>0xab000000</tt></td>
<td nowrap>Position&gt;&nbsp;&gt;2</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>imm (read)</td>
<td nowrap>seek</td>
</tr>
<br><tr>
<td nowrap><tt>0xe0000000</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>ret: Error-Code</td>
<td nowrap>imm read</td>
<td nowrap>request error Status</td>
</tr>
<tr>
<td nowrap><tt>0xe1??0000</tt></td>
<td nowrap>Stream-Position&gt;&nbsp;&gt;2</td>
<td nowrap>Stream-Length</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>imm read</td>
<td nowrap>play Audio Stream (?)</td>
</tr>
<br><tr>
<td nowrap><tt>0xe2??0000</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>ret: Status (?)</td>
<td nowrap>imm read</td>
<td nowrap>request Audio Status</td>
</tr>
<tr>
<td nowrap><tt>0xe3000000</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>imm (read)</td>
<td nowrap>stop Motor</td>
</tr>
<tr>
<td nowrap><tt>0xe4000000</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>imm (read)</td>
<td nowrap>DVD Audio disable</td>
</tr>
<tr>
<td nowrap><tt>0xe4010000</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>imm (read)</td>
<td nowrap>DVD Audio enable</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx5.7.2">index</a></div>
<h4>
<a name="sec5.7.2">
5.7.2</a>&nbsp;&nbsp;Drive Debug Commands</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap><b>DICMDBUF0</b></td>
<td nowrap><b>DICMDBUF1</b></td>
<td nowrap><b>DICMDBUF2</b></td>
<td nowrap><b>DIMAR</b></td>
<td nowrap><b>DILENGTH</b></td>
<td nowrap><b>DIIMMBUF</b></td>
<td nowrap><b>DICR</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>0xfe00????</tt></td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap><tt>0xfe010000</tt></td>
<td nowrap>offset</td>
<td nowrap><tt>0x00010000</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>ret: 32bit value</td>
<td nowrap>imm (read)</td>
<td nowrap>read memory</td>
</tr>
<tr>
<td nowrap><tt>0xfe010100</tt></td>
<td nowrap>offset</td>
<td nowrap><tt>0x00010000</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>32bit value</td>
<td nowrap>imm (write)</td>
<td nowrap>write memory</td>
</tr>
<tr>
<td nowrap><tt>0xfe018000</tt></td>
<td nowrap>offset</td>
<td nowrap><tt>0xff000000</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>ret: 32bit value</td>
<td nowrap>imm (read)</td>
<td nowrap>read cache</td>
</tr>
<tr>
<td nowrap><tt>0xfe018100</tt></td>
<td nowrap>offset</td>
<td nowrap><tt>0xff000000</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>32bit value</td>
<td nowrap>imm (write)</td>
<td nowrap>write cache</td>
</tr>
<tr>
<td nowrap><tt>0xfe100000</tt></td>
<td nowrap>?</td>
<td nowrap>?</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>imm (read)</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap><tt>0xfe110000 (*)</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>imm (read)</td>
<td nowrap>stop drive</td>
</tr>
<tr>
<td nowrap><tt>0xfe110100 (*)</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>imm (read)</td>
<td nowrap>start drive</td>
</tr>
<tr>
<td nowrap><tt>0xfe114000 (*)</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>imm (read)</td>
<td nowrap>accept copy</td>
</tr>
<tr>
<td nowrap><tt>0xfe118000 (*)</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>imm (read)</td>
<td nowrap>do disc-check</td>
</tr>
<tr>
<td nowrap><tt>0xfe120000</tt></td>
<td nowrap>24bit address</td>
<td nowrap><tt>0x66756e63</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>imm (read)</td>
<td nowrap>jsr to address '<tt>func</tt>'</td>
</tr>
<tr>
<td nowrap><tt>0xff004456</tt></td>
<td nowrap><tt>0x442d4741</tt></td>
<td nowrap><tt>0x4d450300</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>imm (read)</td>
<td nowrap>unlock 2 '<tt>DVD-GAME</tt>'</td>
</tr>
<tr>
<td nowrap><tt>0xff014d41</tt></td>
<td nowrap><tt>0x54534849</tt></td>
<td nowrap><tt>0x5441024f</tt></td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>-</td>
<td nowrap>imm (read)</td>
<td nowrap>unlock 1 '<tt>MATSHITA</tt>'</td>
</tr>
</table>
</td></tr></table>
<br><br>
(*) commands can be ORed to perform several actions at once
      <div class="idx"><a href="#idx5.7.3">index</a></div>
<h4>
<a name="sec5.7.3">
5.7.3</a>&nbsp;&nbsp;Operation</h4>
<br><h5>5.7.3.1 <a name="sec5.7.3.1">
    &nbsp;&nbsp;Drive Info (Inquiry)</a>
</h5>
<br><br>    &nbsp;&nbsp;&nbsp;<b><a name="sec5.7.3.1.1">
    5.7.3.1.1&nbsp;&nbsp;Structure of the Drive Info Data</a>
&nbsp;</b>
<table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap align="center"><tt>0x0001</tt></td>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap>revision level</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0002</tt></td>
<td nowrap align="center"><tt>0x0003</tt></td>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap>device code</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap align="center"><tt>0x0007</tt></td>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap>release date</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0008</tt></td>
<td nowrap align="center"><tt>0x001F</tt></td>
<td nowrap align="center"><tt>0x18</tt></td>
<td nowrap>padding zeros</td>
</tr>
</table>
</td></tr></table>
<br><b>5.7.3.2<a name="sec5.7.3.2">
    &nbsp;&nbsp;Read Disc ID / Init Disc</a>
&nbsp;</b>
<h5>5.7.3.3 <a name="sec5.7.3.3">
    &nbsp;&nbsp;Read Sector</a>
</h5>
<br><h5>5.7.3.4 <a name="sec5.7.3.4">
    &nbsp;&nbsp;Seek</a>
</h5>
<br><h5>5.7.3.5 <a name="sec5.7.3.5">
    &nbsp;&nbsp;Request Error </a>
</h5>
<br><br>    &nbsp;&nbsp;&nbsp;<b><a name="sec5.7.3.5.1">
    5.7.3.5.1&nbsp;&nbsp;Error Codes</a>
&nbsp;</b>
<table>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>aaaa</tt></td>
<td nowrap align="right"><tt>aaaa</tt></td>
<td nowrap><tt>nnnn</tt></td>
<td nowrap align="right"><tt>nnnn</tt></td>
<td nowrap><tt>nnnn</tt></td>
<td nowrap align="right"><tt>nnnn</tt></td>
<td nowrap><tt>nnnn</tt></td>
<td nowrap align="right"><tt>nnnn</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">a</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap>ok</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap>lid open</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap>no disc/disc changed</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x03</tt></td>
<td nowrap>no disc</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap>motor off</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x05</tt></td>
<td nowrap>disc not initialized/disc id not read</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">n</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><tt>0x000000</tt></td>
<td nowrap>ok</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x020400</tt></td>
<td nowrap>Motor stopped</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x020401</tt></td>
<td nowrap>Disk ID not read</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x023A00</tt></td>
<td nowrap>Medium not present / Cover opened</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x030200</tt></td>
<td nowrap>No Seek complete</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x031100</tt></td>
<td nowrap>UnRecoverd read error</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x040800</tt></td>
<td nowrap>Transfer protocol error</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x052000</tt></td>
<td nowrap>Invalid command operation code</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x052001</tt></td>
<td nowrap>Audio Buffer not set</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x052100</tt></td>
<td nowrap>Logical block address out of range</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x052400</tt></td>
<td nowrap>Invalid Field in command packet</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x052401</tt></td>
<td nowrap>Invalid audio command</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x052402</tt></td>
<td nowrap>Configuration out of permitted period</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x056300</tt></td>
<td nowrap>End of user area encountered on this track</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x062800</tt></td>
<td nowrap>Medium may have changed</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0B5A01</tt></td>
<td nowrap>Operator medium removal request</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<br><h5>5.7.3.6 <a name="sec5.7.3.6">
    &nbsp;&nbsp;Play Audio Stream</a>
</h5>
<br><h5>5.7.3.7 <a name="sec5.7.3.7">
    &nbsp;&nbsp;Request Audio Status</a>
</h5>
<br><h5>5.7.3.8 <a name="sec5.7.3.8">
    &nbsp;&nbsp;Stop Motor</a>
</h5>
<br><h5>5.7.3.9 <a name="sec5.7.3.9">
    &nbsp;&nbsp;DVD Audio Disable</a>
</h5>
<br><h5>5.7.3.10 <a name="sec5.7.3.10">
    &nbsp;&nbsp;DVD Audio Enable</a>
</h5>
<br><ul>
<li> Command/Subcommand/Padding &lt;- E4010000
</li>
<li> Action &lt;- 1
</li>
<li> ACK (???)
</li>
<li> Status2 &lt;- Status2
</li>
<li> INIT (???)
</li>
<li> Status1 &lt;- 2Ah
</li>
<li> Status2 &lt;- 0
</li>
</ul>
<h5>5.7.3.11 <a name="sec5.7.3.11">
    &nbsp;&nbsp;Write Mem debug command</a>
</h5>
<br>
Note: This command is not really a single command but two commands
in sequence.
This command writes 'length' bytes to the specified address 'address'
in the DVD drive addressable memory. 'length' is specified in bytes
and must be in the range 1 to 12. If more data needs to be written,
several commands need to be issued. 'address' is a 24 bit value, but
a 32 bit value can be safely used. 'length' is a 16 bit value.
<ul>
<li> write the constant <tt>0xfe010100</tt> to DICMDBUF0 (<tt>0xCC006008</tt>)
</li>
<li> write 'address' at DICMDBUF1 (<tt>0xCC00600C</tt>)
</li>
<li> write 'length' to the upper 16 bits of DICMDBUF2 (<tt>0xCC006010</tt>)
and clear the lower 16 bits.
</li>
<li> start immediate read transfer: write 1 (TSTART) to DICR (<tt>0xCC00601C</tt>)
</li>
<li> wait until transfer is complete, poll bit 0 (lowest order bit) of
DICR (<tt>0xCC00601C</tt>), it will be cleared on end of transfer
</li>
<li> write the data (up to 'length' bytes) to <tt>0xCC00600C</tt> (write
the first byte at <tt>0xcc00600c</tt>, the second at <tt>0xcc00600d</tt>,
and so on)
</li>
<li> start immediate read transfer: write 1 (TSTART) to DICR (<tt>0xCC00601C</tt>)
</li>
<li> wait until transfer is complete, poll bit 0 (lowest order bit) of
DICR (<tt>0xCC00601C</tt>), it will be cleared on end of transfer
</li>
</ul>
<div class="idx"><a href="#idx5.7.4">index</a></div>
<h4>
<a name="sec5.7.4">
5.7.4</a>&nbsp;&nbsp;DVD-ROM Subsystem</h4>
<br><ul>
<li> Matsushita MN103S13BGA Optical Disk Controller
</li>
<li> Matsushita MN102H60GFA MicroComputer
</li>
</ul>
<h5>5.7.4.1 <a name="sec5.7.4.1">
    &nbsp;&nbsp;Memory Map</a>
</h5>
<br><tt></tt>
<table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00008000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4kb</td>
<td nowrap>internal (cpu) ram</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00080000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">128kb</td>
<td nowrap>firmware rom (*)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00400000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>internal (controller) ram</td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
(*) note: reading the firmware at its real location is prevented
by the debug commands (imm buffer will not be changed at all). however
you can read its contents from the memory mirrors, ie <tt>0x000a0000</tt>-.
     <div class="idx"><a href="#idx5.8">index</a></div>
<h3>
<a name="sec5.8">
5.8</a>&nbsp;&nbsp;SI - Serial Interface</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Register block Base</b></td>
<td nowrap align="center"><b>Size of Register block</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC006400</tt></td>
<td nowrap align="center"><tt>0x100</tt></td>
<td nowrap align="center"><tt>4</tt></td>
</tr>
</table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006400</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">SIC0OUTBUF - SI Channel 0 Output Buffer (Joy-channel 1 Command)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00640c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">SIC1OUTBUF - SI Channel 1 Output Buffer (Joy-channel 2 Command)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006418</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">SIC2OUTBUF - SI Channel 2 Output Buffer (Joy-channel 3 Command)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006424</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">SIC3OUTBUF - SI Channel 3 Output Buffer (Joy-channel 4 Command)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">16-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CMD - (*1)</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>OUTPUT0 - (*2)</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>OUTPUT1 - (*3)</td>
</tr>
</table>
</td></tr>
</table>
<br><tt></tt>&nbsp;<br>
This register is double buffered, so main processor writes to the
SIC0OUTBUF will not interfere with the serial interface output transfer.
Internally, a second buffer is used to hold the output data to be
transferred across the serial interface. To check if SIC0OUTBUF has
been transferred to the second buffer, main processor polls the SISR[WRST0]
register. When SICOOUTBUF is transferred, SISR[WRST0] is cleared.<br><br>
(*1) This byte is the opcode for the command sent to the controller
during each command/response packet. This is the first data byte sent
from the SI I/F to the game controller in the command/response packet.<br>
(*2) This is the first data byte of the command packet. It is the
second data byte sent from the SI I/F to the game controller in the
command/response packet.<br>
(*3) <tt></tt>This is the second data byte of the command packet.
It is the third data byte sent from the SI I/F to the game controller
in the command/response packet.<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006404</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r</td>
<td nowrap align="center">Joy-channel 1 Buttons 1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006410</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r</td>
<td nowrap align="center">SIC1INBUFH - SI Channel 1 Input Buffer High (Joy-channel 2 Buttons
1)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00641c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r</td>
<td nowrap align="center">Joy-channel 3 Buttons 1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006428</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r</td>
<td nowrap align="center">Joy-channel 4 Buttons 1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>...s</tt></td>
<td nowrap align="right"><tt>yxba</tt></td>
<td nowrap><tt>..LR</tt></td>
<td nowrap align="right"><tt>udrl</tt></td>
<td nowrap><tt>xxxx</tt></td>
<td nowrap align="right"><tt>xxxx</tt></td>
<td nowrap><tt>yyyy</tt></td>
<td nowrap align="right"><tt>yyyy</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ERRSTAT - Error Status (*1)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>no error on last transfer</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>error on last transfer</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">30</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ERRLATCH - Error Latch (*2)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>no error latched</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>error latched (check SISR)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">24-29</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>bit 0-5 of input byte 0 (bit 6 and 7 are assumed to be 0)</td>
</tr>
<tr>
<td nowrap align="center">16-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>input byte 1</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>input byte 2</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>input byte 3</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><br>
(*1) This bit represents the current error status for the last SI
polling transfer on this channel. This register is updated after each
polling transfer on this channel.<br>
(*2) This bit is an error status summary of the SISR error bits
for this channel. If an error has occurred on a past SI transfer (polling
or Com transfer), this bit will be set. To determine the exact error,
read the SISR register. This bit is actually an `or` of the latched
error status bits for this channel in the SISR. The bit is cleared
by clearing the appropriate error status bits latched in the SISR.
The no response error indicates that a controller is not present on
thischannel.<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006408</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">Joy-channel 1 Buttons 2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006414</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">Joy-channel 2 Buttons 2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006420</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">Joy-channel 3 Buttons 2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC00642c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r</td>
<td nowrap align="center">SIC3INBUFL - SI Channel 3 Input Buffer Low (Joy-channel 4 Buttons
2)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>xxxx</tt></td>
<td nowrap align="right"><tt>xxxx</tt></td>
<td nowrap><tt>yyyy</tt></td>
<td nowrap align="right"><tt>yyyy</tt></td>
<td nowrap><tt>llll</tt></td>
<td nowrap align="right"><tt>llll</tt></td>
<td nowrap><tt>rrrr</tt></td>
<td nowrap align="right"><tt>rrrr</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">24-31</td>
<td nowrap align="center">x</td>
<td nowrap>input byte 4</td>
</tr>
<tr>
<td nowrap align="center">16-23</td>
<td nowrap align="center">y</td>
<td nowrap>input byte 5</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">l</td>
<td nowrap>input byte 6</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">r</td>
<td nowrap>input byte 7</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
SIC0INBUFH and SIC0INBUFL are double buffered to prevent inconsistent
data reads due to main processor conflicting with incoming serial
interface data. To insure data read from SIC0INBUFH and SIC0INFUBL
are consistent, a locking mechanism prevents the double buffer from
copying new data to these registers. Once SIC0INBUFH is read, both
SIC0INBUFH and SIC0INBUFL are `locked` until SIC0INBUFL is read. While
the buffers are `locked`, new data is not copied into the buffers.
When SIC0INBUFL is read, the buffers become unlocked again.<tt></tt>&nbsp;<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006430</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">SIPOLL - SI Poll Register (Joy-channel Control (?) (Calibration gun
?))</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>????</tt></td>
<td nowrap align="right"><tt>.???</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>..?.</tt></td>
<td nowrap><tt>eeee</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">26-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">16-25</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>X - 7 X lines register (*1)</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Y - y times register (*2)</td>
</tr>
<tr>
<td nowrap align="center">4-7</td>
<td nowrap align="center">e</td>
<td nowrap>EN - controller port enable (1 bit per port, 1: enabled) (*3)</td>
</tr>
<tr>
<td nowrap align="center">0-3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VBCPY - Vblank copy output channel (1 bit per port) (*4)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>copy SICOUTBUF to output buffer after writing</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>copy SICOUTBUF to output buffer only on vblank</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><br>
(*1) 7 X lines register: determines the number of horizontal video
lines between polling (the polling interval). The polling begins at
vsync. 7 is the minimum setting (determined by the time required to
complete a single polling of the controller). The maximum setting
depends on the current video mode (number of lines per vsync) and
the SIPOLL[Y] register. This register takes affect after vsync.<br>
(*2) This register determines the number of times the SI controllers
are polled in a single frame. This register takes affect after vsync.<br>
(*3) Enable polling of channel. When the channel is enabled, polling
begins at the next vblank. When the channel is disabled, polling is
stopped immediately after the current transaction. The status of this
bit does not affect communication RAM transfers on this channel.<br>
(*4) Normally main processor writes to the SIC0OUTBUF register are
copied immediately to the channel 0 output buffer if a transfer is
not currently in progress. When this bit is asserted, main processor
writes to channel 0's SIC0OUTBUF will only be copied to the outbuffer
on vblank. This is used to control the timing of commands to 3D LCD
shutter glasses connected to the VI.<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006434</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">SICOMCSR - SI Communication Control Status Register (command)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>r?..</tt></td>
<td nowrap align="right"><tt>?ccs</tt></td>
<td nowrap><tt>.mmm</tt></td>
<td nowrap align="right"><tt>mmmm</tt></td>
<td nowrap><tt>.nnn</tt></td>
<td nowrap align="right"><tt>nnnn</tt></td>
<td nowrap><tt>eb..</tt></td>
<td nowrap align="right"><tt>...?</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">31</td>
<td nowrap align="center">r</td>
<td nowrap>TCINT - Transfer Complete Interrupt Status</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>transfer complete interrupt not requested</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>transfer complete interrupt has been requested</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>no effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>clear transfer complete interrupt</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">30</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TCINTMSK - Transfer Complete Interrupt Mask (*1)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>interrupt masked</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>interrupt enabled</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">29</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>COMERR - Communication Error</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>ok</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>error (see SiSr for the cause)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">28</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RDSTINT - Read Status Interrupt Status (*2)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>Transfer Complete Interrupt not requested</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Transfer Complete Interrupt has been requested</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">27</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RDSTINTMSK - Read Status interrupt Mask (*3)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>masked</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>enabled</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">25-26</td>
<td nowrap align="center">c</td>
<td nowrap>Channel Number (?)</td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">s</td>
<td nowrap>Channel Enable (?)</td>
</tr>
<tr>
<td nowrap align="center">23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">16-22</td>
<td nowrap align="center">m</td>
<td nowrap>OUTLNGTH - Communication Channel Output Length (*4)</td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">8-14</td>
<td nowrap align="center">n</td>
<td nowrap>INLNGTH - Communication Channel Input Length (*4)</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">e</td>
<td nowrap>Command Enable (?)</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">b</td>
<td nowrap>callback enable</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">bit</td>
<td nowrap>Description</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap>no callback</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>callback enabled</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">1-2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CHANNEL - (*5)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">00</td>
<td nowrap>Channel 1</td>
</tr>
<tr>
<td nowrap align="center">01</td>
<td nowrap>Channel 2</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>Channel 3</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>Channel 4</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TSTART - Transfer Start (*6)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>Command Complete</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Command Pending</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>Do not start command</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Start command</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
(*1) Interrupt masking prevents the interrupt from being sent to
the main processor, but does not affect the assertion of SICOMCSR[TCINT]<tt></tt>&nbsp;<br>
(*2) On read this bit indicates the current status of the Read Status
interrupt. The interrupt is set whenever SISR[RDSTn] bits are set.
The interrupt is cleared when all of the RdSt bits in the SISR are
cleared by reading from the Si Channel Input Buffers. This interrupt
can be used to indicate that a polling transfer has completed and
new data is captured in the input registers<br>
(*3) Interrupt masking prevents the interrupt from being sent to
the main processor, but does not affect the assertion of SICOMCSR[RDSTINT]<br>
(*4) Minimum transfer is 1 byte. A value of 0 will transfer 128
bytes. These bits should not be modified while SICOM transfer is in
progress.<br>
(*5) These bits should not be modified while SICOM transfer is in
progress.<br>
(*6) When a `1` is written to this register, the current communication
transfer is executed. The transfer begins immediately after the current
transaction on this channel has completed. When read this bit represents
the current transfer status. Once a communication transfer has been
executed, polling will resume at the next vblank if the channel's
SIPOLL[ENn] bit is set.<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
When programming the SICOMCSR after a SICOM transfers has already
started (e.g., SICOMCSR[TSTART] is set), the software should read
the current value first, then and/or in the proper data and then write
the new data back. The software should not modify any of the transfer
parameters (OUTLNGTH, INLNGTH, CHANNEL) until the current transfer
is complete. This is done to prevent a SICOM transfer already in progress
from being disturbed. When writing the data back, the software should
not set the TSTART bit again unless the current transfer is complete
and another transfer is required.<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006438</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">SISR - SI Status Register (channel select &amp; status2)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>r???</tt></td>
<td nowrap align="right"><tt>aaaa</tt></td>
<td nowrap><tt>????</tt></td>
<td nowrap align="right"><tt>bbbb</tt></td>
<td nowrap><tt>????</tt></td>
<td nowrap align="right"><tt>cccc</tt></td>
<td nowrap><tt>????</tt></td>
<td nowrap align="right"><tt>dddd</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">31</td>
<td nowrap align="center">r</td>
<td nowrap>WR - Write SICnOUTBUF Register (*1)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>buffer copied</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>buffer not copied</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>no effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>copy all buffers</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">30</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>reserved/unused</td>
</tr>
<tr>
<td nowrap align="center">29</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RDST0 - Read Status SIC0OINBUF Register (*2)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>New data available, not read by main processor</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>No new data available, already read by main processor</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">28</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>WRST0 - Write Status SIC0OUTBUF Register (*3)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Buffer copied</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Buffer not copied</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">27</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>NOREP0 - No Response Error Channel 0 (*4)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>No Response Error not asserted</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>No Response Error asserted</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>No effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Clear No Response Error</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">26</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>COLL0 - Collision Error Channel 0 (*5)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>Collision Error not asserted</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Collision Error asserted</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>No effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Clear Collision Error</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">25</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>OVRUN0 - Over Run Error Channel 0 (*6)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>Over Run Error not asserted</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Over Run Error asserted</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>No effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Clear Over Run Error</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>UNRUN - Under Run Error Channel 0 (*7)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>Under Run not asserted</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Under Run asserted</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>No effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Clear Under Run Error</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">22-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>reserved/unused</td>
</tr>
<tr>
<td nowrap align="center">16-21</td>
<td nowrap align="center">b</td>
<td nowrap>Joy-channel 1 bits</td>
</tr>
<tr>
<td nowrap align="center">14-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>reserved/unused</td>
</tr>
<tr>
<td nowrap align="center">8-13</td>
<td nowrap align="center">c</td>
<td nowrap>Joy-channel 2 bits</td>
</tr>
<tr>
<td nowrap align="center">6-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>reserved/unused</td>
</tr>
<tr>
<td nowrap align="center">0-5</td>
<td nowrap align="center">d</td>
<td nowrap>Joy-channel 3 bits</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
(*1) Write SICnOUTBUF Register: This register controls and indicates
whether the SICnOUTBUFs have been copied to the double buffered output
buffers. This bit is cleared after the buffers have been copied.<br>
(*2) This register indicates whether the SIC0INBUFs have been captured
new data and whether the data has already been read by the main processor
(read indicated by main processor read of SIC01NBUF[ERRSTAT, ERRLATCH,
INPUT0, INPUT1)]<br>
(*3) This register indicates whether the SIC0OUTBUFs have been copied
to the double buffered output buffers. This bit is cleared after the
buffers have been copied.<br>
(*4) This register indicates that a previous transfer resulted in
no response from the controller. This can also be used to detect whether
a controller is connected. If no controller is connected, this bit
will be set. Once set this bit remains set until it is cleared by
the main processor. To clear this bit write `1` to this register.<br>
(*5) This register indicates data collision between controller and
main unit. Once set this bit remains set until it is cleared by the
main processor. To clear this bit write `1` to this register.<br>
(*6) This register indicates that the main unit has received more
data than expected. Once set this bit remains set until it is cleared
by the main processor. To clear this bit write `1' to this register.<br>
(*7) This register indicates that the main unit has received less
data than expected. Once set this bit remain set until it is cleared
by the main processor. To clear this bit write `1` to this register.<br><tt></tt>&nbsp;<br><tt></tt>
<table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc00643c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">SIEXILK - SI EXI Clock Lock</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LOCK - prevents CPU from setting EXI clock to 32MHz</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>32MHz EXI clock setting permitted</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>32MHz EXI clock setting not permitted</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0-30</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved (always zero)</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0xCC006480</tt></td>
<td nowrap align="center">0x80</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">SI i/o buffer (access by word)</td>
</tr></table>
</td></tr></table>
<br><div class="idx"><a href="#idx5.8.1">index</a></div>
<h4>
<a name="sec5.8.1">
5.8.1</a>&nbsp;&nbsp;Operation</h4>
<br><h5>5.8.1.1 <a name="sec5.8.1.1">
    &nbsp;&nbsp;Serial Send Buffer</a>
</h5>
<br><ul>
<li> select channel: unset all bits in 0xcc006438 that are not corresponding
to your channel and leave the others untouched.
</li>
<li> Put output data into SI buffer (128 bytes maximum), word by word.
</li>
<li> Send command: fill in 'c','m','n' and 'b' bits of 0xcc006434 accordingly,
and set bits 's' and 'e'. leave other bits untouched.
</li>
</ul>
<h5>5.8.1.2 <a name="sec5.8.1.2">
    &nbsp;&nbsp;Serial Get Result</a>
</h5>
<br><ul>
<li> simply read the SI buffer
</li>
</ul>
<div class="idx"><a href="#idx5.9">index</a></div>
<h3>
<a name="sec5.9">
5.9</a>&nbsp;&nbsp;EXI - External Interface</h3>
<br>
Upper memory (0xCC000000 and above) can't keep enough data for extra-large
arrays, it's limited up to 0xFFFF bytes (suppose to be). EXI was designed
to remove this limitation. EXI is used for access to big, unmapped
areas of HW memory (such as bootrom or SRAM). This is the main task
of EXI. Put another way, EXI can be used for providing access to slow,
serial devices, such as memory cards. EXI is a complex of different
devices, mapped to a single bus. The EXI bus is divided on 3 channels.
Each channel has 3 unique devices. Each device is defined by its ID,
and has its own address space.<br><br>
EXI can be accessed in immediate mode, or via DMA channel. Each EXI
device can generate up to 3 interrupts. They are called EXI, TC and
EXT :<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap>EXI</td>
<td nowrap>Device EXI Interrupt</td>
</tr>
<tr>
<td nowrap>TC</td>
<td nowrap>Transfer Completed (any mode)</td>
</tr>
<tr>
<td nowrap>EXT</td>
<td nowrap>Device Attached / Device Detached</td>
</tr>
</table>
</td></tr></table>
<br><br>
Each EXI channel have its own register set, 5 32bit Registers each.<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Register block Base</b></td>
<td nowrap align="center"><b>Size of Register block</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0xCC006800</tt></td>
<td nowrap align="center"><tt>0x40</tt></td>
<td nowrap align="center"><tt>4</tt></td>
</tr>
</table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006800</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">EXI0CSR - EXI Channel 0 Parameter Register (Status?)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006814</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">EXI1CSR - EXI Channel 1 Parameter Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006828</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">EXI2CSR - EXI Channel 2 Parameter Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap colspan="1"><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">14-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap colspan="1">unused</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap colspan="1">ROMDIS - (EXI0 only) 1: rom de-scramble logic disabled (*1)</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">d</td>
<td nowrap colspan="1">EXT - Device Connected Bit (R) 1 if a device is connected on the specific
channel</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">x</td>
<td nowrap colspan="1">EXTINT - External Insertion Interrupt Status (R) : check to poll EXT
interrupt (or to detect device detach) (*4)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap colspan="1">
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>External Insertion Interrupt has not been requested</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>External Insertion Interrupt has been requested</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>No effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Clear External Insertion Interrupt</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">m</td>
<td nowrap colspan="1">EXTINTMASK - EXT Interrupt Mask (1 - enable, 0 - disable) (*5)</td>
</tr>
<tr>
<td nowrap align="center">7-9</td>
<td nowrap align="center">210</td>
<td nowrap colspan="1">CS - devices selected on this channel, each bit selecting one device.
(*)</td>
</tr>
<tr>
<td nowrap align="center">4-6</td>
<td nowrap align="center">f</td>
<td nowrap colspan="1">CLK - used frequency (0-5)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap colspan="1">
<table>
<tr>
<td nowrap align="center"><tt>000</tt></td>
<td nowrap>1MHz</td>
</tr>
<tr>
<td nowrap align="center"><tt>001</tt></td>
<td nowrap>2MHz</td>
</tr>
<tr>
<td nowrap align="center"><tt>010</tt></td>
<td nowrap>4MHz</td>
</tr>
<tr>
<td nowrap align="center"><tt>011</tt></td>
<td nowrap>8MHz</td>
</tr>
<tr>
<td nowrap align="center"><tt>100</tt></td>
<td nowrap>16MHz</td>
</tr>
<tr>
<td nowrap align="center"><tt>101</tt></td>
<td nowrap>32MHz</td>
</tr>
<tr>
<td nowrap align="center"><tt>110</tt></td>
<td nowrap>reserved</td>
</tr>
<tr>
<td nowrap align="center"><tt>111</tt></td>
<td nowrap>reserved</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">t</td>
<td nowrap colspan="1">TCINT - Transfer Complete Interrupt Status</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap colspan="1">
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>Transfer Complete Interrupt has not been requested</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Transfer Complete Interrupt has been requested</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>No effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Clear Transfer Complete Interrupt</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">m</td>
<td nowrap colspan="1">TCINTMASK - Transfer complete interrupt mask (1 - enable, 0 - disable)
(*2)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">e</td>
<td nowrap colspan="1">EXTINT - Interrupt Status (*6)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap colspan="1">
<table>
<tr>
<td nowrap align="center">read</td>
<td nowrap align="center">0</td>
<td nowrap>EXI Interrupt has not been requested</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>EXI Interrupt has been requested</td>
</tr>
<tr>
<td nowrap align="center">write</td>
<td nowrap align="center">0</td>
<td nowrap>No effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Clear EXI Interrupt</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">m</td>
<td nowrap colspan="1">EXTINTMASK - EXI interrupt mask (1 - enable, 0 - disable)</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>(*)Only one of these three bits can be set to signify which device
number has been selected on a specific channel.</td></tr>
</table>
<br><br>
(*6) This bit indicates the current status of the EXI0 interrupt.
The interrupt is cleared by accessing the expansion device and clearing
the interrupt on the device itself and cleared locally when a `1`
is written to this register. This interrupt input is edge triggered.<br>
(*1) This bit disables access to the IPL Mask ROM attached to CS1.
Once this bit is enabled, it can only be disabled again by global
reset. The ROM de-scramble logic will become disabled and any reads
to the memory mapped ROM area will return all 0.When de-scrambler
is enabled all EXI0 data will be de-scrambled, so only the IPL ROM
may be accessed through EXI0 until ROMDIS is set to `1'. (this is
usually done by the Bootstrap, see Boot process details)<br>
(*2) Interrupt masking prevents the interrupt from being sent to
the main processor, but does not affect the assertion of TCINT<br>
(*3) Interrupt masking prevents the interrupt from being sent to
the main processor, but does not affect the assertion of EXIINT<br>
(*5) Interrupt masking prevents the interrupt from being sent to
the main processor, but does not affect the assertion of EXICPR[EXTINT]<br>
(*4) This interrupt indicates than an external EXI device has been
removed from channel 1. To check whether the device has been inserted
or removed, check the EXICPR[EXT] bit. When this bit is set, the
channel's expansion EXI interface outputs go to high.<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006804</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">EXI0MAR - EXI Channel 0 DMA Start Address</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006818</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">EXI1MAR - EXI Channel 1 DMA Start Address</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00682c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">EXI2MAR - EXI Channel 2 DMA Start Address</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>..dd</tt></td>
<td nowrap><tt>dddd</tt></td>
<td nowrap align="right"><tt>dddd</tt></td>
<td nowrap><tt>dddd</tt></td>
<td nowrap align="right"><tt>dddd</tt></td>
<td nowrap><tt>ddd.</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>Physical Startaddress for DMA transfer. Must be aligned to 32 byte
boundary .</td></tr>
</table>
<br><br>
(*) The memory address is the destination address when EXICR[RW]
is set to `read` and is the source address when set to `write`.<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006808</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">EXI0LENGTH - EXI Channel 0 DMA Transfer Length</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00681c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">EXI Channel 1 DMA Transfer Length</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006830</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">EXI Channel 2 DMA Transfer Length</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>..dd</tt></td>
<td nowrap><tt>dddd</tt></td>
<td nowrap align="right"><tt>dddd</tt></td>
<td nowrap><tt>dddd</tt></td>
<td nowrap align="right"><tt>dddd</tt></td>
<td nowrap><tt>ddd.</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>Size of DMA transfer data in bytes. bits 0-4 are always zero (which
means the size is 32 byte aligned)</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC00680c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">EXI0CR - EXI Channel 0 Control Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006820</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">EXI1CR - EXI Channel 1 Control Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006834</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">EXI2CR - EXI Channel 2 Control Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>..ll</tt></td>
<td nowrap align="right"><tt>ttme</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">6-31</td>
<td nowrap align="center">.</td>
<td nowrap>unused</td>
</tr>
<tr>
<td nowrap align="center">4-5</td>
<td nowrap align="center">l</td>
<td nowrap>TLEN - (data length-1) for immediate mode</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><tt>00</tt></td>
<td nowrap>1 byte</td>
</tr>
<tr>
<td nowrap align="center"><tt>01</tt></td>
<td nowrap>2 bytes</td>
</tr>
<tr>
<td nowrap align="center"><tt>10</tt></td>
<td nowrap>3 bytes</td>
</tr>
<tr>
<td nowrap align="center"><tt>11</tt></td>
<td nowrap>4 bytes</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">2-3</td>
<td nowrap align="center">t</td>
<td nowrap>RW - transfer type </td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><tt>00</tt></td>
<td nowrap>read</td>
</tr>
<tr>
<td nowrap align="center"><tt>01</tt></td>
<td nowrap>write</td>
</tr>
<tr>
<td nowrap align="center"><tt>10</tt></td>
<td nowrap>read and write, invalid for DMA</td>
</tr>
<tr>
<td nowrap align="center"><tt>11</tt></td>
<td nowrap>undefined</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">m</td>
<td nowrap>DMA - transfer mode (0 - immediate, 1 - DMA)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">e</td>
<td nowrap>TSTART - set, to start transfer. will be cleared after transfer completed.</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006810</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">EXI0DATA - EXI Channel 0 Immediate Data</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006824</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">EXI1DATA - EXI Channel 1 Immediate Data</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006838</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">EXI2DATA - EXI Channel 2 Immediate Data</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>dddd</tt></td>
<td nowrap align="right"><tt>dddd</tt></td>
<td nowrap><tt>dddd</tt></td>
<td nowrap align="right"><tt>dddd</tt></td>
<td nowrap><tt>dddd</tt></td>
<td nowrap align="right"><tt>dddd</tt></td>
<td nowrap><tt>dddd</tt></td>
<td nowrap align="right"><tt>dddd</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>Data for read / write immediate operations (up to 4 bytes long).</td></tr>
</table>
<br><br>
The EXICPR must be configured to assert one of the devices CS, before
the read or write operation can be performed. The actual read/write
operation is triggered by the EXI0CR[TSTART] register and EXI0CR[DMA]
set to `0`. Data is sent with MSB (bit 31) first.<br><br><div class="idx"><a href="#idx5.9.1">index</a></div>
<h4>
<a name="sec5.9.1">
5.9.1</a>&nbsp;&nbsp;Operation</h4>
<br><h5>5.9.1.1 <a name="sec5.9.1.1">
    &nbsp;&nbsp;Initializing the EXI Bus</a>
</h5>
<br><ul>
<li> clear all EXIs status registers (set to 0)
</li>
<li> eventually initialize interrupt callbacks.
</li>
</ul>
If you want to use DMA with EXI, you need your own properly installed
EXI interrupt handlers. There is no need in callbacks and interrupts,
if you are using EXI in immediate mode (just mask all TCs, to prevent
unhandled interrupts).
<h5>5.9.1.2 <a name="sec5.9.1.2">
    &nbsp;&nbsp;Selecting a Specific EXI Device on an EXI Channel</a>
</h5>
<br><ul>
<li> set selected device number and frequency ('210' and f fields in
status register)
</li>
<li> eventually enable any existing callbacks
</li>
</ul>
<h5>5.9.1.3 <a name="sec5.9.1.3">
    &nbsp;&nbsp;Deselecting EXI Devices on an EXI Channel</a>
</h5>
<br><ul>
<li> deselect device (clear corresponding '210' field)
</li>
<li> eventually disable any existing callbacks
</li>
</ul>
<h5>5.9.1.4 <a name="sec5.9.1.4">
    &nbsp;&nbsp;Performing an IMM Operation on a EXI Device</a>
</h5>
<br><br>    &nbsp;&nbsp;&nbsp;<b><a name="sec5.9.1.4.1">
    5.9.1.4.1&nbsp;&nbsp;IMM Read</a>
&nbsp;</b>
<ul>
<li> setup EXI Control Register (bit4-5:data length-1, bit2: 0 for read,
bit1: 0 for immediate, bit1: 1 to start transfer)
</li>
<li> wait until transfer has been completed (until bit 0 in EXI Control
Register has been cleared)
</li>
<li> get data from EXI IMM Data Register (up to 4 bytes)
</li>
</ul>
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec5.9.1.4.2">
    5.9.1.4.2&nbsp;&nbsp;IMM Write</a>
&nbsp;</b>
<ul>
<li> write data to EXI IMM Data Register (up to 4 bytes)
</li>
<li> setup EXI Control Register (bit4-5:data length-1, bit2: 1 for write,
bit1: 0 for immediate, bit1: 1 to start transfer)
</li>
<li> wait until transfer has been completed (until bit 0 in EXI Control
Register has been cleared)
</li>
</ul>
<h5>5.9.1.5 <a name="sec5.9.1.5">
    &nbsp;&nbsp;Performing a DMA Operation on a EXI Device</a>
</h5>
<br><br>    &nbsp;&nbsp;&nbsp;<b><a name="sec5.9.1.5.1">
    5.9.1.5.1&nbsp;&nbsp;DMA Read</a>
&nbsp;</b>
<ul>
<li> setup DMA buffer address
</li>
<li> setup DMA length
</li>
<li> setup EXI Control Register (bit4-5:data length-1, bit2: 0 for read,
bit1: 1 for DMA, bit1: 1 to start transfer)
</li>
<li> wait until transfer has been completed (until bit 0 in EXI Control
Register has been cleared)
</li>
</ul>
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec5.9.1.5.2">
    5.9.1.5.2&nbsp;&nbsp;DMA Write</a>
&nbsp;</b>
<ul>
<li> setup DMA buffer address
</li>
<li> setup DMA length
</li>
<li> setup EXI Control Register (bit4-5:data length-1, bit2: 1 for write,
bit1: 1 for DMA, bit1: 1 to start transfer)
</li>
<li> wait until transfer has been completed (until bit 0 in EXI Control
Register has been cleared)
</li>
</ul>
<h5>5.9.1.6 <a name="sec5.9.1.6">
    &nbsp;&nbsp;Wait for EXI transfer completed</a>
</h5>
<br>
To detect the end of a transfer on a specific channel either setup
a 'transfer completed' callback (only works with DMA transfer) or
periodically check bit 0 of the EXI Control Register (until cleared).
     <div class="idx"><a href="#idx5.10">index</a></div>
<h3>
<a name="sec5.10">
5.10</a>&nbsp;&nbsp;AI - Audio Streaming Interface</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Registerblock Base</b></td>
<td nowrap align="center"><b>Size of Registerblock</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0xcc006c00</tt></td>
<td nowrap align="center"><tt>0x20</tt></td>
<td nowrap align="center"><tt>4</tt></td>
</tr>
</table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006C00</tt></td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">4</td>
<td nowrap align="center">AICR - Audio Interface Control Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>7-31</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>reserved/unused</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DSP Sample Rate</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>48 kHz sample rate</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>32 kHz sample rate</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>5</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SCRESET Sample Counter Reset: When a `1` is written to this bit the
AISLRCNT register is reset to 0</td>
</tr>
<tr>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>AIINTVLD Audio Interface Interrupt Valid.</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>This bit controls whether AIINT is affected by the AIIT register matching
AISLRCNT. Once set, AIINT will hold its last value.</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Match affects AIINT</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>AIINT hold last value.</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>3</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>AIINT Audio Interface Interrupt Status and clear. (*3)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">r</td>
<td nowrap align="center">0</td>
<td nowrap>Audio Interface Interrupt has not been requested</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Audio Interface Interrupt has been requested.</td>
</tr>
<tr>
<td nowrap align="center">w</td>
<td nowrap align="center">0</td>
<td nowrap>No effect</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Clear Audio Interface interrupt</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>AIINTMSK Audio interface Interrupt Mask</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>interrupt masked</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Interrupt enabled</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>AFR: Auxiliary Frequency Register (*1)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>48 kHz sample rate</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>32 kHz sample rate</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PSTAT: Playing Status</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Stop or Pause streaming audio (AISLR clock disabled)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Play streaming audio (AISLR clock enabled)</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<br><br>
(*3 )
On read this bit indicates the current status of the audio interface
interrupt. When a `1` is written to this register, the interrupt is
cleared. This interrupt indicates that the AIIT register matches the
AISLRCNT. This bit asserts regardless of the setting of AICR[AIMSK].<br>
(*1 )
Controls the sample rate of the streaming audio data. When set to
32 kHz sample rate, the SRC will convert the streaming audio data
to 48 kHz. This bit should only be changed when Streaming Audio is
stopped (AICR[PSTAT] set to 0).<br>
(*0)
This bit enables the AISLR clock which controls the playing/stopping
of audio streaming. When this bit is 1 AISLRCNT register will increment
for every stereo pair of samples output.<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006C04</tt></td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">4</td>
<td nowrap align="center">AIVR - Audio Interface Volume Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>rrrr</tt></td>
<td nowrap align="right"><tt>rrrr</tt></td>
<td nowrap><tt>llll</tt></td>
<td nowrap align="right"><tt>llll</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">16-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">r</td>
<td nowrap>AVRR - Volume Right Channel (0x00 is muted,0xff is max)</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">l</td>
<td nowrap>AVRL - Volume Right Channel (0x00 is muted,0xff is max)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006C08</tt></td>
<td nowrap align="center">r</td>
<td nowrap align="center">4</td>
<td nowrap align="center">AISCNT - Audio Interface Sample Counter</td>
</tr></table>
</td></tr></table>
<br><br>
Audio interface Sample Counter: This register counts the number of
AIS stereo samples that have been output. It is enabled by AICR[PSTAT].
It can be cleared by the AICR[SCRESET] register.<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xCC006C0C</tt></td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">4</td>
<td nowrap align="center">AIIT - Audio Interface Interrupt Timing</td>
</tr></table>
</td></tr></table>
<br><br>
This register indicates the stereo sample count to issue an audio
interface interrupt to the main processor. The interrupt is issued
when the value of the AISLRCNT register matches the content of this
register.<br><div class="idx"><a href="#idx5.11">index</a></div>
<h3>
<a name="sec5.11">
5.11</a>&nbsp;&nbsp;GX FIFO (Graphic display lists)</h3>
<br>
GP have mapped 32-byte FIFO buffer, at 0xCC008000, which is controlled
by write gather pipe (WPAR). when FIFO is filled (or overloaded by
32-bytes), WPAR performs burst transaction of primitive data to GP
command FIFO. WPAR API also keeps watching for wrapping it on 32-buffer.
You can think, that data is always looped and flows like in circle.<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Registerblock Base</b></td>
<td nowrap align="center"><b>Size of Registerblock</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0xcc008000</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center"><tt>any</tt></td>
</tr>
</table>
</td></tr></table>
<br><br>
To access FIFO, you should just write data of any size to 0xCC008000,
WPAR will control circularity and gathering automatically. By "data
of any size" are assumed command types, vertices, vertex
attributes etc stuff. All commands and primitive data are sending
through mapped GP FIFO. GP task is only to draw primitives in embedded
frame buffer, and then send it to XFB, for VI rendering. All render
rules are stored in VI. GP can only change some copy rules, using
pixel engine setup.<br><br>
GP primitives also can be drawn, using Display List. In that case,
GP FIFO takes only "CALL_DL" command with pointer
to list data, and then GP command FIFO sequentially parsing primitive
data from the main memory. Primitives can contains both direct and
indexed vertexes as well. In first case, vertex attributes are sent
directly using GP FIFO, in the other case the CPU sends only the pointer
to vertex attribute data which is located in main memory.<br><div class="idx"><a href="#idx5.11.1">index</a></div>
<h4>
<a name="sec5.11.1">
5.11.1</a>&nbsp;&nbsp;internal BP registers</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Registerblock Base</b></td>
<td nowrap align="center"><b>Size of Registerblock</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center"><tt>0x100</tt></td>
<td nowrap align="center"><tt>4 (1+3)</tt></td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Register</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap>GEN_MODE</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap>display copy filter</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap>display copy filter</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x03</tt></td>
<td nowrap>display copy filter</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap>display copy filter</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x05</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x06</tt></td>
<td nowrap>IND_MTXA0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x07</tt></td>
<td nowrap>IND_MTXB0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x08</tt></td>
<td nowrap>IND_MTXC0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x09</tt></td>
<td nowrap>IND_MTXA1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0a</tt></td>
<td nowrap>IND_MTXB1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0b</tt></td>
<td nowrap>IND_MTXC1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0c</tt></td>
<td nowrap>IND_MTXA2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0d</tt></td>
<td nowrap>IND_MTXB2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0e</tt></td>
<td nowrap>IND_MTXC2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0f</tt></td>
<td nowrap>IND_IMASK</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x10</tt></td>
<td nowrap>IND_CMD0 - tev indirect 0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x11</tt></td>
<td nowrap>IND_CMD1 - tev indirect 1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x12</tt></td>
<td nowrap>IND_CMD2 - tev indirect 2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x13</tt></td>
<td nowrap>IND_CMD3 - tev indirect 3</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x14</tt></td>
<td nowrap>IND_CMD4 - tev indirect 4</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x15</tt></td>
<td nowrap>IND_CMD5 - tev indirect 5</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x16</tt></td>
<td nowrap>IND_CMD6 - tev indirect 6</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x17</tt></td>
<td nowrap>IND_CMD7 - tev indirect 7</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x18</tt></td>
<td nowrap>IND_CMD8 - tev indirect 8</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x19</tt></td>
<td nowrap>IND_CMD9 - tev indirect 9</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1a</tt></td>
<td nowrap>IND_CMDA - tev indirect 10</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1b</tt></td>
<td nowrap>IND_CMDB - tev indirect 11</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1c</tt></td>
<td nowrap>IND_CMDC - tev indirect 12</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1d</tt></td>
<td nowrap>IND_CMDD - tev indirect 13</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1e</tt></td>
<td nowrap>IND_CMDE - tev indirect 14</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1f</tt></td>
<td nowrap>IND_CMDF - tev indirect 15</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x20</tt></td>
<td nowrap>scissor x0,y0 (0x20156156)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x21</tt></td>
<td nowrap>scissor x1,y1 (0x213d5335)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x22</tt></td>
<td nowrap>SU_LPSIZE - field mode .. line width - point width</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x23</tt></td>
<td nowrap>SU Counter (?) (0x23000000)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x24</tt></td>
<td nowrap>RAS Counter (?) (0x24000000)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x25</tt></td>
<td nowrap>RAS1_SS0 - ind tex coord scale 0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x26</tt></td>
<td nowrap>RAS1_SS1 - ind tex coord scale 1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x27</tt></td>
<td nowrap>RAS1_IREF</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x28</tt></td>
<td nowrap>RAS1_TREF0 - tev order 0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x29</tt></td>
<td nowrap>RAS1_TREF1 - tev order 1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x2a</tt></td>
<td nowrap>RAS1_TREF2 - tev order 2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x2b</tt></td>
<td nowrap>RAS1_TREF3 - tev order 3</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x2c</tt></td>
<td nowrap>RAS1_TREF4 - tev order 4</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x2d</tt></td>
<td nowrap>RAS1_TREF5 - tev order 5</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x2e</tt></td>
<td nowrap>RAS1_TREF6 - tev order 6</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x2f</tt></td>
<td nowrap>RAS1_TREF7 - tev order 7</td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Register</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x30</tt></td>
<td nowrap>SU_SSIZE0 - texture offset 0 (Texture Size X, Y ?)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x31</tt></td>
<td nowrap>SU_TSIZE0 -</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x32</tt></td>
<td nowrap>SU_SSIZE1 - texture offset 1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x33</tt></td>
<td nowrap>SU_TSIZE1 -</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x34</tt></td>
<td nowrap>SU_SSIZE2 - texture offset 2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x35</tt></td>
<td nowrap>SU_TSIZE2 -</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x36</tt></td>
<td nowrap>SU_SSIZE3 - texture offset 3</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x37</tt></td>
<td nowrap>SU_TSIZE3 -</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x38</tt></td>
<td nowrap>SU_SSIZE4 - texture offset 4</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x39</tt></td>
<td nowrap>SU_TSIZE4 -</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x3a</tt></td>
<td nowrap>SU_SSIZE5 - texture offset 5</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x3b</tt></td>
<td nowrap>SU_TSIZE5 -</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x3c</tt></td>
<td nowrap>SU_SSIZE6 - texture offset 6</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x3d</tt></td>
<td nowrap>SU_TSIZE6 -</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x3e</tt></td>
<td nowrap>SU_SSIZE7 - texture offset 7</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x3f</tt></td>
<td nowrap>SU_TSIZE7 -</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x40</tt></td>
<td nowrap>PE_ZMODE set z mode</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x41</tt></td>
<td nowrap>PE_CMODE0 dithering / blend mode/color_update/alpha_update/set_dither</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x42</tt></td>
<td nowrap>PE_CMODE1 destination alpha</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x43</tt></td>
<td nowrap>PE_CONTROL comp z location z_comp_loc(0x43000040)pixel_fmt(0x43000041)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x44</tt></td>
<td nowrap>field mask (0x44000003)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x45</tt></td>
<td nowrap>PE_DONE - draw done (end of list marker) ?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x46</tt></td>
<td nowrap>some clock ? (0x46000000 - (((162000000/500)/4224) - 0x0200))</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x47</tt></td>
<td nowrap>PE_TOKEN token B (16 bit)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x48</tt></td>
<td nowrap>PE_TOKEN_INT token A (16 bit)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x49</tt></td>
<td nowrap>EFB source rectangle top left</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x4a</tt></td>
<td nowrap>EFB source rectangle width, height-1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x4b</tt></td>
<td nowrap>XFB target address</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x4c</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x4d</tt></td>
<td nowrap>stride ?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x4e</tt></td>
<td nowrap>DispCopyYScale</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x4f</tt></td>
<td nowrap>PE copy clear AR - set clear alpha and red components</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x50</tt></td>
<td nowrap>PE copy clear GB - green and blue</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x51</tt></td>
<td nowrap>PE copy clear Z - 24-bit Z value</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x52</tt></td>
<td nowrap>pe copy execute?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x53</tt></td>
<td nowrap>copy filter</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x54</tt></td>
<td nowrap>copy filter</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x55</tt></td>
<td nowrap>bounding box (0x550003ff)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x56</tt></td>
<td nowrap>bounding box (0x560003ff)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x57</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x58</tt></td>
<td nowrap>? (0x5800000f)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x59</tt></td>
<td nowrap>scissor-box offset (0x5902acab)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x5a</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x5b</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x5c</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x5d</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x5e</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x5f</tt></td>
<td nowrap>?</td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Register</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x60</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x61</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x62</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x63</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x64</tt></td>
<td nowrap>TX_LOADTLUT0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x65</tt></td>
<td nowrap>TX_LOADTLUT1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x66</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x67</tt></td>
<td nowrap>metric ? (0x67000000)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x68</tt></td>
<td nowrap>field mode</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x69</tt></td>
<td nowrap>some clock ? (0x69000000 - ((((162000000/500)&gt;&nbsp;&gt;11)&amp;0x00ffffff)) - 0x0400)</td>
</tr>
<br><tr>
<td nowrap align="center"><tt>0x6a</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x6b</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x6c</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x6d</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x6e</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x6f</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x70</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x71</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x72</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x73</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x74</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x75</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x76</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x77</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x78</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x79</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x7a</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x7b</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x7c</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x7d</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x7e</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x7f</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80</tt></td>
<td nowrap>TX_SETMODE0_I0 - 0x90 for linear</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81</tt></td>
<td nowrap>TX_SETMODE0_I1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x82</tt></td>
<td nowrap>TX_SETMODE0_I2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x83</tt></td>
<td nowrap>TX_SETMODE0_I3</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x84</tt></td>
<td nowrap>TX_SETMODE1_I0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x85</tt></td>
<td nowrap>TX_SETMODE1_I1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x86</tt></td>
<td nowrap>TX_SETMODE1_I2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x87</tt></td>
<td nowrap>TX_SETMODE1_I3</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x88</tt></td>
<td nowrap>TX_SETIMAGE0_I0 - texture size ?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x89</tt></td>
<td nowrap>TX_SETIMAGE0_I1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8a</tt></td>
<td nowrap>TX_SETIMAGE0_I2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8b</tt></td>
<td nowrap>TX_SETIMAGE0_I3</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8c</tt></td>
<td nowrap>TX_SETIMAGE1_I0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8d</tt></td>
<td nowrap>TX_SETIMAGE1_I1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8e</tt></td>
<td nowrap>TX_SETIMAGE1_I2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8f</tt></td>
<td nowrap>TX_SETIMAGE1_I3 </td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Register</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x90</tt></td>
<td nowrap>TX_SETIMAGE2_I0 </td>
</tr>
<tr>
<td nowrap align="center"><tt>0x91</tt></td>
<td nowrap>TX_SETIMAGE2_I1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x92</tt></td>
<td nowrap>TX_SETIMAGE2_I2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x93</tt></td>
<td nowrap>TX_SETIMAGE2_I3</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x94</tt></td>
<td nowrap>TX_SETIMAGE3_I0 - Texture Pointer</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x95</tt></td>
<td nowrap>TX_SETIMAGE3_I1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x96</tt></td>
<td nowrap>TX_SETIMAGE3_I2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x97</tt></td>
<td nowrap>TX_SETIMAGE3_I3</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x98</tt></td>
<td nowrap>TX_LOADTLUT0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x99</tt></td>
<td nowrap>TX_LOADTLUT1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x9a</tt></td>
<td nowrap>TX_LOADTLUT2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x9b</tt></td>
<td nowrap>TX_LOADTLUT3</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x9c</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x9d</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x9e</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x9f</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xa0</tt></td>
<td nowrap>TX_SETMODE0_I4</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xa1</tt></td>
<td nowrap>TX_SETMODE0_I5</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xa2</tt></td>
<td nowrap>TX_SETMODE0_I6</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xa3</tt></td>
<td nowrap>TX_SETMODE0_I7</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xa4</tt></td>
<td nowrap>TX_SETMODE1_I4</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xa5</tt></td>
<td nowrap>TX_SETMODE1_I5</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xa6</tt></td>
<td nowrap>TX_SETMODE1_I6</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xa7</tt></td>
<td nowrap>TX_SETMODE1_I7</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xa8</tt></td>
<td nowrap>TX_SETIMAGE0_I4</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xa9</tt></td>
<td nowrap>TX_SETIMAGE0_I5</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xaa</tt></td>
<td nowrap>TX_SETIMAGE0_I6</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xab</tt></td>
<td nowrap>TX_SETIMAGE0_I7</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xac</tt></td>
<td nowrap>TX_SETIMAGE1_I4 </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xad</tt></td>
<td nowrap>TX_SETIMAGE1_I5 </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xae</tt></td>
<td nowrap>TX_SETIMAGE1_I6</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xaf</tt></td>
<td nowrap>TX_SETIMAGE1_I7</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xb0</tt></td>
<td nowrap>TX_SETIMAGE2_I4</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xb1</tt></td>
<td nowrap>TX_SETIMAGE2_I5</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xb2</tt></td>
<td nowrap>TX_SETIMAGE2_I6 </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xb3</tt></td>
<td nowrap>TX_SETIMAGE2_I7</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xb4</tt></td>
<td nowrap>TX_SETIMAGE3_I4</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xb5</tt></td>
<td nowrap>TX_SETIMAGE3_I5</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xb6</tt></td>
<td nowrap>TX_SETIMAGE3_I6</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xb7</tt></td>
<td nowrap>TX_SETIMAGE3_I7</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xb8</tt></td>
<td nowrap>TX_SETTLUT_I4</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xb9</tt></td>
<td nowrap>TX_SETTLUT_I5</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xba</tt></td>
<td nowrap>TX_SETTLUT_I6</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xbb</tt></td>
<td nowrap>TX_SETTLUT_I7</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xbc</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xbd</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xbe</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xbf</tt></td>
<td nowrap>?</td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Register</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0xc0</tt></td>
<td nowrap>TEV_COLOR_ENV_0 - tev op 0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xc1</tt></td>
<td nowrap>TEV_ALPHA_ENV_0 - tev op 1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xc2</tt></td>
<td nowrap>TEV_COLOR_ENV_1 - </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xc3</tt></td>
<td nowrap>TEV_ALPHA_ENV_1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xc4</tt></td>
<td nowrap>TEV_COLOR_ENV_2 - </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xc5</tt></td>
<td nowrap>TEV_ALPHA_ENV_2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xc6</tt></td>
<td nowrap>TEV_COLOR_ENV_3 - </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xc7</tt></td>
<td nowrap>TEV_ALPHA_ENV_3</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xc8</tt></td>
<td nowrap>TEV_COLOR_ENV_4 - </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xc9</tt></td>
<td nowrap>TEV_ALPHA_ENV_4</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xca</tt></td>
<td nowrap>TEV_COLOR_ENV_5 - </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xcb</tt></td>
<td nowrap>TEV_ALPHA_ENV_5</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xcc</tt></td>
<td nowrap>TEV_COLOR_ENV_6 - </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xcd</tt></td>
<td nowrap>TEV_ALPHA_ENV_6</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xce</tt></td>
<td nowrap>TEV_COLOR_ENV_7 - </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xcf</tt></td>
<td nowrap>TEV_ALPHA_ENV_7</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xd0</tt></td>
<td nowrap>TEV_COLOR_ENV_8 - </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xd1</tt></td>
<td nowrap>TEV_ALPHA_ENV_8</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xd2</tt></td>
<td nowrap>TEV_COLOR_ENV_9 - </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xd3</tt></td>
<td nowrap>TEV_ALPHA_ENV_9</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xd4</tt></td>
<td nowrap>TEV_COLOR_ENV_A - </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xd5</tt></td>
<td nowrap>TEV_ALPHA_ENV_A</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xd6</tt></td>
<td nowrap>TEV_COLOR_ENV_B - </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xd7</tt></td>
<td nowrap>TEV_ALPHA_ENV_B</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xd8</tt></td>
<td nowrap>TEV_COLOR_ENV_C - </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xd9</tt></td>
<td nowrap>TEV_ALPHA_ENV_C</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xda</tt></td>
<td nowrap>TEV_COLOR_ENV_D - </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xdb</tt></td>
<td nowrap>TEV_ALPHA_ENV_D</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xdc</tt></td>
<td nowrap>TEV_COLOR_ENV_E - </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xdd</tt></td>
<td nowrap>TEV_ALPHA_ENV_E</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xde</tt></td>
<td nowrap>TEV_COLOR_ENV_F - </td>
</tr>
<tr>
<td nowrap align="center"><tt>0xdf</tt></td>
<td nowrap>TEV_ALPHA_ENV_F</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xe0</tt></td>
<td nowrap>TEV_REGISTERL_0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xe1</tt></td>
<td nowrap>TEV_REGISTERH_0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xe2</tt></td>
<td nowrap>TEV_REGISTERL_1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xe3</tt></td>
<td nowrap>TEV_REGISTERH_1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xe4</tt></td>
<td nowrap>TEV_REGISTERL_2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xe5</tt></td>
<td nowrap>TEV_REGISTERH_2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xe6</tt></td>
<td nowrap>TEV_REGISTERL_3</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xe7</tt></td>
<td nowrap>TEV_REGISTERH_3</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xe8</tt></td>
<td nowrap>Fog Range (0xe8000156)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xe9</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xea</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xeb</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xec</tt></td>
<td nowrap>? (guessed: tev_range_adj_c)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xed</tt></td>
<td nowrap>? (guessed: tev_range_adj_k)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xee</tt></td>
<td nowrap>TEV_FOG_PARAM_0 (0xee03ce38)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xef</tt></td>
<td nowrap>TEV_FOG_PARAM_1 (0xef471c82)</td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Register</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0xf0</tt></td>
<td nowrap>TEV_FOG_PARAM_2 (0xf0000002)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xf1</tt></td>
<td nowrap>TEV_FOG_PARAM_3 (0xf1000000)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xf2</tt></td>
<td nowrap>TEV_FOG_COLOR (0xf2000000)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xf3</tt></td>
<td nowrap>TEV_ALPHAFUNC - alpha compare (0xf33f0000)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xf4</tt></td>
<td nowrap>TEV_Z_ENV_0 - z texture 0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xf5</tt></td>
<td nowrap>TEV_Z_ENV_1 - z texture 1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xf6</tt></td>
<td nowrap>TEV_KSEL_0 - Tev Swap Mode Table 0 (0xf6018064)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xf7</tt></td>
<td nowrap>TEV_KSEL_1 - Tev Swap Mode Table 1 (0xf701806e)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xf8</tt></td>
<td nowrap>TEV_KSEL_2 - Tev Swap Mode Table 2 (0xf8018060)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xf9</tt></td>
<td nowrap>TEV_KSEL_3 - Tev Swap Mode Table 3 (0xf901806c)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xfa</tt></td>
<td nowrap>TEV_KSEL_4 - Tev Swap Mode Table 4 (0xfa018065)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xfb</tt></td>
<td nowrap>TEV_KSEL_5 - Tev Swap Mode Table 5 (0xfb01806d)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xfc</tt></td>
<td nowrap>TEV_KSEL_6 - Tev Swap Mode Table <b></b>6 (0xfc01806a)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xfd</tt></td>
<td nowrap>TEV_KSEL_7 - Tev Swap Mode Table 7 (0xfd01806e)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xfe</tt></td>
<td nowrap>SS_MASK - BP Mask Register</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xff</tt></td>
<td nowrap>?</td>
</tr>
</table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">GEN_MODE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ZFREEZE</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>NBMP - Number of Bumpmaps</td>
</tr>
<tr>
<td nowrap align="center">14-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>REJECT_EN - Culling Mode</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>none</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>negative</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>positive</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>all</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>NTEV</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MS_EN</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>NCOL - Number of Colors</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>NTEX - Number of Texture Coords</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">display copy filter</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">display copy filter</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x03</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">display copy filter</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">display copy filter</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x05</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x06</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_MTXA0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x09</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_MTXA1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x0c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_MTXA2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>S</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MB</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MA</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x07</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_MTXB0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x0a</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_MTXB1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x0d</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_MTXB2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>S</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MD</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MC</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x08</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_MTXC0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x0b</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_MTXC1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x0e</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_MTXC2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>S</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MF</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ME</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x0f</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_IMASK</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>IMASK</td>
</tr>
</table>
</td></tr>
</table>
<br><br><a name="tth_tAb1">
</a> 
<table><tr><td nowrap><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x10</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMD0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x11</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMD1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x12</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMD2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x13</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMD3</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x14</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMD4</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x15</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMD5</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x16</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMD6</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x17</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMD7</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x18</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMD8</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x19</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMD9</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1a</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMDA</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1b</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMDB</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMDC</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1d</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMDD</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1e</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1f</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">IND_CMDF</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">21-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PAD0 - padding zeros</td>
</tr>
<tr>
<td nowrap align="center">20</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FB - addprev</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LB - utclod</td>
</tr>
<tr>
<td nowrap align="center">16-18</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TW - Wrap T</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>ITW_OFF</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>ITW_256</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>ITW_128</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>ITW_64</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>ITW_32</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>ITW_16</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>ITW_0</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">13-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SW - Wrap S</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>ITW_OFF</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>ITW_256</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>ITW_128</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>ITW_64</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>ITW_32</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>ITW_16</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>ITW_0</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">9-12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>M - Matrix ID</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>ITM_OFF</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>ITM_0</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>ITM_1</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>ITM_2</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>ITM_S0</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>ITM_S1</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>ITM_S2</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap>ITM_T0</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>ITM_T1</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>ITM_T2</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">7-8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BS - Alpha Selection</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>ITBA_OFF</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>ITBA_S</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>ITBA_T</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>ITBA_U</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">4-6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BIAS</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>ITB_NONE</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>ITB_S</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>ITB_T</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>ITB_ST</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>ITB_U</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>ITB_SU</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>ITB_TU</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>ITB_STU</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">2-3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FMT - Format</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>ITF_8</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>ITF_5</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>ITF_4</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>ITF_3</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0-1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BT - Indirect Tex Stage ID (0-3)</td>
</tr>
</table>
</td></tr>
</table></td></tr></table>
<table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x20</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_SCIS0 - Scissorbox Top Left Corner</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>X0 - Scissorbox X0 offset + 342</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Y0 - Scissorbox Y0 offset + 342</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x21</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_SCIS1 - Scissorbox Bottom Right Corner</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>X1 - Scissorbox X1 offset + 342</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Y1 - Scissorbox Y1 offset + 342</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x22</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_LPSIZE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PAD0</td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LINEASPECT</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PTOFF</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>to 0</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>to 16th</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>to 8th</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>to 4th</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>to half</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>to 1</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LTOFF</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>to 0</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>to 16th</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>to 8th</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>to 4th</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>to half</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>to 1</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PSIZE</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LSIZE</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x23</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU Counter ?</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x24</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">RAS Counter ?</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x25</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">RAS1_SS - ind tex coord scale 0 </td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TS1 - Ind. Tex Stage 1</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SS1 - Ind. Tex Stage 1</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TS0 - Ind. Tex Stage 0</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SS0 - Ind. Tex Stage 0</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x26</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">RAS1_SS - ind tex coord scale 1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TS1 - Ind. Tex Stage 3</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SS1 - Ind. Tex Stage 3</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TS0 - Ind. Tex Stage 2</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SS0 - Ind. Tex Stage 2</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x27</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">RAS1_IREF</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">21</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BC3 - Ind. Tex Stage 3 NTexCoord</td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BI3 - Ind. Tex Stage 3 NTexMap</td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BC2 - Ind. Tex Stage 2 NTexCoord</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BI2 - Ind. Tex Stage 2 NTexMap</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BC1 - Ind. Tex Stage 1 NTexCoord</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BI1 - Ind. Tex Stage 1 NTexMap</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BC0 - Ind. Tex Stage 0 NTexCoord</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BI0 - Ind. Tex Stage 0 NTexMap</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x28</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">RAS1_TREF0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x29</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">RAS1_TREF1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x2a</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">RAS1_TREF2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x2b</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">RAS1_TREF3</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x2c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">RAS1_TREF4</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x2d</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">RAS1_TREF5</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x2e</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">RAS1_TREF6</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x2f</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">RAS1_TREF7</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PAD1</td>
</tr>
<tr>
<td nowrap align="center">19-21</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CC1 - Ind. Tex Stage 1 Channel ID</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Color0</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Color1</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>Alpha0</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>Alpha1</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>Color0A0</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>Color1A1</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>ColorZero</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>Bump</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TE1 - Ind. Tex Stage 1 TexMap enable</td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TC1 - Ind. Tex Stage 1 TexCoord</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TI1 - Ind. Tex Stage 1 TexMap</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PAD0</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CC0 - Ind. Tex Stage 0 Color ID</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TE0 - Ind. Tex Stage 0 TexMap enable</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TC0 - Ind. Tex Stage 0 TexCoord</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TI0 - Ind. Tex Stage 0 TexMap</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x30</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_SSIZE0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x32</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_SSIZE1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x34</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_SSIZE2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x36</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_SSIZE3</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x38</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_SSIZE4</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x3a</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_SSIZE5</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x3c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_SSIZE6</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x3e</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_SSIZE7</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PF - texcoord offset for points enable</td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LF - texcoord offset for lines enable</td>
</tr>
<tr>
<td nowrap align="center">17</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>WS - s-cylindrical texcoord wrapping enable</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BS - s-range bias enable</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SSIZE - s-scale value -1 (U16)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x31</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_TSIZE0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x33</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_TSIZE1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x35</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_TSIZE2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x37</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_TSIZE3</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x39</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_TSIZE4</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x3b</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_TSIZE5</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x3d</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_TSIZE6</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x3f</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SU_TSIZE7</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">17</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>WT - t-cylindrical texcoord wrapping enable</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BT - t-range bias enable</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TSIZE - t-scale value -1 (U16)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x40</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">PE_ZMODE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MASK - Update enable</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FUNC - Z-Buffer Compare Function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>NEVER</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>LESS</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>EQUAL</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>LEQUAL</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>GREATER</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>NEQUAL</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>GEQUAL</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>ALWAYS</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ENABLE - Z-Buffer enable</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x41</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">PE_CMODE0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LOGICOP</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>CLEAR</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>AND</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>REVAND</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>COPY</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>INVAND</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>NOOP</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>XOR</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>OR</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap>NOR</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap>EQUIV</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>INV</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>REVOR</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap>INVCOPY</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap>INVOR</td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap>NAND</td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap>SET</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BLENDOP</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SFACTOR</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DFACTOR</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ALPHA_MASK</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>COLOR_MASK</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DITHER_ENABLE</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LOGICOP_ENABLE</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BLEND_ENABLE</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x42</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">PE_CMODE1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CONSTANT_ALPHA_ENABLE</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CONSTANT_ALPHA</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x43</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">PE_CONTROL</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">7-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused ?</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Z Comp Loc (1: before tex)</td>
</tr>
<tr>
<td nowrap align="center">3-5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Z Format</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>linear</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>near</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>mid</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>far</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0-2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Pixel Format</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>RGB8_ Z24</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>RGBA6_Z24</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>RGB565_Z16</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>Z24</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>Y8</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>U8</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>V8</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>YUV420</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x44</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">field mask ?</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x45</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">PE_DONE - draw done</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>1=end of list</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x46</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">? (some clock?)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>? (must be 1)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>((162000000/500)/4224)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x47</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">PE_TOKEN</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Token</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x48</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">PE_TOKEN_INT</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x49</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">EFB Address Top Left</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Y coordinate</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>X coordinate</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x4a</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">EFB Address Width, Height-1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Height-1</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Width</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x4b</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">XFB Address</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>physical XFB Address &gt;&nbsp;&gt; 5</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x4c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x4d</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">stride ?</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x4e</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">DispCopyYScale</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>YSCALE - ((u32)(256.0/YSCALEIN))&amp;0x1ff</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x4f</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">PE copy clear AR - set clear alpha and red components</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>A</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>R</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x50</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">PE copy clear GB - green and blue</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>G</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>B</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x51</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">PE copy clear Z - 24-bit Z value</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">0-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Z - 24bit Z-Value</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x52</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">pe copy execute?</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>execute ? (1: to XFB 0: to texture ?!)</td>
</tr>
<tr>
<td nowrap align="center">12-13</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Frame 2 Field Mode</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>clear (1: clear EFB)</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>1: (256-(u32)(256.0/YSCALEIN)) &gt; 0</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center">7-8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>disp copy gamma</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>target (XFB) pixel format</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>clamp</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>clamp</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x53</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">copy filter</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x54</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">copy filter</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x55</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">bounding box</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x56</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">bounding box</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x57</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x58</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x59</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Scissorbox Offset</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>YO - ((Scissorbox Y offset + 342)&gt;&nbsp;&gt;1)</td>
</tr>
<br><tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>XO - ((Scissorbox X offset + 342)&gt;&nbsp;&gt;1)</td>
</tr>
</table>
</td></tr>
</table>
<br><br>
note: regs <tt>0x5a</tt>-<tt>0x63</tt> are left out (all unknown)<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x64</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_LOADTLUT0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24-</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>rid</td>
</tr>
<tr>
<td nowrap align="center">21-</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>pad0</td>
</tr>
<tr>
<td nowrap align="center">0-</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>tlut base</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x65</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_LOADTLUT1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24-</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>rid</td>
</tr>
<tr>
<td nowrap align="center">21-</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>pad0</td>
</tr>
<tr>
<td nowrap align="center">10-</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>count</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>tmem offset</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x66</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">&nbsp;</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x67</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">metric ?</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x68</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">field mode</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x69</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>? (must be 1)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>((162000000/500)&gt;&nbsp;&gt;11)</td>
</tr>
</table>
</td></tr>
</table>
<br><br>
note: regs <tt>0x6a</tt>-<tt>0x7f</tt> are left out (all unknown)<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x80</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE0_I0 - Texture lookup and filtering mode</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x81</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE0_I1 - Texture lookup and filtering mode</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x82</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE0_I2 - Texture lookup and filtering mode</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x83</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE0_I3 - Texture lookup and filtering mode</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xa0</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE0_I4 - Texture lookup and filtering mode</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xa1</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE0_I5 - Texture lookup and filtering mode</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xa2</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE0_I6 - Texture lookup and filtering mode</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xa3</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE0_I7 - Texture lookup and filtering mode</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">21</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LODCLAMP / BIASCLAMP</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>off</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>on</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MAXANISO</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>1</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>2 (requires edge LOD)</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>4 (requires edge LOD)</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>unused/reserved</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LODBIAS (s2.5)</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DIAGLOAD</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>edge LOD</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>diagonal LOD</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MIN FILTER</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>near</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>near mip near</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>near mip lin</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>linear</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>lin mip near</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>lin mip lin</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>unused/reserved</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MAG FILTER</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>near</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>linear</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>WRAP T</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>clamp</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>repeat (*)</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>mirror (*)</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>unused/reserved</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>WRAP S (same as WRAP T)</td>
</tr>
</table>
</td></tr>
</table>
<br><br>
(*) requires the texture size to be a power of two. (wrapping is
implemented by a logical AND (SIZE-1))<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x84</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE1_I0 - LOD Info</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x85</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE1_I1 - LOD Info</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x86</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE1_I2 - LOD Info</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x87</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE1_I3 - LOD Info</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xa4</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE1_I4 - LOD Info</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xa5</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE1_I5 - LOD Info</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xa6</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE1_I6 - LOD Info</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xa7</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETMODE1_I7 - LOD Info</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MAX LOD (U4.4)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MIN LOD (U4.4)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x88</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SETIMAGE0_I0 - Texture width, height, format</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x89</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SETIMAGE0_I1 - Texture width, height, format</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x8a</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SETIMAGE0_I2 - Texture width, height, format</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x8b</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SETIMAGE0_I3 - Texture width, height, format</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xa8</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SETIMAGE0_I4 - Texture width, height, format</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xa9</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SETIMAGE0_I5 - Texture width, height, format</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xaa</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SETIMAGE0_I6 - Texture width, height, format</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xab</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SETIMAGE0_I7 - Texture width, height, format</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24-</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>rid</td>
</tr>
<tr>
<td nowrap align="center">20-</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>format</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>I4</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>I8</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>IA4</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>IA8</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>RGB565</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>RGB5A3</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>RGBA8</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap>C4</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap>C8</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>C14X2</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap>CMP</td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap>unused/reserved</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">10-</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>height - 1 </td>
</tr>
<tr>
<td nowrap align="center">0-</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>width - 1</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x8c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE1_I0 - even LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x8d</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE1_I1 - even LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x8e</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE1_I2 - even LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x8f</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE1_I3 - even LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xac</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE1_I4 - even LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xad</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE1_I5 - even LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xae</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE1_I6 - even LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xaf</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE1_I7 - even LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">21</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>IMAGE_TYPE</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>cached</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>preloaded</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CACHE_HEIGHT</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>32kb</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>128kb</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>512kb</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>unused/reserved</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CACHE_WIDTH (must be equal to CACHE_HEIGHT)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TMEM_OFFSET (address in TMEM &gt;&nbsp;&gt; 5)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x90</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE2_I0 - odd LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x91</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE2_I1 - odd LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x92</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE2_I2 - odd LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x93</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE2_I3 - odd LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xb0</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE2_I4 - odd LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xb1</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE2_I5 - odd LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xb2</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE2_I6 - odd LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xb3</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE2_I7 - odd LOD address in TMEM</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CACHE_HEIGHT</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>none (if odd LOD is unused)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>32kb</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>128kb</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>512kb</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>unused/reserved</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CACHE_WIDTH (must be equal to CACHE_HEIGTH)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TMEM_OFFSET - (address in TMEM &gt;&nbsp;&gt; 5)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x94</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE3_I0 - Address of Texture in main memory</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x95</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE3_I1 - Address of Texture in main memory</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x96</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE3_I2 - Address of Texture in main memory</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x97</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE3_I3 - Address of Texture in main memory</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xb4</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE3_I4 - Address of Texture in main memory</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xb5</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE3_I5 - Address of Texture in main memory</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xb6</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE3_I6 - Address of Texture in main memory</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xb7</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETIMAGE3_I7 - Address of Texture in main memory</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>IMAGE_BASE (physical address &gt;&nbsp;&gt; 5)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x98</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETTLUT_0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x99</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETTLUT_1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x9a</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETTLUT_2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x9b</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETTLUT_3</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xb8</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETTLUT_4</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xb9</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETTLUT_5</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xba</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETTLUT_6</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xbb</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TX_SETTLUT_7</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FORMAT</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>IA8</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>RGB565</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>RGB5A3</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>reserved/unused</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TMEM_OFFSET (offset of TLUT from start of TMEM high bank &gt;&nbsp;<br>
5)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x9c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x9d</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x9e</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x9f</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xbc</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xbd</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xbe</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xbf</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xc0</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xc2</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xc4</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xc6</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_3</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xc8</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_4</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xca</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_5</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcc</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_6</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xce</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_7</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xd0</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_8</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xd2</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_9</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xd4</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_A</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xd6</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_B</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xd8</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_C</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xda</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_D</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xdc</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_E</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xde</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_COLOR_ENV_F</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DEST</td>
</tr>
<tr>
<td nowrap align="center">20</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SHIFT</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CLAMP</td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SUB</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BIAS</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SELA</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SELB</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SELC</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SELD</td>
</tr>
</table>
</td></tr>
</table>
<br><br>
SELA - SELD Format:<br><br><table>
<tr>
<td nowrap align="center"><tt>0x0</tt></td>
<td nowrap>CC_CPREV</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1</tt></td>
<td nowrap>CC_APREV</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x2</tt></td>
<td nowrap>CC_C0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x3</tt></td>
<td nowrap>CC_A0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x4</tt></td>
<td nowrap>CC_C1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x5</tt></td>
<td nowrap>CC_A1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x6</tt></td>
<td nowrap>CC_C2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x7</tt></td>
<td nowrap>CC_A2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8</tt></td>
<td nowrap>CC_TEXC</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x9</tt></td>
<td nowrap>CC_TEXA</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xA</tt></td>
<td nowrap>CC_RASC</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xB</tt></td>
<td nowrap>CC_RASA</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xC</tt></td>
<td nowrap>CC_ONE</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xD</tt></td>
<td nowrap>CC_HALF</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xE</tt></td>
<td nowrap>CC_KONST</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xF</tt></td>
<td nowrap>CC_ZERO</td>
</tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xc1</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xc3</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xc5</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xc7</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_3</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xc9</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_4</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcb</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_5</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcd</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_6</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xcf</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_7</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xd1</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_8</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xd3</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_9</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xd5</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_A</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xd7</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_B</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xd9</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_C</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xdb</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_D</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xdd</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_E</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xdf</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHA_ENV_F</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DEST</td>
</tr>
<tr>
<td nowrap align="center">20</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SHIFT</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CLAMP</td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SUB</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BIAS</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SELA</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SELB</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SELC</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SELD</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TSWAP</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RSWAP</td>
</tr>
</table>
</td></tr>
</table>
<br><br>
SELA - SELD Format:<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>CA_APREV</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>CA_A0</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>CA_A1</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>CA_A2</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>CA_TEXA</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>CA_RASA</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>CA_KONST</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>CA_ZERO</td>
</tr>
</table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xe0</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_REGISTERL_0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xe2</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_REGISTERL_1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xe4</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_REGISTERL_2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xe6</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_REGISTERL_3</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TYPE</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Color (?)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Constant (?)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>A</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>R</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xe1</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_REGISTERH_0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xe3</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_REGISTERH_1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xe5</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_REGISTERH_2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xe7</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_REGISTERH_3</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TYPE</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Color (?)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Constant (?)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>G</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>B</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x88</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Fog Range</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x89</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">&nbsp;</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x8A</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">&nbsp;</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x8B</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">&nbsp;</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xec (guessed)</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">tev_range_adj_c</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CENTER - Screen X Center for range Adjustment</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ENB - Range-Adjustment enable</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>TEV_ENB_DISABLE</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>TEV_ENB_ENABLE</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xed (guessed)</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">tev_range_adj_k</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">0-11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>r2k (u4.8) - specifies the range adjustment function</td>
</tr>
</table>
</td></tr>
</table>
<br><br>
range adjustment = <tt>sqr((x*x)+(k*k))/k</tt><br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xee</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_FOG_PARAM_0 - "a" parameter of the screen
to eye space conversion function</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>A_SIGN_SHIFT</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>A_EXPN</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>A_MANT (signed 11e8)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xef</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_FOG_PARAM_1 - the "b" parameter of the z
screen to eye space conversion function</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>B_MAG (unsigned 0.24)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xf0</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_FOG_PARAM_2 - amount to pre-shift screen z</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">0-4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>B_SHF - equivalent to the value of "b" parameter's
exponent + 1</td>
</tr>
</table>
</td></tr>
</table>
<br><br>
The Z-Screen to Eyespace conversion is defined as:<br><br><tt>Ze = A / (B_MAG - (Zs &gt;&nbsp;&gt; B_SHF))</tt><br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xf1</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_FOG_PARAM_3 - fog type</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">21-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FSEL</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>FSEL_OFF; No fog</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>reserved</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>FSEL_LIN; linear Fog</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>reserved</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>FSEL_EXP; Exponential Fog</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>FSEL_EX2; Exponential Squared Fog</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>FSEL_BXP; Backward Exp Fog</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>FSEL_BX2 Backward Exp Squared Fog</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">20</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PROJ</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>PERSP; Perspective projection</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>ORTHO; Orthographic projection</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>C_SIGN (*)</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>C_EXPN (*)</td>
</tr>
<tr>
<td nowrap align="center">0-10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>C_MANT (*)</td>
</tr>
</table>
</td></tr>
</table>
<br><br>
(*) Specifies the amount to subtract from eye-space Z after range
adjustment.<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xf2</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_FOG_COLOR - Value of Fog Color</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>R</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>G</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>B</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xf3</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_ALPHAFUNC</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LOGIC</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>AND</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>OR</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>XOR</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>XNOR</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>OP1</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>OP0</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>A1</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>A0</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xf4</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_Z_ENV_0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID -</td>
</tr>
<tr>
<td nowrap align="center">0-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ZOFF/BIAS -</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xf5</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_Z_ENV_1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">2-3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>OP</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>disable</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>add</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>replace</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>unused/reserved</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0-1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TYPE/FORMAT</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>u8</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>u16</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>u24</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>unused/reserved</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xf6</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_KSEL_0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xf7</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_KSEL_1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xf8</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_KSEL_2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xf9</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_KSEL_3</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xfa</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_KSEL_4</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xfb</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_KSEL_5</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xfc</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_KSEL_6</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xfd</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEV_KSEL_7</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>KASEL1</td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>KCSEL1</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>KASEL0</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>KCSEL0</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>XGA</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>XRB</td>
</tr>
</table>
</td></tr>
</table>
<br><br>
KCSEL - tev const color sel<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>1</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>7_8</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>3_4</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>5_8</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>1_2</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>3_8</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>1_4</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>1_8</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap>K0</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap>K1</td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap>K2</td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap>K3</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap>K0_R</td>
</tr>
<tr>
<td nowrap align="center">17</td>
<td nowrap>K1_R</td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap>K2_R</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap>K3_R</td>
</tr>
<tr>
<td nowrap align="center">20</td>
<td nowrap>K0_G</td>
</tr>
<tr>
<td nowrap align="center">21</td>
<td nowrap>K1_G</td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap>K2_G</td>
</tr>
<tr>
<td nowrap align="center">23</td>
<td nowrap>K3_G</td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap>K0_B</td>
</tr>
<tr>
<td nowrap align="center">25</td>
<td nowrap>K1_B</td>
</tr>
<tr>
<td nowrap align="center">26</td>
<td nowrap>K2_B</td>
</tr>
<tr>
<td nowrap align="center">27</td>
<td nowrap>K3_B</td>
</tr>
<tr>
<td nowrap align="center">28</td>
<td nowrap>K0_A</td>
</tr>
<tr>
<td nowrap align="center">29</td>
<td nowrap>K1_A</td>
</tr>
<tr>
<td nowrap align="center">30</td>
<td nowrap>K2_A</td>
</tr>
<tr>
<td nowrap align="center">31</td>
<td nowrap>K3_A</td>
</tr>
</table>
</td></tr></table>
<br><br>
KASEL - tev const alpha sel<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>1</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>7_8</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>3_4</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>5_8</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>1_2</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>3_8</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>1_4</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>1_8</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap>K0_R</td>
</tr>
<tr>
<td nowrap align="center">17</td>
<td nowrap>K1_R</td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap>K2_R</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap>K3_R</td>
</tr>
<tr>
<td nowrap align="center">20</td>
<td nowrap>K0_G</td>
</tr>
<tr>
<td nowrap align="center">21</td>
<td nowrap>K1_G</td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap>K2_G</td>
</tr>
<tr>
<td nowrap align="center">23</td>
<td nowrap>K3_G</td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap>K0_B</td>
</tr>
<tr>
<td nowrap align="center">25</td>
<td nowrap>K1_B</td>
</tr>
<tr>
<td nowrap align="center">26</td>
<td nowrap>K2_B</td>
</tr>
<tr>
<td nowrap align="center">27</td>
<td nowrap>K3_B</td>
</tr>
<tr>
<td nowrap align="center">28</td>
<td nowrap>K0_A</td>
</tr>
<tr>
<td nowrap align="center">29</td>
<td nowrap>K1_A</td>
</tr>
<tr>
<td nowrap align="center">30</td>
<td nowrap>K2_A</td>
</tr>
<tr>
<td nowrap align="center">31</td>
<td nowrap>K3_A</td>
</tr>
</table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xfe</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">SS_MASK - BP Mask Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>****</tt></td>
<td nowrap align="right"><tt>****</tt></td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">*</td>
<td nowrap>RID</td>
</tr>
<tr>
<td nowrap align="center">0-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MASK (*)</td>
</tr>
</table>
</td></tr>
</table>
<br><br>
(*) This Register can be used to limit to which bits of BP registers
is actually written to. the mask is only valid for the next BP command,
and will reset itself.<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xff</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><div class="idx"><a href="#idx5.11.2">index</a></div>
<h4>
<a name="sec5.11.2">
5.11.2</a>&nbsp;&nbsp;internal CP Registers</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Registerblock Base</b></td>
<td nowrap align="center"><b>Size of Registerblock</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x20</tt></td>
<td nowrap align="center"><tt>0xa0</tt></td>
<td nowrap align="center"><tt>4</tt></td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="right"><b>Register</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="right"><tt>0x20</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x30</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MATINDEX_A - Texture Matrix Index 0-3</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x40</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MATINDEX_B - Texture Matrix Index 4-7</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x50</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_LO - Vertex Descriptor (VCD) low, format 0</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x51</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_LO - Vertex Descriptor (VCD) low, format 1</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x52</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_LO - Vertex Descriptor (VCD) low, format 2</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x53</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_LO - Vertex Descriptor (VCD) low, format 3</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x54</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_LO - Vertex Descriptor (VCD) low, format 4</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x55</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_LO - Vertex Descriptor (VCD) low, format 5</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x56</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_LO - Vertex Descriptor (VCD) low, format 6</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x57</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_LO - Vertex Descriptor (VCD) low, format 7</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x60</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_HI - Vertex Descriptor (VCD) high, format 0</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x61</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_HI - Vertex Descriptor (VCD) high, format 1</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x62</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_HI - Vertex Descriptor (VCD) high, format 2</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x63</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_HI - Vertex Descriptor (VCD) high, format 3</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x64</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_HI - Vertex Descriptor (VCD) high, format 4</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x65</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_HI - Vertex Descriptor (VCD) high, format 5</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x66</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_HI - Vertex Descriptor (VCD) high, format 6</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x67</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VCD_HI - Vertex Descriptor (VCD) high, format 7</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x70</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_A - Vertex Attribute Table (VAT) group 0, format 0</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x71</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_A - Vertex Attribute Table (VAT) group 0, format 1</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x72</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_A - Vertex Attribute Table (VAT) group 0, format 2</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x73</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_A - Vertex Attribute Table (VAT) group 0, format 3</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x74</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_A - Vertex Attribute Table (VAT) group 0, format 4</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x75</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_A - Vertex Attribute Table (VAT) group 0, format 5</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x76</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_A - Vertex Attribute Table (VAT) group 0, format 6</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x77</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_A - Vertex Attribute Table (VAT) group 0, format 7</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x80</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_B - Vertex Attribute Table (VAT) group 1, format 0</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x81</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_B - Vertex Attribute Table (VAT) group 1, format 1</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x82</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_B - Vertex Attribute Table (VAT) group 1, format 2</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x83</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_B - Vertex Attribute Table (VAT) group 1, format 3</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x84</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_B - Vertex Attribute Table (VAT) group 1, format 4</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x85</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_B - Vertex Attribute Table (VAT) group 1, format 5</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x86</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_B - Vertex Attribute Table (VAT) group 1, format 6</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x87</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_B - Vertex Attribute Table (VAT) group 1, format 7</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x90</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_C - Vertex Attribute Table (VAT) group 2, format 0</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x91</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_C - Vertex Attribute Table (VAT) group 2, format 1</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x92</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_C - Vertex Attribute Table (VAT) group 2, format 2</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x93</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_C - Vertex Attribute Table (VAT) group 2, format 3</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x94</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_C - Vertex Attribute Table (VAT) group 2, format 4</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x95</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_C - Vertex Attribute Table (VAT) group 2, format 5</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x96</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_C - Vertex Attribute Table (VAT) group 2, format 6</td>
</tr>
<tr>
<td nowrap align="right"><tt>0x97</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>VAT_C - Vertex Attribute Table (VAT) group 2, format 7</td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="right"><b>Register</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="right"><tt>0xA0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - vertices ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xa1</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - normals ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xa2</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - color 0 ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xa3</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - color 1 ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xa4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - texture 0 coordinate ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xa5</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - texture 1 coordinate ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xa6</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - texture 2 coordinate ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xa7</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - texture 3 coordinate ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xa8</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - texture 4 coordinate ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xa9</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - texture 5 coordinate ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xaa</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - texture 6 coordinate ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xab</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - texture 7 coordinate ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xac</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - IndexRegA - general purpose array 0 ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xad</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - IndexRegB - general purpose array 1 ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xae</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - IndexRegC - general purpose array 2 ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xaf</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_BASE - IndexRegD - general purpose array 3 ptr</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xB0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - size of vertices</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xb1</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - size of normals</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xb2</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - size of colors 0</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xb3</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - size of colors 1</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xb4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - size of texture 0 coordinates</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xb5</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - size of texture 1 coordinates</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xb6</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - size of texture 2 coordinates</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xb7</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - size of texture 3 coordinates</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xb8</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - size of texture 4 coordinates</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xb9</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - size of texture 5 coordinates</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xba</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - size of texture 6 coordinates</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xbb</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - size of texture 7 coordinates</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xbc</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - IndexRegA - general purpose array 0 stride</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xbd</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - IndexRegB - general purpose array 1 stride</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xbe</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - IndexRegC - general purpose array 2 stride</td>
</tr>
<tr>
<td nowrap align="right"><tt>0xbf</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARRAY_STRIDE - IndexRegD - general purpose array 3 stride</td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x20</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x30</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>MATIDX_REG_A</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX3IDX - Index for Texture 3 matrix</tt></td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX2IDX - Index for Texture 2 matrix</tt></td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX1IDX - Index for Texture 1 matrix</tt></td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX0IDX - Index for Texture 0 matrix</tt></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>POSIDX - Index for Position/Normal matrix</tt></td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x40</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>MATIDX_REG_B</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX7IDX - Index for Texture 7 matrix</tt></td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX6IDX - Index for Texture 6 matrix</tt></td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX5IDX - Index for Texture 5 matrix</tt></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX4IDX - Index for Texture 4 matrix</tt></td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><tt></tt>
<table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x50</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap>VCD_LO - Vertex Descriptor low Format 0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x51</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap>VCD_LO - Vertex Descriptor low Format 1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x52</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap>VCD_LO - Vertex Descriptor low Format 2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x53</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap>VCD_LO - Vertex Descriptor low Format 3</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x54</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap>VCD_LO - Vertex Descriptor low Format 4</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x55</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap>VCD_LO - Vertex Descriptor low Format 5</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x56</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap>VCD_LO - Vertex Descriptor low Format 6</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x57</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap>VCD_LO - Vertex Descriptor low Format 7</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">17-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused</td>
</tr>
<tr>
<td nowrap align="center">15-16</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>COL1 - Color1 (Specular)</tt></td>
</tr>
<tr>
<td nowrap align="center">13-14</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>COL0 - Color0 (Diffused)</tt></td>
</tr>
<tr>
<td nowrap align="center">11-12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>NRM - Normal or Normal/Binormal/Tangent</tt></td>
</tr>
<tr>
<td nowrap align="center">9-10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>POS - Position</tt></td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>T7MIDX</tt></td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>T6MIDX</tt></td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>T5MIDX</tt></td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>T4MIDX</tt></td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>T3MIDX</tt></td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>T2MIDX</tt></td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>T1MIDX</tt></td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>T0MIDX - Texture Coordinate 0 Matrix Index</tt></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>PMIDX - Position/Normal Matrix Index (*1)</tt></td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><tt>(*1) position and normal matrices are stored in 2 seperate
areas of internal XF memory, but there is a one to one correspondence
between normal and position index.If index 'A' is used for the position,
then index 'A' needs to be used for the normal as well.</tt>&nbsp;<br><tt></tt>&nbsp;<br><tt></tt>
<table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x60</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">VCD_HI - Vertex Descriptor high Format 0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x61</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">VCD_HI - Vertex Descriptor high Format 1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x62</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">VCD_HI - Vertex Descriptor high Format 2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x63</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">VCD_HI - Vertex Descriptor high Format 3</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x64</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">VCD_HI - Vertex Descriptor high Format 4</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x65</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">VCD_HI - Vertex Descriptor high Format 5</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x66</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">VCD_HI - Vertex Descriptor high Format 6</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x67</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">R/W</td>
<td nowrap align="center">VCD_HI - Vertex Descriptor high Format 7</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right"><tt>..tt</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">16-</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused</td>
</tr>
<tr>
<td nowrap align="center">14-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>TEX7</tt> - texture coordinate 7</td>
</tr>
<tr>
<td nowrap align="center">12-13</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>TEX6</tt> - texture coordinate 6</td>
</tr>
<tr>
<td nowrap align="center">10-11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>TEX5</tt> - texture coordinate 5</td>
</tr>
<tr>
<td nowrap align="center">8-9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>TEX4</tt> - texture coordinate 4</td>
</tr>
<tr>
<td nowrap align="center">6-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>TEX3</tt> - texture coordinate 3</td>
</tr>
<tr>
<td nowrap align="center">4-5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>TEX2</tt> - texture coordinate 2</td>
</tr>
<tr>
<td nowrap align="center">2-3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>TEX1</tt> - texture coordinate 1</td>
</tr>
<tr>
<td nowrap align="center">0-1</td>
<td nowrap align="center">t</td>
<td nowrap>
<tt>TEX0</tt> - texture coordinate 0</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><tt></tt>
<table>
<tr><td nowrap>vertex descriptor data</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>value</b></td>
<td nowrap><b>Vertex/Color</b></td>
<td nowrap><b>Pos/Tex Matrix Index</b></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap>no data present</td>
<td nowrap>no data present</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>direct</td>
<td nowrap>direct </td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>i8 - indirect/8 bit index</td>
<td nowrap>n/a</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>i16 - indirect/16 bit index</td>
<td nowrap>n/a</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x70</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_A - Format 0</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x71</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_A - Format 1</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x72</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_A - Format 2</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x73</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_A - Format 3</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x74</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_A - Format 4</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x75</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_A - Format 5</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x76</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_A - Format 6</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x77</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_A - Format 7</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>NORMALINDEX3 (*1)</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>single index per normal</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>triple-index per nine-normal</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">30</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>BYTEDEQUANT (should always be 1)</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>shift does not apply to u8/s8 components</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>shift applies to u8/s8 components</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">25</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX0SHFT</tt></td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX0FMT</tt></td>
</tr>
<tr>
<td nowrap align="center">21</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX0CNT</tt></td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>COL1FMT (Specular)</tt></td>
</tr>
<tr>
<td nowrap align="center">17</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>COL1CNT (Specular)</tt></td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>COL0FMT (Diffused)</tt></td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>COL0CNT (Diffused)</tt></td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>NRMFMT</tt></td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>NRMCNT</tt></td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>POSSHFT</tt></td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>POSFMT</tt></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>POSCNT</tt></td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><tt>(*1) when nine-normals are selected in indirect mode, input
will be treated as three staggered indices (one per triple biased
by components size), into normal table (note: first index internally
biased by 0, second by 1, third by 2)</tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x80</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_B - Format 0</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x81</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_B - Format 1</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x82</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_B - Format 2</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x83</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_B - Format 3</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x84</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_B - Format 4</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x85</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_B - Format 5</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x86</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_B - Format 6</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x87</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_B - Format 7</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>VCACHE_ENHANCE (must always be 1)</tt></td>
</tr>
<tr>
<td nowrap align="center">28</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX4FMT</tt></td>
</tr>
<tr>
<td nowrap align="center">27</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX4CNT</tt></td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX3SHFT</tt></td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX3FMT</tt></td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX3CNT</tt></td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX2SHFT</tt></td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX2FMT</tt></td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX2CNT</tt></td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX1SHFT</tt></td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX1FMT</tt></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX1CNT</tt></td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x90</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_C - Format 0</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x91</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_C - Format 1</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x92</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_C - Format 2</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x93</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_C - Format 3</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x94</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_C - Format 4</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x95</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_C - Format 5</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x96</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_C - Format 6</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x97</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>CP_VAT_REG_C - Format 7</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">27</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX7SHFT</tt></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX7FMT</tt></td>
</tr>
<tr>
<td nowrap align="center">23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX7CNT</tt></td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX6SHFT</tt></td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX6FMT</tt></td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX6CNT</tt></td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX5SHFT</tt></td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX5FMT</tt></td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX5CNT</tt></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEX4SHFT</tt></td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><b>Vertex Attribute Data Formats</b><tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><tt>CompCount</tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>value</b></td>
<td nowrap><b>coords</b></td>
<td nowrap><b>normals</b></td>
<td nowrap><b>tex coords</b></td>
<td nowrap><b>colors</b></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap>two (x,y)</td>
<td nowrap>three</td>
<td nowrap>one (s)</td>
<td nowrap>three (r,g,b)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>three (x,y,z)</td>
<td nowrap>nine</td>
<td nowrap>two (s,t)</td>
<td nowrap>four (r,g,b,a)</td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><tt>CompSize</tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>value</b></td>
<td nowrap><b>coords</b></td>
<td nowrap><b>normals</b></td>
<td nowrap><b>colors</b></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap>u8</td>
<td nowrap>n/a</td>
<td nowrap>16 bit rgb565</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>s8</td>
<td nowrap>s8</td>
<td nowrap>24 bit rgb888</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>u16</td>
<td nowrap>n/a</td>
<td nowrap>32 bit rgb888x</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>s16</td>
<td nowrap>s16</td>
<td nowrap>16 bit rgba4444</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>f32</td>
<td nowrap>f32</td>
<td nowrap>24 bit rgba6666</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>n/a</td>
<td nowrap>n/a</td>
<td nowrap>32 bit rgba8888</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>unused</td>
<td nowrap>unused</td>
<td nowrap>unused</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>unused</td>
<td nowrap>unused</td>
<td nowrap>unused</td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><tt>Shift</tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap><b>coords</b></td>
<td nowrap><b>normals</b></td>
<td nowrap><b>colors</b></td>
</tr>
<tr>
<td nowrap>location of decimal point</td>
<td nowrap>n/a (byte: 6, short: 14)</td>
<td nowrap>n/a</td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><tt>This shift applies to all s16/u16 components, and all s8/s8
components when ByteDequant is asserted.</tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xA0</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xA1</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xA2</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xA3</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xA4</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xA5</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xA6</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xA7</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xA8</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xA9</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xAA</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xAB</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xAC</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xAD</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xAE</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xAF</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_BASE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">26-</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused</td>
</tr>
<tr>
<td nowrap align="center">0-25</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>array base addres in main memory</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xB0</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xB1</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xB2</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xB3</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xB4</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xB5</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xB6</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xB7</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xB8</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xB9</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xBa</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xBb</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xBc</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xBd</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xBe</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0xBf</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ARRAY_STRIDE</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">8-</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>array stride</td>
</tr>
</table>
</td></tr>
</table>
<br><div class="idx"><a href="#idx5.11.3">index</a></div>
<h4>
<a name="sec5.11.3">
5.11.3</a>&nbsp;&nbsp;internal XF Memory</h4>
<br>
Every register in the transform unit is mapped to a unique 32b address.
All addresses are available to the xform register load command (command
0x30). <br><br>
The first block is formed by the matrix memory. Its address range
is 0 to 1 k, but only 256 entries are used. This memory is organized
in a 64 entry by four 32b words. Each word has a unique address and
is a single precision floating point number. For block writes, the
addresses auto increment. The memory is implemented in less than 4-32b
rams, then it is possible that the memory writes to this block will
require a minimum write size larger than 1 word.<br><br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>32</tt></td>
<td nowrap>Matrix Ram word 0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0001</tt></td>
<td nowrap align="center"><tt>0x00ff</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Matrix Ram word (n)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0100</tt></td>
<td nowrap align="center"><tt>0x03ff</tt></td>
<td nowrap align="center"><tt>0x300</tt></td>
<td nowrap>not used</td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><tt>0 - position matrix (4*3)</tt>&nbsp;<br><tt>0xF0 - (texture?) transform matrix (4*3)</tt>&nbsp;<br><tt></tt>&nbsp;<br>
The second block of memory is the normal matrix memory. It is organized
as 32 rows of 3 words. Each word has a unique address and is a single
precision floating point number. Also, each word written is 32b, but
only the 20 most significant bits are kept. For simplicity, the minimum
granularity of writes will be 3 words:<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0400</tt></td>
<td nowrap align="center"><tt>0x0402</tt></td>
<td nowrap align="center"><tt>20</tt></td>
<td nowrap>Normal Ram words 0,1,2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0403</tt></td>
<td nowrap align="center"><tt>0x045f</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Normal Ram word (n)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0460</tt></td>
<td nowrap align="center"><tt>0x05ff</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>not used</td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><tt>0x400 - normal transform matrix (3*3)</tt>&nbsp;<br><tt></tt>&nbsp;<br>
The third block of memory holds the dual texture transform matrices.
The format is identical to the first block of matrix memory. There
are also 64 rows of 4 words for these matrices. These matrices can
only be used for the dual transform of regular textures:<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0500</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>32</tt></td>
<td nowrap>Matrix Ram word 0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0501</tt></td>
<td nowrap align="center"><tt>0x05ff</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Matrix Ram word (n)</td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><tt>0x5F4 - dual texture transform matrix (4*3)</tt>&nbsp;<br><tt></tt>&nbsp;<br>
The fourth block of memory is the light memory. This holds all the
lighting information (light vectors, light parameters, etc.). Both
global state and ambient state are stored in this memory. Each word
written is 32b, but only the 20 most significant bits are kept. Each
row is 3 words wide. Minimum word write size is 3 words.<br><tt></tt>&nbsp;<br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0600</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>reserved</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0601</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>reserved</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0602</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>reserved</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0603</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>32 bit</tt></td>
<td nowrap>Light0 - RGBA</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0604</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>20 bit</tt></td>
<td nowrap>Light0A0 - cos atten. A-0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0605</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>20 bit</tt></td>
<td nowrap>Light0A1 - cos atten. A-1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0606</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>20 bit</tt></td>
<td nowrap>Light0A2 - cos atten. A-2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0607</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>20 bit</tt></td>
<td nowrap>Light0K0 - dist atten. A-0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0608</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>20 bit</tt></td>
<td nowrap>Light0K1 - dist atten. A-1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0609</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>20 bit</tt></td>
<td nowrap>Light0K2 - dist atten. A-2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x060a</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>20 bit</tt></td>
<td nowrap>Light0Lpx - x light pos, or inf ldir x</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x060b</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>20 bit</tt></td>
<td nowrap>Light0Lpy - y light pos, or inf ldir y</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x060c</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>20 bit</tt></td>
<td nowrap>Light0Lpz - z light pos, or inf ldir z</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x060d</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>20 bit</tt></td>
<td nowrap>Light0Dx/Hx - light dir x, or 1/2 angle x</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x060e</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>20 bit</tt></td>
<td nowrap>Light0Dy/Hy - light dir y, or 1/2 angle y</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x060f</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>20 bit</tt></td>
<td nowrap>Light0Dz/Hz - light dir z, or 1/2 angle z</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0610</tt></td>
<td nowrap align="center"><tt>0x067f</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Light(n)data - see Light0 data</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0680</tt></td>
<td nowrap align="center"><tt>0x07ff</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>not used</td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><div class="idx"><a href="#idx5.11.4">index</a></div>
<h4>
<a name="sec5.11.4">
5.11.4</a>&nbsp;&nbsp;internal XF Registers</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Registerblock Base</b></td>
<td nowrap align="center"><b>Size of Registerblock</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1000</tt></td>
<td nowrap align="center"><tt>0x54</tt></td>
<td nowrap align="center"><tt>4</tt></td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>Register</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Error (=0x3f)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1001</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Diagnostics</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1002</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>State0 - Internal State Register 0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1003</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>State1 - Internal State Register 1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1004</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Xf_clock - Enables Power Saving Mode</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1005</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ClipDisable - clip mode (=0)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1006</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Perf0 - Performance monitor selects (=0)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1007</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Perf1 - Xform target performance register</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1008</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>InVertexSpec - INVTXSPEC - (=0x01)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1009</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>NumColors - NUMCOLORS - (=0x00)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x100a</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Ambient0 - chan Ambient color 0 (=0x00)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x100b</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Ambient1- chan Ambient color 1 (=0x00)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x100c</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Material0 - chan Material ID 0 (=0xffffffff)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x100d</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Material1 - chan Material ID 1 (=0xffffffff)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x100e</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>COLOR0CNTRL (=0x0401)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x100f</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>COLOR1CNTRL (=0x0401)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1010</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ALPHA0CNTRL (=0x0401)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1011</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ALPHA1CNTRL (=0x0401)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1012</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DualTexTrans - (=0x01)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1013</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1014</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1015</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1016</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1017</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1018</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MatrixIndex0 - MATINDEX A </td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1019</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MatrixIndex1 - MATINDEX B</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x101a</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ScaleX - Viewport Scale X</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x101b</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ScaleY - Viewport Scale Y</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x101c</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Scale Z - Viewport Scale Z</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x101d</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>OffsetX - Viewport Offset X</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x101e</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>OffsetY - Viewport Offset Y</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x101f</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>OffsetZ - Viewport Offset Z</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1020</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ProjectionA - A parameter in projection equations</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1021</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ProjectionB - B parameter in projection equations</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1022</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ProjectionC - C parameter in projection equations</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1023</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ProjectionD - D parameter in projection equations</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1024</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ProjectionE - E parameter in projection equations</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1025</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ProjectionF - F parameter in projection equations</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1026</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ProjectOrtho</td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>Register</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x103f</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>NUMTEX - Number of active Textures</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1040</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TEX0 </td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1041</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TEX1 </td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1042</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TEX2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1043</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TEX3</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1044</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TEX4</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1045</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TEX5</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1046</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TEX6</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1047</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TEX7</td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>Register</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1050</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DUALTEX0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1051</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DUALTEX1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1052</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DUALTEX2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1053</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DUALTEX3</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1054</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DUALTEX4</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1055</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DUALTEX5</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1056</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DUALTEX6</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1057</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DUALTEX7</td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1000</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Error</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1001</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Diagnostics</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1002</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">State 0 - Internal State Register 0</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1003</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">State 1 - Internal State Register 1</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1004</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Xf_clock</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>no power saving when idle</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>enable Power saving when idle</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1005</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ClipDisable</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>when set, disable cpoly clipping acceleration (default==0)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>when set, disable trivial rejection (default==0)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>when set, disable clipping detection (default==0)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1006</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Perf0 - Performance monitor selects</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1007</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Perf1 - Xform target performance Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">0-6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Xform internal target performance (Cycles per Vertex)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1008</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>INVTXSPEC</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">4-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>HOST_TEXTURES -</tt> number of host supplied texture coordinates</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>no host supplied textures</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>1 host supplied texture pair (S0, T0)</td>
</tr>
<tr>
<td nowrap align="center">2-8</td>
<td nowrap>2-8 host supplied texturepairs</td>
</tr>
<tr>
<td nowrap align="center">9-15</td>
<td nowrap>reserved/unused</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">2-3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>HOST_NORMAL -</tt> host supplied normal</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>no host supplied normal</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>host supplied normal</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>host supplied normal and binormals</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0-1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>HOST_COLORS -</tt> host supplied color0 usage</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>no host supplied color information</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>host supplied color 0</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>host supplied color 0 and color 1</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1009</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">NUMCOLORS</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>value</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>No colors</tt></td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>One color -</tt> Xform supplies 1 color (host supplied or computed)</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>Two colors -</tt> Xform supplies 2 colors (host supplied or computed)</td>
</tr>
</table>
</td></tr>
<tr><td nowrap><tt>Selects the number of output colors</tt></td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x100a</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>XF_AMBIENT0 - Ambient color 0 specifications</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>RED</tt></td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>GREEN</tt></td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>BLUE</tt></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>ALPHA</tt></td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x100b</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>XF_AMBIENT1 - Ambient color 1 specifications</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>RED</tt></td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>GREEN</tt></td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>BLUE</tt></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>ALPHA</tt></td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x100c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">
<tt>XF_MATERIAL0 -</tt> global color0 material specification</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>RED</tt></td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>GREEN</tt></td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>BLUE</tt></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>ALPHA</tt></td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x100d</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">
<tt>XF_MATERIAL1 -</tt> global color1 material specification</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>RED</tt></td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>GREEN</tt></td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>BLUE</tt></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>ALPHA</tt></td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x100e</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>COLOR0CNTRL</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT7 -</tt> Light 7 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT6 -</tt> Light6 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT5 -</tt> Light5 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT4 -</tt> Light4 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>ATTENSELECT -</tt> Attenuation Select function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Select specular (N.H) attenuation</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Select diffuse spotlight (L.Ldir) attenuation</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>ATTENENABLE -</tt> Attenuation Enable function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Select 1.0</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Select Attenuation fraction</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">7-8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>DIFFUSEATTEN -</tt> Diffuse Attenuation function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">00</td>
<td nowrap>Select 1.0</td>
</tr>
<tr>
<td nowrap align="center">01</td>
<td nowrap>Select N.L, signed</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>Select N.L clamped to [0,1.0]</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>AMBIENT_SRC -</tt> Ambient source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Use register Ambient0 register</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use CP supplied vertex color 0</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT3 -</tt> Light3 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT2 -</tt> Light2 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT1 -</tt> Light1 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT0 -</tt> Light0 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHTFUNC -</tt> Color0 Light Function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Use 1.0</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use Illum0</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>MATERIAL_SRC -</tt> Color0 Material source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Use register (Material 0)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use CP supplied Vertex color 0</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x100f</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>COLOR1CNTRL</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT7 -</tt> Light 7 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT6 -</tt> Light6 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT5 -</tt> Light5 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT4 -</tt> Light4 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>ATTENSELECT -</tt> Attenuation Select function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Select specular (N.H) attenuation</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Select diffuse spotlight (L.Ldir) attenuation</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>ATTENENABLE -</tt> Attenuation Enable function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Select 1.0</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Select Attenuation fraction</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">7-8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>DIFFUSEATTEN -</tt> Diffuse Attenuation function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">00</td>
<td nowrap>Select 1.0</td>
</tr>
<tr>
<td nowrap align="center">01</td>
<td nowrap>Select N.L, signed</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>Select N.L clamped to [0,1.0]</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>AMBIENT_SRC -</tt> Ambient source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Use register Ambient1 register</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use CP supplied vertex color 1</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT3 -</tt> Light3 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT2 -</tt> Light2 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT1 -</tt> Light1 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT0 -</tt> Light0 is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHTFUNC -</tt> Color1 Light Function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Use 1.0</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use Illum1</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>MATERIAL_SRC -</tt> Color1 Material source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Use register (Material 1)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use CP supplied Vertex color 1</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1010</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>ALPHA0CNTRL</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT7 -</tt> Light 7 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT6 -</tt> Light6 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT5 -</tt> Light5 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT4 -</tt> Light4 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>ATTENSELECT -</tt> Attenuation Select function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Select specular (N.H) attenuation</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Select diffuse spotlight (L.Ldir) attenuation</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>ATTENENABLE -</tt> Attenuation Enable function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Select 1.0</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Select Attenuation fraction</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">7-8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>DIFFUSEATTEN -</tt> Diffuse Attenuation function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">00</td>
<td nowrap>Select 1.0</td>
</tr>
<tr>
<td nowrap align="center">01</td>
<td nowrap>Select N.L, signed</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>Select N.L clamped to [0,1.0]</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>AMBIENT_SRC -</tt> Ambient source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Use register Ambient0 alpha register</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use CP supplied vertex color 0 alpha</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT3 -</tt> Light3 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT2 -</tt> Light2 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT1 -</tt> Light1 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT0 -</tt> Light0 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHTFUNC -</tt> Color0 alpha Light Function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Use 1.0</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use Illum0</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>MATERIAL_SRC -</tt> Color0 alpha Material source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Use register (Material 0 alpha)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use CP supplied Vertex color 0 alpha</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1011</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center"><tt>ALPHA1CNTRL</tt></td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT7 -</tt> Light 7 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT6 -</tt> Light6 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT5 -</tt> Light5 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT4 -</tt> Light4 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use Light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>ATTENSELECT -</tt> Attenuation Select function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Select specular (N.H) attenuation</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Select diffuse spotlight (L.Ldir) attenuation</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>ATTENENABLE -</tt> Attenuation Enable function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Select 1.0</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Select Attenuation fraction</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">7-8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>DIFFUSEATTEN -</tt> Diffuse Attenuation function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">00</td>
<td nowrap>Select 1.0</td>
</tr>
<tr>
<td nowrap align="center">01</td>
<td nowrap>Select N.L, signed</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>Select N.L clamped to [0,2.0]</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>AMBIENT_SRC -</tt> Ambient source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Use register Ambient1 alpha register</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use CP supplied vertex color 1 alpha</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT3 -</tt> Light3 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT2 -</tt> Light2 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT1 -</tt> Light1 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHT0 -</tt> Light0 alpha is source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Do not use light</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use light</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>LIGHTFUNC -</tt> Color0 alpha Light Function</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Use 1.0</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use Illum0</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>MATERIAL_SRC -</tt> Color0 alpha Material source</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>Use register (Material 0 alpha)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>Use CP supplied Vertex color 0 alpha</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1012</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">DualTexTrans</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>disable dual texture transform feature</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>enable dual transform for all texture coordinates</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1013</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1014</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1015</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1016</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1017</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1018</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">MatrixIndex0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24-29</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Tex3 matrix index</td>
</tr>
<tr>
<td nowrap align="center">23-18</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Tex2 matrix index</td>
</tr>
<tr>
<td nowrap align="center">12-17</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Tex1 matrix index</td>
</tr>
<tr>
<td nowrap align="center">6-11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Tex0 matrix index</td>
</tr>
<tr>
<td nowrap align="center">0-5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Geometry matrix index</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1019</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">MatrixIndex1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">18-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Tex7 matrix index</td>
</tr>
<tr>
<td nowrap align="center">12-17</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Tex6 matrix index</td>
</tr>
<tr>
<td nowrap align="center">6-11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Tex5 matrix index</td>
</tr>
<tr>
<td nowrap align="center">0-5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Tex4 matrix index</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x101A</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Viewport</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x101B</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Viewport</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x101C</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Viewport</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x101D</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Viewport</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x101E</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Viewport</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x101F</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Viewport</td>
</tr></table>
</td></tr>
<tr><td nowrap>Viewport Matrix</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x101A</tt></td>
<td nowrap align="center">f32</td>
<td nowrap>wd / 2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x101B</tt></td>
<td nowrap align="center">f32</td>
<td nowrap>-ht / 2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x101C</tt></td>
<td nowrap align="center">f32</td>
<td nowrap>ZMAX * (farZ - nearZ)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x101D</tt></td>
<td nowrap align="center">f32</td>
<td nowrap>xOrig + wd / 2 + 342</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x101E</tt></td>
<td nowrap align="center">f32</td>
<td nowrap>yOrig + ht / 2 + 342</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x101F</tt></td>
<td nowrap align="center">f32</td>
<td nowrap>ZMAX * farZ</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>ZMAX is 16777215.0 (maximum 24-bit Z buffer value, or 'infinite')</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1020</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Projection Matrix</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1021</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Projection Matrix</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1022</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Projection Matrix</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1023</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Projection Matrix</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1024</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Projection Matrix</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1025</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">Projection Matrix</td>
</tr></table>
</td></tr>
<tr><td nowrap>Projection Matrix</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>orthogonal</td>
<td nowrap>perspective</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1020</tt></td>
<td nowrap align="center">f32</td>
<td nowrap>2.0 / (r - l)</td>
<td nowrap>(1.0f / tanf(fovy * 0.5F)) / aspect</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1021</tt></td>
<td nowrap align="center">f32</td>
<td nowrap>-(r+l) / (r-l)</td>
<td nowrap>0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1022</tt></td>
<td nowrap align="center">f32</td>
<td nowrap>2.0 / (t-b)</td>
<td nowrap>(1.0f / tanf(fovy * 0.5F))</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1023</tt></td>
<td nowrap align="center">f32</td>
<td nowrap>-(t+b)/(t-b)</td>
<td nowrap>0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1024</tt></td>
<td nowrap align="center">f32</td>
<td nowrap>-1.0/(f-n)</td>
<td nowrap>-n * 1.0f / (f-n)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1025</tt></td>
<td nowrap align="center">f32</td>
<td nowrap>-(f)/(f-n)</td>
<td nowrap>-(f*n) * 1.0f / (f-n)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1026</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">ProjectOrtho</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr></table>
</td></tr>
<tr><td nowrap>If set selects orthographic otherwise non-orthographic (Zh or 1.0
select)</td></tr>
</table>
<br><br>
note: regs <tt>0x1027</tt>-<tt>0x103e</tt> skipped (all unknown)<br><br><table><tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x103f</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">NUMTEX - Number of active Textures</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1040</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEX0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1041</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEX1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1042</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEX2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1043</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEX3</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1044</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEX4</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1045</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEX5</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1046</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEX6</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1047</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">TEX7</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">15-17</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>EMBOSS_LIGHT</tt> - Bump mapping source light (*1)</td>
</tr>
<tr>
<td nowrap align="center">12-14</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>EMBOSS_SOURCE</tt> - bump mapping source texture (*2)</td>
</tr>
<tr>
<td nowrap align="center">7-11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>SOURCE_ROW</tt> - regular texture source row (*3)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>GEOM_INROW -</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>NORMAL_INROW - </td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>COLORS_INROW - </td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>BINORMAL_T_INROW - </td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>BINORMAL_B_INROW - </td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>TEX0_INROW - </td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>TEX1_INROW - </td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>TEX2_INROW - </td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap>TEX3_INROW - </td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap>TEX4_INROW - </td>
</tr>
<tr>
<td nowrap align="center">a</td>
<td nowrap>TEX5_INROW - </td>
</tr>
<tr>
<td nowrap align="center">b</td>
<td nowrap>TEX6_INROW - </td>
</tr>
<tr>
<td nowrap align="center">c</td>
<td nowrap>TEX7_INROW - </td>
</tr>
<tr>
<td nowrap align="center">d</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">e</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">f</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">4-6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>TEXGEN_TYPE</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>REGULAR - Regular transformation (transform incoming data)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>EMBOSS_MAP - texgen bump mapping</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>COLOR_STRGBC0 - Color texgen: (s,t)=(r,g:b) (g and b are concatenated),
color 0</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>COLOR_STRGBC1 - Color texgen: (s,t)=(r,g:b) (g and b are concatenated),
color 1</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>reserved/unused</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>INPUT_FORM</tt> - format of source input data for regular textures</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>AB11 - (A, B, 1.0, 1.0) (used for regular texture source)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>ABC1 - (A, B, C, 1.0) (used for geometry or normal source)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>PROJECTION</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>ST - (s,t): texmul is 2x4</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>STQ - (s,t,q): texmul is 3x4</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>reseved/unused</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
(*1) n: use light #n for bump map direction source (10 to 17)<br>
(*2) n: use regular transformed tex(n) for bump mapping source<br>
(*3) Specifies location of incoming textures in vertex (row specific)
(i.e.: geometry is row0, normal is row1, etc . . . ) for regular transformations<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
note: regs 0x1048-104f skipped (all unknown)<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1050</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">DUALTEX0</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1051</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">DUALTEX1</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1052</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">DUALTEX2</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table><tr>
<td nowrap align="center"><tt>0x1053</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">DUALTEX3</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>NORMAL_ENABLE</tt> - specifies if texture coordinate should be
normalized before send transform.</td>
</tr>
<tr>
<td nowrap align="center">6-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused</td>
</tr>
<tr>
<td nowrap align="center">0-5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt>DUALMTX</tt> - base row of the dual transform matrix for regular
texture coordinate0 (63 max, simelar to 0x1018/0x1019)</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><div class="idx"><a href="#idx5.11.5">index</a></div>
<h4>
<a name="sec5.11.5">
5.11.5</a>&nbsp;&nbsp;GP packet description </h4>
<br>
The first thing in a GP Packet is the command type (8 bit).Next follows
actual primitive data. It may vary on each opcode type.<br><h5>5.11.5.1 <a name="sec5.11.5.1">
    &nbsp;&nbsp;Command Type</a>
</h5>
<br><table>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>oooo</tt></td>
<td nowrap align="right"><tt>ovvv</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">o</td>
<td nowrap>Opcode</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">v</td>
<td nowrap>Vertex Attribute Table Index (VAT)</td>
</tr>
</table>
</td></tr>
</table>
<br><br>    &nbsp;&nbsp;&nbsp;<b><a name="sec5.11.5.1.1">
    5.11.5.1.1&nbsp;&nbsp;opcodes</a>
&nbsp;</b>
<table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">opcode</td>
<td nowrap>Description</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap>NOP - No Operation</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x08</tt></td>
<td nowrap>Load CP REG</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x10</tt></td>
<td nowrap>Load XF REG</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x20</tt></td>
<td nowrap>Load INDX A</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x28</tt></td>
<td nowrap>Load INDX B</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x30</tt></td>
<td nowrap>Load INDX C</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x38</tt></td>
<td nowrap>Load INDX D</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x40</tt></td>
<td nowrap>CALL DL - Call Displaylist</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x48</tt></td>
<td nowrap>Invalidate Vertex Cache</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x61</tt></td>
<td nowrap>Load BP REG (SU_ByPassCmd)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80</tt></td>
<td nowrap>QUADS - Draw Quads (*)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x90</tt></td>
<td nowrap>TRIANGLES - Draw Triangles (*)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x98</tt></td>
<td nowrap>TRIANGLESTRIP - Draw Triangle Strip (*)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xA0</tt></td>
<td nowrap>TRIANGLEFAN - Draw Triangle Fan (*)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xA8</tt></td>
<td nowrap>LINES - Draw Lines (*)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xB0</tt></td>
<td nowrap>LINESTRIP - Draw Line Strip (*)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xB8</tt></td>
<td nowrap>POINTS - Draw Points (*)</td>
</tr>
</table>
</td></tr></table>
<br>
(*) all draw opcodes must be Or-ed with used VAT index (0...7) <br><br><h5>5.11.5.2 <a name="sec5.11.5.2">
    &nbsp;&nbsp;Drawing Commands</a>
</h5>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">8 bits</td>
<td nowrap align="center">16 bits</td>
<td nowrap align="center">n</td>
</tr>
<tr>
<td nowrap align="center">opcode</td>
<td nowrap align="center">number of vertices</td>
<td nowrap align="center">vertex data</td>
</tr>
</table>
</td></tr></table>
<br><br>
Vertex data may be in one of many formats. The VCD tells wether data
for a component exists (and if yes, if it is direct or indexed) and
the VAT tells the actual format of the respective component. Each
individual component may or may not exist, but the order is fixed
as follows:
<ol type="1">
<li> PNMTXIDX - Position/Normal Matrix Index
</li>
<li> TEX0MTXIDX - Texture 0 Matrix Index
</li>
<li> TEX1MTXIDX - Texture 1 Matrix Index
</li>
<li> TEX2MTXIDX - Texture 2 Matrix Index
</li>
<li> TEX3MTXIDX - Texture 3 Matrix Index
</li>
<li> TEX4MTXIDX - Texture 4 Matrix Index
</li>
<li> TEX5MTXIDX - Texture 5 Matrix Index
</li>
<li> TEX6MTXIDX - Texture 6 Matrix Index
</li>
<li> TEX7MTXIDX - Texture 7 Matrix Index
</li>
<li> POS - Position Vector
</li>
<li> NRM - Normal or NBT - Binormal vector (T, B)
</li>
<li> CLR0 - Color0 (Diffused)
</li>
<li> CLR1 - Color1 (Specular)
</li>
<li> TEX0 - Texture 0 data
</li>
<li> TEX1 - Texture 1 data
</li>
<li> TEX2 - Texture 2 data
</li>
<li> TEX3 - Texture 3 data
</li>
<li> TEX4 - Texture 4 data
</li>
<li> TEX5 - Texture 5 data
</li>
<li> TEX6 - Texture 6 data
</li>
<li> TEX7 - Texture 7 data
</li>
</ol>
Notice that the Position/Normal and Texture Matrix Indices are different
from the other data in that they are 8 bit and must always be sent
as direct data.
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec5.11.5.2.1">
    5.11.5.2.1&nbsp;&nbsp;Quads</a>
&nbsp;</b>
draws a series of non planar quads, using v0,v1,v2,v3 then v4,v5,v6,v7
and so on. (the quad is actually drawn using 2 triangles so the 4
vertices do not have to be coplanar). The minimum number of vertices
is 4.
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec5.11.5.2.2">
    5.11.5.2.2&nbsp;&nbsp;Triangles</a>
&nbsp;</b>
draws a series of triangles, from v0,v1,v2 then v3,v4,v5 and so on.
The number of vertices should be a multiple of 3
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec5.11.5.2.3">
    5.11.5.2.3&nbsp;&nbsp;Trianglestrip</a>
&nbsp;</b>
draws a series of triangles, from v0,v1,v2 then v1,v3,v2, then v2,v3,v4
amd so on. The number of vertices must be at least 3.
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec5.11.5.2.4">
    5.11.5.2.4&nbsp;&nbsp;TriangleFan</a>
&nbsp;</b>
draws a series of triangles, from v0,v1,v2 then v0,v2,v3 and so on.
The number of vertices must be at least 3.
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec5.11.5.2.5">
    5.11.5.2.5&nbsp;&nbsp;Lines</a>
&nbsp;</b>
draws a series of unconnected lines, from v0 to v1, then from v2 to
v3 and so on. The number of vertices should be a multiple of 2
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec5.11.5.2.6">
    5.11.5.2.6&nbsp;&nbsp;Linestrip</a>
&nbsp;</b>
draws a series of connected lines, from v0 to v1, then from v1 to
v2 and so on. If n vertices are drawn, n-1 lines are drawn
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec5.11.5.2.7">
    5.11.5.2.7&nbsp;&nbsp;Points</a>
&nbsp;</b>
draws a Point at each of the n vertices
<b>5.11.5.3<a name="sec5.11.5.3">
    &nbsp;&nbsp;NOP - No Operation</a>
&nbsp;</b>
Use it to pad primitive data to 32-byte boundaries and to terminate
a display list.
<b>5.11.5.4<a name="sec5.11.5.4">
    &nbsp;&nbsp;CALL DL - Call Display List</a>
&nbsp;</b>
used to call one display list from another.<br><br><table>
<tr><td nowrap>
<table>
<tr><td nowrap align="center">8 bits</td></tr>
<tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>0100</tt></td>
<td nowrap align="right"><tt>0000</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap align="center">opcode == 0x40</td></tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr><td nowrap align="center">32 bits</td></tr>
<tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>000.</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap align="center">list address</td></tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr><td nowrap align="center">32 bits</td></tr>
<tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>0000</tt></td>
<td nowrap align="right"><tt>000.</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap align="center">list size in bytes (32 bit words?)</td></tr>
</table>
</td></tr>
</table>
<br><h5>5.11.5.5 <a name="sec5.11.5.5">
    &nbsp;&nbsp;Invalidate Vertex Cache</a>
</h5>
<br><table><tr><td nowrap align="center">
<table>
<tr><td nowrap align="center">8 bits</td></tr>
<tr><td nowrap align="center">opcode == 0x48</td></tr>
</table>
</td></tr></table>
<br><br><h5>5.11.5.6 <a name="sec5.11.5.6">
    &nbsp;&nbsp;BP command (Bypass Raster State Registers)</a>
</h5>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">8 bits</td>
<td nowrap align="center">8 bits</td>
<td nowrap align="center">24 bits</td>
</tr>
<tr>
<td nowrap align="center">opcode == 0x61</td>
<td nowrap align="center">reg. addr.</td>
<td nowrap align="center">reg. value</td>
</tr>
</table>
</td></tr></table>
<br><br><h5>5.11.5.7 <a name="sec5.11.5.7">
    &nbsp;&nbsp;CP command (Command Processor Registers)</a>
</h5>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">8 bits</td>
<td nowrap align="center">8 bits</td>
<td nowrap align="center">32 bits</td>
</tr>
<tr>
<td nowrap align="center">opcode == 0x08</td>
<td nowrap align="center">reg. addr.</td>
<td nowrap align="center">reg. value</td>
</tr>
</table>
</td></tr></table>
<br><h5>5.11.5.8 <a name="sec5.11.5.8">
    &nbsp;&nbsp;XF command (Transform Unit Registers)</a>
</h5>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">8 bits</td>
<td nowrap align="center">16 bits</td>
<td nowrap align="center">16 bits</td>
<td nowrap align="center">32 bits * length</td>
</tr>
<tr>
<td nowrap align="center">opcode == 0x10</td>
<td nowrap align="center">length - 1</td>
<td nowrap align="center">1st addr.</td>
<td nowrap align="center">reg. value(s)</td>
</tr>
</table>
</td></tr></table>
<br><br>
note : "length" is limited to 16.<br><br><h5>5.11.5.9 <a name="sec5.11.5.9">
    &nbsp;&nbsp;Indexed XF command</a>
</h5>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">8 bits</td>
<td nowrap align="center">16 bits</td>
<td nowrap align="center">4 bits</td>
<td nowrap align="center">12 bits</td>
</tr>
<tr>
<td nowrap align="center">opcode </td>
<td nowrap align="center">index value</td>
<td nowrap align="center">length-1</td>
<td nowrap align="center">1st address</td>
</tr>
</table>
</td></tr></table>
<br><br>
note : "length" is limited to 16.<br><br>
There are 4 different XF index units, which are typically used as
follows: A: pos. mtx's B: nrm. mtx's C: tex. mtx's D: light obj's.<br><div class="idx"><a href="#idx6">index</a></div>
<h2>
<a name="sec6">
6</a>&nbsp;&nbsp;Exception and Interrupt Processing</h2>
<br><div class="idx"><a href="#idx6.1">index</a></div>
<h3>
<a name="sec6.1">
6.1</a>&nbsp;&nbsp;Hardware Exception Sources</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Handler Start</b></td>
<td nowrap><b>Exception</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000100</tt></td>
<td nowrap>System Reset Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000200</tt></td>
<td nowrap>Machine Check Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000300</tt></td>
<td nowrap>DSI Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000400</tt></td>
<td nowrap>ISI Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000500</tt></td>
<td nowrap>External Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000600</tt></td>
<td nowrap>Alignment Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000700</tt></td>
<td nowrap>Program Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000800</tt></td>
<td nowrap>FP unavailable Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000900</tt></td>
<td nowrap>Decrementer Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000C00</tt></td>
<td nowrap>System Call Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000d00</tt></td>
<td nowrap>Trace Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80000f00</tt></td>
<td nowrap>Performance Monitor Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80001300</tt></td>
<td nowrap>IABR Interrupt</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x80001700</tt></td>
<td nowrap>Thermal Interrupt</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx6.1.1">index</a></div>
<h4>
<a name="sec6.1.1">
6.1.1</a>&nbsp;&nbsp;System Reset Interrupt</h4>
<br>
Triggered at a system reset
      <div class="idx"><a href="#idx6.1.2">index</a></div>
<h4>
<a name="sec6.1.2">
6.1.2</a>&nbsp;&nbsp;Machine Check Interrupt</h4>
<br><div class="idx"><a href="#idx6.1.3">index</a></div>
<h4>
<a name="sec6.1.3">
6.1.3</a>&nbsp;&nbsp;DSI Interrupt</h4>
<br>
Triggered if an attempt to store or read data from/to an illegal address
was made
      <div class="idx"><a href="#idx6.1.4">index</a></div>
<h4>
<a name="sec6.1.4">
6.1.4</a>&nbsp;&nbsp;ISI Interrupt</h4>
<br>
Triggered if an attempt to fetch an instruction from an illegal address
was made.
      <div class="idx"><a href="#idx6.1.5">index</a></div>
<h4>
<a name="sec6.1.5">
6.1.5</a>&nbsp;&nbsp;External Interrupt</h4>
<br>
14 sources, triggered by external chips (you may look at it as the
traditional IRQ). 
<h5>6.1.5.1 <a name="sec6.1.5.1">
    &nbsp;&nbsp;Setup</a>
</h5>
<br><ul>
<li> set corresponding bit(s) in PI Interrupt Mask Register (<tt>0xcc003004</tt>)
</li>
<li> enable external Interrupts in the Machine State Register
</li>
</ul>
<h5>6.1.5.2 <a name="sec6.1.5.2">
    &nbsp;&nbsp;Handling</a>
</h5>
<br><ul>
<li> check PI Interrupt Cause Register (<tt>0xcc003000</tt>) for flags
</li>
<li> acknowledge by setting corresponding bits in PI Interrupt Cause Register
(<tt>0xcc003000</tt>)
</li>
<li> handle different interrupt sources
</li>
</ul>
<table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>bit</b></td>
<td nowrap>&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap>HSP</td>
<td nowrap>High Speed Port</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap>DEBUG</td>
<td nowrap>External Debugger</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap>CP</td>
<td nowrap>Command FIFO</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>PE FINISH</td>
<td nowrap>Frame is Ready</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap>PE TOKEN</td>
<td nowrap>Token Assertion in Command List</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap>VI </td>
<td nowrap>Video Interface</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>MEM</td>
<td nowrap>Memory Interface</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>DSP</td>
<td nowrap>DSP</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>AI</td>
<td nowrap>Audio Streaming</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>EXI</td>
<td nowrap>EXI</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>SI</td>
<td nowrap>Serial</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>DI</td>
<td nowrap>DVD</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>RSW</td>
<td nowrap>Reset Switch</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap>ERROR</td>
<td nowrap>GP runtime error</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx6.1.6">index</a></div>
<h4>
<a name="sec6.1.6">
6.1.6</a>&nbsp;&nbsp;Alignment Interrupt</h4>
<br><div class="idx"><a href="#idx6.1.7">index</a></div>
<h4>
<a name="sec6.1.7">
6.1.7</a>&nbsp;&nbsp;Program Interrupt</h4>
<br>
Triggered if the instruction that was about to execute is invalid.
      <div class="idx"><a href="#idx6.1.8">index</a></div>
<h4>
<a name="sec6.1.8">
6.1.8</a>&nbsp;&nbsp;FP unavailable Interrupt</h4>
<br><div class="idx"><a href="#idx6.1.9">index</a></div>
<h4>
<a name="sec6.1.9">
6.1.9</a>&nbsp;&nbsp;Decrementer Interrupt</h4>
<br>
Triggered by an underflow of the decrementer register.
      <div class="idx"><a href="#idx6.1.10">index</a></div>
<h4>
<a name="sec6.1.10">
6.1.10</a>&nbsp;&nbsp;System Call Interrupt</h4>
<br>
Triggered when the PowerPC instruction 'sc' is executed.
      <div class="idx"><a href="#idx6.1.11">index</a></div>
<h4>
<a name="sec6.1.11">
6.1.11</a>&nbsp;&nbsp;Trace Interrupt</h4>
<br><div class="idx"><a href="#idx6.1.12">index</a></div>
<h4>
<a name="sec6.1.12">
6.1.12</a>&nbsp;&nbsp;Performance Monitor Interrupt</h4>
<br><div class="idx"><a href="#idx6.1.13">index</a></div>
<h4>
<a name="sec6.1.13">
6.1.13</a>&nbsp;&nbsp;IABR Interrupt</h4>
<br><div class="idx"><a href="#idx6.1.14">index</a></div>
<h4>
<a name="sec6.1.14">
6.1.14</a>&nbsp;&nbsp;Thermal Interrupt</h4>
<br><div class="idx"><a href="#idx6.2">index</a></div>
<h3>
<a name="sec6.2">
6.2</a>&nbsp;&nbsp;External Interrupt Sources</h3>
<br><div class="idx"><a href="#idx6.2.1">index</a></div>
<h4>
<a name="sec6.2.1">
6.2.1</a>&nbsp;&nbsp;HSP - High Speed Port</h4>
<br>
3 Sources
<h5>6.2.1.1 <a name="sec6.2.1.1">
    &nbsp;&nbsp;TX Mailbox Interrupt</a>
</h5>
<br><h5>6.2.1.2 <a name="sec6.2.1.2">
    &nbsp;&nbsp;RX Mailbox Interrupt</a>
</h5>
<br><h5>6.2.1.3 <a name="sec6.2.1.3">
    &nbsp;&nbsp;ID Interrupt</a>
</h5>
<br><div class="idx"><a href="#idx6.2.2">index</a></div>
<h4>
<a name="sec6.2.2">
6.2.2</a>&nbsp;&nbsp;Debug</h4>
<br>
1 Source
      <div class="idx"><a href="#idx6.2.3">index</a></div>
<h4>
<a name="sec6.2.3">
6.2.3</a>&nbsp;&nbsp;CP - Command Processor</h4>
<br>
2 Sources (read/write pointer watermark over- and underflow) check
bit 0 and bit 1 of <tt>0xcc000000</tt><br><h5>6.2.3.1 <a name="sec6.2.3.1">
    &nbsp;&nbsp;FIFO underflow</a>
</h5>
<br><br>    &nbsp;&nbsp;&nbsp;<b><a name="sec6.2.3.1.1">
    6.2.3.1.1&nbsp;&nbsp;setup</a>
&nbsp;</b>
<ul>
<li> setup CP FIFO low watermark
</li>
<li> set bit 1 of CP interrupt status register (<tt>0xcc000002</tt>) to
enable
</li>
</ul>
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec6.2.3.1.2">
    6.2.3.1.2&nbsp;&nbsp;handling</a>
&nbsp;</b>
<ul>
<li> clear bit 3 of CP interrupt status register (<tt>0xcc000002</tt>)
to acknowledge
</li>
</ul>
<h5>6.2.3.2 <a name="sec6.2.3.2">
    &nbsp;&nbsp;FIFO overflow</a>
</h5>
<br><br>    &nbsp;&nbsp;&nbsp;<b><a name="sec6.2.3.2.1">
    6.2.3.2.1&nbsp;&nbsp;setup</a>
&nbsp;</b>
<ul>
<li> setup CP FIFO high watermark
</li>
<li> set bit 0 of CP interrupt status register (<tt>0xcc000002</tt>) to
enable
</li>
</ul>
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec6.2.3.2.2">
    6.2.3.2.2&nbsp;&nbsp;handling</a>
&nbsp;</b>
<ul>
<li> clear bit 2 of CP interrupt status register (<tt>0xcc000002</tt>)
to acknowledge
</li>
</ul>
<div class="idx"><a href="#idx6.2.4">index</a></div>
<h4>
<a name="sec6.2.4">
6.2.4</a>&nbsp;&nbsp;PE - Pixel Engine Finished</h4>
<br>
1 Source (Frame finished)
<h5>6.2.4.1 <a name="sec6.2.4.1">
    &nbsp;&nbsp;setup</a>
</h5>
<br><ul>
<li> set bit 1 in PE Interrupt status register (<tt>0xcc001000a</tt>)
</li>
</ul>
<h5>6.2.4.2 <a name="sec6.2.4.2">
    &nbsp;&nbsp;handling</a>
</h5>
<br><ul>
<li> set bit 3 in PE Interrupt status register (<tt>0xcc001000a</tt>) to
acknowledge the interrupt
</li>
</ul>
<div class="idx"><a href="#idx6.2.5">index</a></div>
<h4>
<a name="sec6.2.5">
6.2.5</a>&nbsp;&nbsp;PE - Pixel Engine Token</h4>
<br>
1 Source (Token in GP Command List)
<h5>6.2.5.1 <a name="sec6.2.5.1">
    &nbsp;&nbsp;setup</a>
</h5>
<br><ul>
<li> set bit 0 in PE Interrupt status register (<tt>0xcc001000a</tt>)
</li>
</ul>
<h5>6.2.5.2 <a name="sec6.2.5.2">
    &nbsp;&nbsp;handling</a>
</h5>
<br><ul>
<li> check PE Token Register (<tt>0xCC00000E</tt>) for the token that triggered
the interrupt.
</li>
<li> set bit 2 in PE Interrupt status register (<tt>0xcc001000a</tt>) to
acknowledge the interrupt
</li>
</ul>
<div class="idx"><a href="#idx6.2.6">index</a></div>
<h4>
<a name="sec6.2.6">
6.2.6</a>&nbsp;&nbsp;VI - Video Interface</h4>
<br>
4 Sources, check (<tt>0xcc002030</tt>) (<tt>0xcc002034</tt>) (<tt>0xcc002038</tt>)
(<tt>0xcc00203c</tt>) for flags
<h5>6.2.6.1 <a name="sec6.2.6.1">
    &nbsp;&nbsp;Setup</a>
</h5>
<br><ul>
<li> setup desired position of the interrupt
</li>
<li> set enable bit in Display Interrupt Register (<tt>0xcc002030</tt>)
(<tt>0xcc002034</tt>) (<tt>0xcc002038</tt>) (<tt>0xcc00203c</tt>)
</li>
</ul>
<h5>6.2.6.2 <a name="sec6.2.6.2">
    &nbsp;&nbsp;Handling</a>
</h5>
<br><ul>
<li> clear Status bit in Display Interrupt Register (<tt>0xcc002030</tt>)
(<tt>0xcc002034</tt>) (<tt>0xcc002038</tt>) (<tt>0xcc00203c</tt>)
to acknowledge the interrupt.
</li>
</ul>
<div class="idx"><a href="#idx6.2.7">index</a></div>
<h4>
<a name="sec6.2.7">
6.2.7</a>&nbsp;&nbsp;Memory Interface</h4>
<br>
4 sources (4 regions of memory can be protected independently)
<h5>6.2.7.1 <a name="sec6.2.7.1">
    &nbsp;&nbsp;protection fault</a>
</h5>
<br><br>    &nbsp;&nbsp;&nbsp;<b><a name="sec6.2.7.1.1">
    6.2.7.1.1&nbsp;&nbsp;Setup</a>
&nbsp;</b>
<ul>
<li> clear (<tt>0xCC004020</tt>)
</li>
<li> setup the regions in (<tt>0xCC004000</tt>)(<tt>0xCC004004</tt>)(<tt>0xCC004008</tt>)
(<tt>0xCC00400c</tt>)
</li>
<li> setup type of protection in (<tt>0xCC004010</tt>)
</li>
<li> enable protecting of regions in irq mask (<tt>0xCC00401c</tt>)
</li>
</ul>
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec6.2.7.1.2">
    6.2.7.1.2&nbsp;&nbsp;Handling</a>
&nbsp;</b>
<ul>
<li> clear (<tt>0xCC004020</tt>)
</li>
<li> read status bits from (<tt>0xCC00401e</tt>) to check what region triggered
the protection fault
</li>
<li> set status bits in (<tt>0xCC00401e</tt>) to acknowledge the interrupt
</li>
<li> read the address that triggered the protection fault from (<tt>0xCC004022</tt>)
and (<tt>0xCC004024</tt>)
</li>
</ul>
<div class="idx"><a href="#idx6.2.8">index</a></div>
<h4>
<a name="sec6.2.8">
6.2.8</a>&nbsp;&nbsp;DSP Interface</h4>
<br>
3 Sources, check (<tt>0xcc00500a</tt>) for flags
<h5>6.2.8.1 <a name="sec6.2.8.1">
    &nbsp;&nbsp;Audio DMA finished</a>
</h5>
<br>
asserted when audio DMA transfer has been completed.
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec6.2.8.1.1">
    6.2.8.1.1&nbsp;&nbsp;Setup</a>
&nbsp;</b>
<ul>
<li> set bit 4 of DSP Control Register (<tt>0xcc00500a</tt>)
</li>
</ul>
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec6.2.8.1.2">
    6.2.8.1.2&nbsp;&nbsp;Handling</a>
&nbsp;</b>
<ul>
<li> set bit 3 of DSP Control Register (<tt>0xcc00500a</tt>) to acknowledge
the interrupt.
</li>
</ul>
<h5>6.2.8.2 <a name="sec6.2.8.2">
    &nbsp;&nbsp;ARAM transfer complete</a>
</h5>
<br>
asserted when a transfer from/to auxiliary ram has been completed.
<h5>6.2.8.3 <a name="sec6.2.8.3">
    &nbsp;&nbsp;DSP</a>
</h5>
<br><div class="idx"><a href="#idx6.2.9">index</a></div>
<h4>
<a name="sec6.2.9">
6.2.9</a>&nbsp;&nbsp;Audio Streaming Interface</h4>
<br>
1 Source, check (<tt>0xcc006c00</tt>) for flag. asserted based on
the disk streaming sample counter.
      <div class="idx"><a href="#idx6.2.10">index</a></div>
<h4>
<a name="sec6.2.10">
6.2.10</a>&nbsp;&nbsp;EXI</h4>
<br>
3 Sources each EXI Channel (TCINT,EXTINT,EXIIRQ), making 9 total,
check (<tt>0xcc006800</tt>) (<tt>0xcc006814</tt>) (<tt>0xcc006828</tt>)
for flags.
<b>6.2.10.1<a name="sec6.2.10.1">
    &nbsp;&nbsp;DMA Transfer finished (TCINT channel 0, channel 1)</a>
&nbsp;</b>
<h5>6.2.10.2 <a name="sec6.2.10.2">
    &nbsp;&nbsp;Ethernet Adapter (EXIIRQ channel 2)</a>
</h5>
<br><br>    &nbsp;&nbsp;&nbsp;<b><a name="sec6.2.10.2.1">
    6.2.10.2.1&nbsp;&nbsp;setup</a>
&nbsp;</b>
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec6.2.10.2.2">
    6.2.10.2.2&nbsp;&nbsp;handling</a>
&nbsp;</b>
<ul>
<li> check command register 3 (irq status) for the exact source (MX chip,
killing irq,cmd error, challenge/response request, challange/response
status)
</li>
<li> if from MX chip, check register 8 and 9 for the exact cause
</li>
</ul>
<b>6.2.10.3<a name="sec6.2.10.3">
    &nbsp;&nbsp;Memory Card removed (EXTINT channel 0, channel 1)</a>
&nbsp;</b>
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec6.2.10.3.1">
    6.2.10.3.1&nbsp;&nbsp;setup</a>
&nbsp;</b>
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec6.2.10.3.2">
    6.2.10.3.2&nbsp;&nbsp;handling</a>
&nbsp;</b>
<ul>
<li> To check whether the device has been inserted or removed, check the
EXICPR[EXT] bit.
</li>
</ul>
<div class="idx"><a href="#idx6.2.11">index</a></div>
<h4>
<a name="sec6.2.11">
6.2.11</a>&nbsp;&nbsp;Serial Interface</h4>
<br><div class="idx"><a href="#idx6.2.12">index</a></div>
<h4>
<a name="sec6.2.12">
6.2.12</a>&nbsp;&nbsp;DVD Interface</h4>
<br>
4 Sources (Break Complete, DMA finished, Device Error, Cover state
changed), check (<tt>0xcc006000</tt>)(<tt>0xcc006004</tt>) for flags.
<h5>6.2.12.1 <a name="sec6.2.12.1">
    &nbsp;&nbsp;Break Complete</a>
</h5>
<br><h5>6.2.12.2 <a name="sec6.2.12.2">
    &nbsp;&nbsp;DMA finished</a>
</h5>
<br><h5>6.2.12.3 <a name="sec6.2.12.3">
    &nbsp;&nbsp;Device Error</a>
</h5>
<br><h5>6.2.12.4 <a name="sec6.2.12.4">
    &nbsp;&nbsp;Cover State changed</a>
</h5>
<br><div class="idx"><a href="#idx6.2.13">index</a></div>
<h4>
<a name="sec6.2.13">
6.2.13</a>&nbsp;&nbsp;Reset Button</h4>
<br>
1 Source (Reset Button pressed)
<h5>6.2.13.1 <a name="sec6.2.13.1">
    &nbsp;&nbsp;setup</a>
</h5>
<br><ul>
<li> no further setup required
</li>
</ul>
<h5>6.2.13.2 <a name="sec6.2.13.2">
    &nbsp;&nbsp;handling</a>
</h5>
<br><ul>
<li> nothing special required, its however recommended to clear the PI
Interrupt Mask to avoid multiple interrupts.
</li>
</ul>
<div class="idx"><a href="#idx6.2.14">index</a></div>
<h4>
<a name="sec6.2.14">
6.2.14</a>&nbsp;&nbsp;Error</h4>
<br>
1 Source (GP runtime error)
 <div class="idx"><a href="#idx7">index</a></div>
<h2>
<a name="sec7">
7</a>&nbsp;&nbsp;Video Processing </h2>
<br><div class="idx"><a href="#idx7.1">index</a></div>
<h3>
<a name="sec7.1">
7.1</a>&nbsp;&nbsp;Used VI terms</h3>
<br><ul>
<li> XFB - external Framebuffer
</li>
</ul>
The external framebuffer resides in main memory and can be directly
displayed by the video processor.
     <div class="idx"><a href="#idx7.2">index</a></div>
<h3>
<a name="sec7.2">
7.2</a>&nbsp;&nbsp;init VI</h3>
<br><div class="idx"><a href="#idx7.2.1">index</a></div>
<h4>
<a name="sec7.2.1">
7.2.1</a>&nbsp;&nbsp;Videomodes</h4>
<br><div class="idx"><a href="#idx7.3">index</a></div>
<h3>
<a name="sec7.3">
7.3</a>&nbsp;&nbsp;render to XFB</h3>
<br><div class="idx"><a href="#idx7.4">index</a></div>
<h3>
<a name="sec7.4">
7.4</a>&nbsp;&nbsp;vertical retrace</h3>
<br><div class="idx"><a href="#idx7.5">index</a></div>
<h3>
<a name="sec7.5">
7.5</a>&nbsp;&nbsp;set XFB Address</h3>
<br><div class="idx"><a href="#idx8">index</a></div>
<h2>
<a name="sec8">
8</a>&nbsp;&nbsp;3D Graphics Processing</h2>
<br><img src="images/gx_overview.png" alt="images/gx_overview.png"><div class="idx"><a href="#idx8.1">index</a></div>
<h3>
<a name="sec8.1">
8.1</a>&nbsp;&nbsp;basic operations</h3>
<br><div class="idx"><a href="#idx8.1.1">index</a></div>
<h4>
<a name="sec8.1.1">
8.1.1</a>&nbsp;&nbsp;load BP Register</h4>
<br><ul>
<li> write byte 0x61 to GXFIFO
</li>
<li> write 4 bytes of data to GXFIFO
</li>
</ul>
<div class="idx"><a href="#idx8.1.2">index</a></div>
<h4>
<a name="sec8.1.2">
8.1.2</a>&nbsp;&nbsp;load CP Register </h4>
<br><ul>
<li> write byte 0x08 to GXFIFO
</li>
<li> write 1 byte address to GXFIFO
</li>
<li> write 4 bytes of data to GXFIFO
</li>
</ul>
<div class="idx"><a href="#idx8.1.3">index</a></div>
<h4>
<a name="sec8.1.3">
8.1.3</a>&nbsp;&nbsp;load XF Register</h4>
<br><ul>
<li> write byte 0x10 to GXFIFO
</li>
<li> write 0x0000 (16 bit) to GXFIFO
</li>
<li> write addr (16 bit) to GXFIFO
</li>
<li> write 4 bytes of data to GXFIFO
</li>
</ul>
<div class="idx"><a href="#idx8.1.4">index</a></div>
<h4>
<a name="sec8.1.4">
8.1.4</a>&nbsp;&nbsp;load XF Register Indexed</h4>
<br><ul>
<li> write byte 0x10 to GXFIFO
</li>
<li> write n-1 (16 bit) to GXFIFO
</li>
<li> write addr (16 bit) to GXFIFO
</li>
<li> write n bytes of data to GXFIFO
</li>
</ul>
<div class="idx"><a href="#idx8.2">index</a></div>
<h3>
<a name="sec8.2">
8.2</a>&nbsp;&nbsp;example processing loop</h3>
<br><tt>gx_init();</tt>&nbsp;<br><tt>while(running)</tt>&nbsp;<br><tt>{</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;gx_begin();</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;drawframe();</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;gx_end();</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;waitvsync();</tt>&nbsp;<br><tt>}</tt>&nbsp;<br><tt>gx_close();</tt><br><div class="idx"><a href="#idx8.2.1">index</a></div>
<h4>
<a name="sec8.2.1">
8.2.1</a>&nbsp;&nbsp;init GX</h4>
<br><h5>8.2.1.1 <a name="sec8.2.1.1">
    &nbsp;&nbsp;setup the fifos</a>
</h5>
<br><ul>
<li> fifo start/end must be 32 byte aligned
</li>
<li> minimum fifo size is 64kb
</li>
<li> typical size for the hi watermark is fifo size - 16kb
</li>
</ul>
<h5>8.2.1.2 <a name="sec8.2.1.2">
    &nbsp;&nbsp;enable gx command processing</a>
</h5>
<br>
while (mfwpar () &amp; 1);
PI[3] = 0x100000;
PI[4] = 0x110000;
PI[5] = 0x100000;
mtwpar(0xC008000); // GXFIFO physical address
mtspr(920, mfspr(920)  -  0x40000000);
<h5>8.2.1.3 <a name="sec8.2.1.3">
    &nbsp;&nbsp;send setup frame</a>
</h5>
<br>
after setting up and enabling gx command processing it is recommended
to send a first initial 'frame' to setup the various internal registers
to useful values.
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec8.2.1.3.1">
    8.2.1.3.1&nbsp;&nbsp;Videomodes </a>
&nbsp;</b>
remember that depending on the videomode some things must be setup
differently (such as the scissor, viewport, ...)
      <div class="idx"><a href="#idx8.2.2">index</a></div>
<h4>
<a name="sec8.2.2">
8.2.2</a>&nbsp;&nbsp;begin frame</h4>
<br><div class="idx"><a href="#idx8.2.3">index</a></div>
<h4>
<a name="sec8.2.3">
8.2.3</a>&nbsp;&nbsp;draw frame</h4>
<br><div class="idx"><a href="#idx8.2.4">index</a></div>
<h4>
<a name="sec8.2.4">
8.2.4</a>&nbsp;&nbsp;end frame</h4>
<br><ul>
<li> load draw-done to BP register (0x45000002)
</li>
<li> copy EFB to XFB
</li>
<li> terminate the list by writing 32 zeroes
</li>
</ul>
<h5>8.2.4.1 <a name="sec8.2.4.1">
    &nbsp;&nbsp;copy EFB to XFB</a>
</h5>
<br>
#define XY(x, y) (((y) &lt;&nbsp;&lt; 10)  -  (x))<br>
GX_LOAD_BP_REG(0x4000001f); // set z mode
GX_LOAD_BP_REG(0x410004bc); // set color mode 0
GX_LOAD_BP_REG(0x49000000  -  XY(0, 0)); // set source top left
GX_LOAD_BP_REG(0x4a000000  -  XY(639, 479)); // set source bottom
right
GX_LOAD_BP_REG(0x4d000028); // stride? (0x1280&gt;&nbsp;&gt;5<br>
... 640*2 ; 320*YuYv
GX_LOAD_BP_REG(0x4b000000  -  (0xC00000 &gt;&nbsp;&gt; 5))<br>
// xfb target address
GX_LOAD_BP_REG(PE_COPY_CLEAR_AR  -  0x0000);
GX_LOAD_BP_REG(PE_COPY_CLEAR_GB  -  0x0000);
GX_LOAD_BP_REG(PE_COPY_CLEAR_Z  -  0xFFFFFF);
GX_LOAD_BP_REG(0x52004803); // do it (efb copy execution command?)
<h5>8.2.4.2 <a name="sec8.2.4.2">
    &nbsp;&nbsp;copy EFB to Texture</a>
</h5>
<br>
simelar to copying EFB to XFB, setup BP registers 0x4a,0x4a,0x4d,0x4b
and then <tt>(0x52000003|(format&lt;&nbsp;&lt;4))</tt><br><div class="idx"><a href="#idx8.2.5">index</a></div>
<h4>
<a name="sec8.2.5">
8.2.5</a>&nbsp;&nbsp;close GX</h4>
<br><div class="idx"><a href="#idx9">index</a></div>
<h2>
<a name="sec9">
9</a>&nbsp;&nbsp;Joy-Bus Devices</h2>
<br><div class="idx"><a href="#idx9.1">index</a></div>
<h3>
<a name="sec9.1">
9.1</a>&nbsp;&nbsp;ID and Device List</h3>
<br>
The device ID can be read by sending the SI Command 0x00, and then
reading 3 bytes from the respective device. The response-data looks
like this:<br><br>
first comes a 16bit device id:<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>ID</b></td>
<td nowrap><b>Device</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0500</tt></td>
<td nowrap>? N64 Controller</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0001</tt></td>
<td nowrap>? N64 Microphone</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0002</tt></td>
<td nowrap>? N64 Keyboard</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0200</tt></td>
<td nowrap>? N64 Mouse</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>GBA</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0800</tt></td>
<td nowrap>GBA (n/a)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0900</tt></td>
<td nowrap>GC Standard Controller</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xe960</tt></td>
<td nowrap>? GC Wavebird Receiver</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xe9a0</tt></td>
<td nowrap>? GC Wavebird</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xa800</tt></td>
<td nowrap>? GC Wavebird</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xebb0</tt></td>
<td nowrap>? GC Wavebird</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0820</tt></td>
<td nowrap>GC Keyboard</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0800</tt></td>
<td nowrap>? GC Steering Wheel</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0900</tt></td>
<td nowrap>DKongas (same as std Controller)</td>
</tr>
<tr>
<td nowrap align="center">?</td>
<td nowrap>Resident Evil4 Chainsaw</td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>wireless (1: wireless Controller)</td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>wireless receive (0: not wireless 1: wireless)</td>
</tr>
<tr>
<td nowrap align="center">13</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Rumble Motor (0: available 1: not available)</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Type of Controller (always 0 ?)</td>
</tr>
<tr>
<td nowrap align="center">11</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Type of Controller (0: N64 1: Dolphin)</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>wireless type (0:IF 1:RF)</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>wireless state (0: variable 1: fixed)</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>0: non standard Controller 1: Dolphin Standard Controller</td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>wireless origin (0:invalid 1:valid)</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>wireless fix id (0:not fixed 1:fixed)</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>wireless type - 0:normal 1: non-controller (?)</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>wireless type - 0:normal 1: lite controller</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>wireless type - </td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>wireless type - </td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
the device id is followed by 8 status bits:<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>? rumble motor running</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx9.2">index</a></div>
<h3>
<a name="sec9.2">
9.2</a>&nbsp;&nbsp;standard Controller</h3>
<br><div class="idx"><a href="#idx9.2.1">index</a></div>
<h4>
<a name="sec9.2.1">
9.2.1</a>&nbsp;&nbsp;Init</h4>
<br><ul>
<li> enable all controllers in 0xcc006430
</li>
<li> set Joy-channel 1-4 Command Register to 0x00400300
</li>
<li> clear SI i/o buffer
</li>
<li> wait until bit 31 of 0xCC006434 is 0, then set it to 1
</li>
</ul>
Command Word
0x00400000 - enable polling
0x00000300 - ?
0x00000100 - ?
0x00000001 - enable rumble motor<br><br>
Commands:
0x00 - get id+status
0x40 - ?
0x41 - get origins
0x42 - calibrate ?
      <div class="idx"><a href="#idx9.2.2">index</a></div>
<h4>
<a name="sec9.2.2">
9.2.2</a>&nbsp;&nbsp;Read Controller Status</h4>
<br><ul>
<li> simply read all Joy-channel registers and extract the info you want
</li>
</ul>
<table>
<tr><td nowrap><b>first input word</b></td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ERRSTAT - (assumed 0)</td>
</tr>
<tr>
<td nowrap align="center">30</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ERRLATCH - (assumed 0)</td>
</tr>
<tr>
<td nowrap align="center">29</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused (?)</td>
</tr>
<tr>
<td nowrap align="center">28</td>
<td nowrap align="center">s</td>
<td nowrap>Start Button</td>
</tr>
<tr>
<td nowrap align="center">27</td>
<td nowrap align="center">y</td>
<td nowrap>Y Button</td>
</tr>
<tr>
<td nowrap align="center">26</td>
<td nowrap align="center">x</td>
<td nowrap>X Button</td>
</tr>
<tr>
<td nowrap align="center">25</td>
<td nowrap align="center">b</td>
<td nowrap>B Button</td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">a</td>
<td nowrap>A Button</td>
</tr>
<tr>
<td nowrap align="center">23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused (?)</td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap align="center">L</td>
<td nowrap>L Trigger</td>
</tr>
<tr>
<td nowrap align="center">21</td>
<td nowrap align="center">R</td>
<td nowrap>R Trigger</td>
</tr>
<tr>
<td nowrap align="center">20</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Z Trigger</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap align="center">u</td>
<td nowrap>D-Pad Up</td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap align="center">d</td>
<td nowrap>D-Pad Down</td>
</tr>
<tr>
<td nowrap align="center">17</td>
<td nowrap align="center">r</td>
<td nowrap>D-Pad Right</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap align="center">l</td>
<td nowrap>D-Pad Left</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">x</td>
<td nowrap>Analog Stick X (8bit unsigned, ~32...128...~224)</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">y</td>
<td nowrap>Analog Stick Y (8bit unsigned, ~32...128...~224)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap><b>second input word</b></td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">24-31</td>
<td nowrap align="center">x</td>
<td nowrap>Analog C Stick X (8bit unsigned, ~32...128...~224)</td>
</tr>
<tr>
<td nowrap align="center">16-23</td>
<td nowrap align="center">y</td>
<td nowrap>Analog C Stick Y (8bit unsigned, ~32...128...~224)</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">l</td>
<td nowrap>L Trigger Analog (8bit unsigned, ~32...~224)</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">r</td>
<td nowrap>R Trigger Analog (8bit unsigned, ~32...~224)</td>
</tr>
</table>
</td></tr>
</table>
<br><div class="idx"><a href="#idx9.2.3">index</a></div>
<h4>
<a name="sec9.2.3">
9.2.3</a>&nbsp;&nbsp;rumble Motor On</h4>
<br>
*(volatile unsigned long*)0xCC006400 = 0x00400001;
*(volatile unsigned long*)0xCC006438 = 0x80000000;
      <div class="idx"><a href="#idx9.2.4">index</a></div>
<h4>
<a name="sec9.2.4">
9.2.4</a>&nbsp;&nbsp;rumble Motor Off</h4>
<br>
*(volatile unsigned long*)0xCC006400 = 0x00400000;
*(volatile unsigned long*)0xCC006438 = 0x80000000;
     <div class="idx"><a href="#idx9.3">index</a></div>
<h3>
<a name="sec9.3">
9.3</a>&nbsp;&nbsp;Keyboard</h3>
<br><div class="idx"><a href="#idx9.3.1">index</a></div>
<h4>
<a name="sec9.3.1">
9.3.1</a>&nbsp;&nbsp;Types</h4>
<br><h5>9.3.1.1 <a name="sec9.3.1.1">
    &nbsp;&nbsp;ASCII</a>
</h5>
<br>
Official Nintendo/SEGA keyboard for the GameCube. It has 80 keys plus
an Fn key, some of the keys have Japanese labelings. It has an LShift
and an RShift key, but only a single Ctrl and Alt key. The Fn key
is internal to the keyboard. It makes the keyboard send different
scancodes if it is pressed, and an Fn keypress alone cannot be detected.
<h5>9.3.1.2 <a name="sec9.3.1.2">
    &nbsp;&nbsp;Datel</a>
</h5>
<br>
A British IBM PS/2 keyboard that ships with an adapter.
<h5>9.3.1.3 <a name="sec9.3.1.3">
    &nbsp;&nbsp;Tototek Adapter</a>
</h5>
<br>
Converts the IBM PS/2 protocol to the GameCube SI protocol and also
converts the PS/2 scancodes into GameCube scancodes. The keys that
have Japanese labelings on the ASCII keyboard get mapped to keys like
PrintScreen and Pause. 
<ul>
<li> 0-9 and Enter send the scancodes of their counterparts on the alphanumeric
part of the keyboard, regardless of the status of NumLock, so the
Numpad cannot be used as cursor keys.
</li>
<li> The key right of LShift on non-US keyboards sends no scancode.
</li>
<li> The Pause/SysReq key only sends the keycode of 0x37 once, even if
it's pressed down continuously.
</li>
<li> Numpad-* sends 0x37, the same as Pause/SysReq, but this one continues
sending it.
</li>
<li> All combinations of Pause/SysReq with other keys are possible, except
for these: LStrg or LStrg together with Pause/SysReq doesn't send
anything. This would have been SysReq.
</li>
<li> The adapter easily gets confused by two keys for which it produces
the same GameCube scancodes: If you hold down LStrg and press RStrg,
the LStrg scancode will disappear even though LStrg is srill pressed
down. The same is true for Ctrl and Alt.
</li>
</ul>
<div class="idx"><a href="#idx9.3.2">index</a></div>
<h4>
<a name="sec9.3.2">
9.3.2</a>&nbsp;&nbsp;Scancodes</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt><b>.0</b></tt></td>
<td nowrap align="center"><tt><b>.1</b></tt></td>
<td nowrap align="center"><tt><b>.2</b></tt></td>
<td nowrap align="center"><tt><b>.3</b></tt></td>
<td nowrap align="center"><tt><b>.4</b></tt></td>
<td nowrap align="center"><tt><b>.5</b></tt></td>
<td nowrap align="center"><tt><b>.6</b></tt></td>
<td nowrap align="center"><tt><b>.7</b></tt></td>
</tr>
<tr>
<td nowrap align="center"><tt>0.</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">Home</td>
<td nowrap align="center">End</td>
</tr>
<tr>
<td nowrap align="center"><tt>1.</tt></td>
<td nowrap align="center">A</td>
<td nowrap align="center">B</td>
<td nowrap align="center">C</td>
<td nowrap align="center">D</td>
<td nowrap align="center">E</td>
<td nowrap align="center">F</td>
<td nowrap align="center">G</td>
<td nowrap align="center">H</td>
</tr>
<tr>
<td nowrap align="center"><tt>2.</tt></td>
<td nowrap align="center">Q</td>
<td nowrap align="center">R</td>
<td nowrap align="center">S</td>
<td nowrap align="center">T</td>
<td nowrap align="center">U</td>
<td nowrap align="center">V</td>
<td nowrap align="center">W</td>
<td nowrap align="center">X</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>3.</tt></td>
<td nowrap align="center">7</td>
<td nowrap align="center">8</td>
<td nowrap align="center">9</td>
<td nowrap align="center">0</td>
<td nowrap align="center">-_ ()</td>
<td nowrap align="center">=+</td>
<td nowrap align="center">PrntScrn </td>
<td nowrap align="center">Pause/SysReq </td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">NP 7</td>
<td nowrap align="center">NP 8</td>
<td nowrap align="center">NP 9</td>
<td nowrap align="center">NP 0</td>
<td nowrap align="center">NP -</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">NP /</td>
<td nowrap align="center">NP *</td>
</tr>
<tr>
<td nowrap align="center"><tt>4.</tt></td>
<td nowrap align="center">F1</td>
<td nowrap align="center">F2</td>
<td nowrap align="center">F3</td>
<td nowrap align="center">F4</td>
<td nowrap align="center">F5</td>
<td nowrap align="center">F6</td>
<td nowrap align="center">F7</td>
<td nowrap align="center">F8</td>
</tr>
<tr>
<td nowrap align="center"><tt>5.</tt></td>
<td nowrap align="center">Backspace</td>
<td nowrap align="center">Tab</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">CapsLock</td>
<td nowrap align="center">LShift (*54)</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">LCtrl (*56)</td>
<td nowrap align="center">LAlt (*57)</td>
</tr>
<tr>
<td nowrap align="center"><tt>6.</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">Enter</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">NP Enter</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt><b>.8</b></tt></td>
<td nowrap align="center"><tt><b>.9</b></tt></td>
<td nowrap align="center"><tt><b>.A</b></tt></td>
<td nowrap align="center"><tt><b>.B</b></tt></td>
<td nowrap align="center"><tt><b>.C</b></tt></td>
<td nowrap align="center"><tt><b>.D</b></tt></td>
<td nowrap align="center"><tt><b>.E</b></tt></td>
<td nowrap align="center"><tt><b>.F</b></tt></td>
</tr>
<tr>
<td nowrap align="center"><tt>0.</tt></td>
<td nowrap align="center">PgUp</td>
<td nowrap align="center">PgDn</td>
<td nowrap align="center">ScrollLock</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>1.</tt></td>
<td nowrap align="center">I</td>
<td nowrap align="center">J</td>
<td nowrap align="center">K</td>
<td nowrap align="center">L</td>
<td nowrap align="center">M</td>
<td nowrap align="center">N</td>
<td nowrap align="center">O</td>
<td nowrap align="center">P</td>
</tr>
<tr>
<td nowrap align="center"><tt>2.</tt></td>
<td nowrap align="center">Y</td>
<td nowrap align="center">Z</td>
<td nowrap align="center">1</td>
<td nowrap align="center">2</td>
<td nowrap align="center">3</td>
<td nowrap align="center">4</td>
<td nowrap align="center">5</td>
<td nowrap align="center">6</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">NP 1</td>
<td nowrap align="center">NP 2</td>
<td nowrap align="center">NP 3</td>
<td nowrap align="center">NP 4</td>
<td nowrap align="center">NP 5</td>
<td nowrap align="center">NP 6</td>
</tr>
<tr>
<td nowrap align="center"><tt>3.</tt></td>
<td nowrap align="center">[{</td>
<td nowrap align="center">;: </td>
<td nowrap align="center">"</td>
<td nowrap align="center">]}</td>
<td nowrap align="center">,&lt;</td>
<td nowrap align="center">.&gt; </td>
<td nowrap align="center">/?</td>
<td nowrap align="center"> - </td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">NP + (*39)</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">NP .</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>4.</tt></td>
<td nowrap align="center">F9</td>
<td nowrap align="center">F10</td>
<td nowrap align="center">F11</td>
<td nowrap align="center">F!2</td>
<td nowrap align="center">ESC</td>
<td nowrap align="center">Ins</td>
<td nowrap align="center">Del</td>
<td nowrap align="center">`~</td>
</tr>
<tr>
<td nowrap align="center"><tt>5.</tt></td>
<td nowrap align="center">LWin</td>
<td nowrap align="center">space</td>
<td nowrap align="center">RWin</td>
<td nowrap align="center">Menu</td>
<td nowrap align="center">Left</td>
<td nowrap align="center">Down</td>
<td nowrap align="center">Up</td>
<td nowrap align="center">Right</td>
</tr>
<tr>
<td nowrap align="center"><tt>6.</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">NumLock (*6a)</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
</table>
</td></tr></table>
<br><br>
(*39) Tototek adapter: makes only sence for japenese ASCII labeling<br>
(*54) Tototek adapter sends this code for LShift and RShift<br>
(*56) Tototek adapter sends this code for LCtrl and RCtrl<br>
(*57) Tototek adapter sends this code for LAlt and RAlt<br>
(*6a) Tototek adapter: undefined for GameCube
      <div class="idx"><a href="#idx9.3.3">index</a></div>
<h4>
<a name="sec9.3.3">
9.3.3</a>&nbsp;&nbsp;Init</h4>
<br><ul>
<li> enable controller in 0xcc006430
</li>
<li> set Joy-channel Command Register to 0x00540000
</li>
<li> clear SI i/o buffer
</li>
<li> wait until bit 31 of 0xCC006434 is 0, then set it to 1
</li>
</ul>
Command Word
0x00540000 - enable polling
      <div class="idx"><a href="#idx9.3.4">index</a></div>
<h4>
<a name="sec9.3.4">
9.3.4</a>&nbsp;&nbsp;Read Keyboard</h4>
<br><table>
<tr><td nowrap><b>first input word</b></td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ERRSTAT - (assumed 0)</td>
</tr>
<tr>
<td nowrap align="center">30</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ERRLATCH - (assumed 0)</td>
</tr>
<tr>
<td nowrap align="center">24-29</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center">16-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap><b>second input word</b></td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">24-31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>key1</td>
</tr>
<tr>
<td nowrap align="center">16-23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>key2</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>key3</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>?</td>
</tr>
</table>
</td></tr>
</table>
<br><div class="idx"><a href="#idx9.4">index</a></div>
<h3>
<a name="sec9.4">
9.4</a>&nbsp;&nbsp;GBA</h3>
<br>
to do
     <div class="idx"><a href="#idx9.5">index</a></div>
<h3>
<a name="sec9.5">
9.5</a>&nbsp;&nbsp;Wavebird</h3>
<br>
to do
     <div class="idx"><a href="#idx9.6">index</a></div>
<h3>
<a name="sec9.6">
9.6</a>&nbsp;&nbsp;steering wheel</h3>
<br>
to do
     <div class="idx"><a href="#idx9.7">index</a></div>
<h3>
<a name="sec9.7">
9.7</a>&nbsp;&nbsp;DKongas</h3>
<br>
These work exactly like the standard controllers from the programmers
point of view, and they even have the same ID.
      <div class="idx"><a href="#idx9.7.1">index</a></div>
<h4>
<a name="sec9.7.1">
9.7.1</a>&nbsp;&nbsp;Read Controller Status</h4>
<br><ul>
<li> simply read all Joy-channel registers and extract the info you want
</li>
</ul>
<table>
<tr><td nowrap><b>first input word</b></td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">31</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ERRSTAT - (assumed 0)</td>
</tr>
<tr>
<td nowrap align="center">30</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ERRLATCH - (assumed 0)</td>
</tr>
<tr>
<td nowrap align="center">29</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused (?)</td>
</tr>
<tr>
<td nowrap align="center">28</td>
<td nowrap align="center">s</td>
<td nowrap>Start Button</td>
</tr>
<tr>
<td nowrap align="center">27</td>
<td nowrap align="center">y</td>
<td nowrap>left Konga, top/left (Y Button)</td>
</tr>
<tr>
<td nowrap align="center">26</td>
<td nowrap align="center">x</td>
<td nowrap>right Konga, top/left (X Button)</td>
</tr>
<tr>
<td nowrap align="center">25</td>
<td nowrap align="center">b</td>
<td nowrap>left Konga, bottom/right (B Button)</td>
</tr>
<tr>
<td nowrap align="center">24</td>
<td nowrap align="center">a</td>
<td nowrap>right Konga, bottom/right (A Button)</td>
</tr>
<tr>
<td nowrap align="center">23</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused (?)</td>
</tr>
<tr>
<td nowrap align="center">22</td>
<td nowrap align="center">L</td>
<td nowrap>unused (L Trigger)</td>
</tr>
<tr>
<td nowrap align="center">21</td>
<td nowrap align="center">R</td>
<td nowrap>unused ? (R Trigger) </td>
</tr>
<tr>
<td nowrap align="center">20</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused (Z Trigger)</td>
</tr>
<tr>
<td nowrap align="center">19</td>
<td nowrap align="center">u</td>
<td nowrap>unused (D-Pad Up)</td>
</tr>
<tr>
<td nowrap align="center">18</td>
<td nowrap align="center">d</td>
<td nowrap>unused (D-Pad Down)</td>
</tr>
<tr>
<td nowrap align="center">17</td>
<td nowrap align="center">r</td>
<td nowrap>unused (D-Pad Right)</td>
</tr>
<tr>
<td nowrap align="center">16</td>
<td nowrap align="center">l</td>
<td nowrap>unused (D-Pad Left)</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">x</td>
<td nowrap>unused (Analog Stick X)</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">y</td>
<td nowrap>unused (Analog Stick Y)</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap><b>second input word</b></td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">24-31</td>
<td nowrap align="center">x</td>
<td nowrap>unused (Analog C Stick X)</td>
</tr>
<tr>
<td nowrap align="center">16-23</td>
<td nowrap align="center">y</td>
<td nowrap>unused (Analog C Stick Y)</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">l</td>
<td nowrap>unused (L Trigger Analog)</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">r</td>
<td nowrap>Microphone (R Trigger Analog) (8bit unsigned, ~16...?)</td>
</tr>
</table>
</td></tr>
</table>
<br><div class="idx"><a href="#idx9.8">index</a></div>
<h3>
<a name="sec9.8">
9.8</a>&nbsp;&nbsp;Resident Evil4 Chainsaw</h3>
<br>
to do
 <div class="idx"><a href="#idx10">index</a></div>
<h2>
<a name="sec10">
10</a>&nbsp;&nbsp;EXI Devices</h2>
<br><div class="idx"><a href="#idx10.1">index</a></div>
<h3>
<a name="sec10.1">
10.1</a>&nbsp;&nbsp;EXI Channel and Device List</h3>
<br>
The following table shows the GameCube devices which use the EXI bus
and their channel and device numbers, the EXI frequency commonly used
with them and their virtual offset in EXI mapping.<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>channel</b></td>
<td nowrap align="center"><b>device</b></td>
<td nowrap align="center"><b>freq</b></td>
<td nowrap align="center"><b>offset</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Memory Card (Slot A)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center"><tt>3</tt></td>
<td nowrap align="center"><tt>0x00000000</tt></td>
<td nowrap>Mask ROM</td>
</tr>
<tr>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center">3</td>
<td nowrap align="center"><tt>0x20000000</tt></td>
<td nowrap>Real-Time Clock (RTC)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center"><tt>3</tt></td>
<td nowrap align="center"><tt>0x20000100</tt></td>
<td nowrap>SRAM</td>
</tr>
<tr>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>0x20010000</tt></td>
<td nowrap>UART</td>
</tr>
<tr>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Memory Card (Slot B)</td>
</tr>
<tr>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>AD16 (trace step)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Serial Port 1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap align="center"><tt>5</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Ethernet Adapter (SP1)</td>
</tr>
</table>
</td></tr></table>
<br><br>
Note: The Real-Time Clock (RTC), SRAM, and Mask ROM are actually one
device mapped to different address offsets. The SRAM should only be
accessed by the IPL and contains non-volatile system data. The Mask
ROM contains the IPL itself (encrypted) and the system font data.
     <div class="idx"><a href="#idx10.2">index</a></div>
<h3>
<a name="sec10.2">
10.2</a>&nbsp;&nbsp;Retrieving the ID of an EXI Device</h3>
<br>
To retrieve the ID of an EXI Device, an EXI IMM write operation must
be used to send the ID command (0x0000) and an EXI IMM read operation
should follow it to read the actual 4 byte ID.<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap><b>ID</b></td>
<td nowrap><b>Device</b></td>
</tr>
<tr>
<td nowrap><tt>0x00000004</tt></td>
<td nowrap>Memory Card 59</td>
</tr>
<tr>
<td nowrap><tt>0x00000008</tt></td>
<td nowrap>Memory Card 123</td>
</tr>
<tr>
<td nowrap><tt>0x00000010</tt></td>
<td nowrap>Memory Card 251</td>
</tr>
<tr>
<td nowrap><tt>0x00000020</tt></td>
<td nowrap>Memory Card 507</td>
</tr>
<tr>
<td nowrap><tt>0x00000040</tt></td>
<td nowrap>Memory Card 1019</td>
</tr>
<tr>
<td nowrap><tt>0x00000080</tt></td>
<td nowrap>Memory Card 2043</td>
</tr>
<tr>
<td nowrap><tt>0x01010000</tt></td>
<td nowrap>USB Adapter</td>
</tr>
<tr>
<td nowrap><tt>0x01020000</tt></td>
<td nowrap>NPDP GDEV</td>
</tr>
<tr>
<td nowrap><tt>0x05070000</tt></td>
<td nowrap>IS Viewer</td>
</tr>
<tr>
<td nowrap><tt>0x04120000</tt></td>
<td nowrap>AD16</td>
</tr>
<tr>
<td nowrap><tt>0x03010000</tt></td>
<td nowrap>Marlin (?)</td>
</tr>
<tr>
<td nowrap><tt>0x02020000</tt></td>
<td nowrap>Modem</td>
</tr>
<tr>
<td nowrap><tt>0x04020200</tt></td>
<td nowrap>Ethernet Adapter</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx10.3">index</a></div>
<h3>
<a name="sec10.3">
10.3</a>&nbsp;&nbsp;Mask ROM</h3>
<br>
Mask ROM also referred as bootrom or IPL. Total size of bootrom is
2 MB.
      <div class="idx"><a href="#idx10.3.1">index</a></div>
<h4>
<a name="sec10.3.1">
10.3.1</a>&nbsp;&nbsp;Memory Map (Europe/PAL)</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Start</b></td>
<td nowrap align="center"><b>End</b></td>
<td nowrap align="center"><b>Size</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00000000</tt></td>
<td nowrap align="center"><tt>0x000000ff</tt></td>
<td nowrap align="center"><tt>0x00000100</tt></td>
<td nowrap>Copyright message (*1)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00000100</tt></td>
<td nowrap align="center"><tt>0x001aeee8</tt></td>
<td nowrap align="center"><tt>0x001aede8</tt></td>
<td nowrap>BIOS data (*2)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x001AFF00</tt></td>
<td nowrap align="center"><tt>0x001FA0E0</tt></td>
<td nowrap align="center"><tt>0x0004D000</tt></td>
<td nowrap>'Yay0' - ROM Fonts #1 (SJIS)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>0x61 bytes of 0xFF, 0x62 , followed by zeros until 0x1FCF00</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x001FCF00</tt></td>
<td nowrap align="center"><tt>0x001FF474</tt></td>
<td nowrap align="center"><tt>0x00003000</tt></td>
<td nowrap>'Yay0' - ROM Fonts #2 (ANSI)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x001FF474</tt></td>
<td nowrap align="center"><tt>0x001FFEF0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>filled with 0x00</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x001FFF00</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>0x001FFFFF</tt></td>
<td nowrap>filled with 0xff</td>
</tr>
</table>
</td></tr></table>
<br><br>
(*1) "(C) 1999-2001 Nintendo. All rights reserved.(C) 1999
ArtX Inc. All rights reserved.PAL Revision 1.0 " and zeros
up to 0x100.<br>
(*2) encrypted by an XOR cyphertext which is generated by a yet
unknown algorithm (probably not a single LFSR)<br><div class="idx"><a href="#idx10.3.2">index</a></div>
<h4>
<a name="sec10.3.2">
10.3.2</a>&nbsp;&nbsp;Memory Map (USA/NTSC)</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Start</b></td>
<td nowrap align="center"><b>End</b></td>
<td nowrap align="center"><b>Size</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00000000</tt></td>
<td nowrap align="center"><tt>0x0015ee40</tt></td>
<td nowrap align="center"><tt>0x0015ee40</tt></td>
<td nowrap>BIOS data (*1)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x001AFF00</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>0x0004D000</tt></td>
<td nowrap>ROM Fonts #1 (SJIS)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x001FCF00</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>0x00003000</tt></td>
<td nowrap>ROM Fonts #2 (ANSI)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x001FFF00</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>0x001FFFFF</tt></td>
<td nowrap>filled with 0x00</td>
</tr>
</table>
</td></tr></table>
<br><br>
(*1) encrypted by an XOR cyphertext which is generated by a yet
unknown algorithm (probably not a single LFSR)<br><br>
note: all unused space is filled with 0x00, no pieces with 0xFF.
      <div class="idx"><a href="#idx10.3.3">index</a></div>
<h4>
<a name="sec10.3.3">
10.3.3</a>&nbsp;&nbsp;Memory Map (Japenese/NTSC)</h4>
<br><div class="idx"><a href="#idx10.3.4">index</a></div>
<h4>
<a name="sec10.3.4">
10.3.4</a>&nbsp;&nbsp;Memory Map (Japenese/NTSC - Panasonic Q)</h4>
<br><div class="idx"><a href="#idx10.3.5">index</a></div>
<h4>
<a name="sec10.3.5">
10.3.5</a>&nbsp;&nbsp;Font Encoding</h4>
<br>
The 'Yay0' data is compressed similar to the the Zelda 64 'Yaz0' compression.
Besides the Raw Font data it also contains some information about
the Font. 
      <div class="idx"><a href="#idx10.3.6">index</a></div>
<h4>
<a name="sec10.3.6">
10.3.6</a>&nbsp;&nbsp;Font Layout</h4>
<br><b>10.3.6.1<a name="sec10.3.6.1">
    &nbsp;&nbsp;SJIS Font (ROM Font #1)</a>
&nbsp;</b>
<b>10.3.6.2<a name="sec10.3.6.2">
    &nbsp;&nbsp;ANSI Font (ROM Font #2)</a>
&nbsp;</b>
The ANSI Font is a 512x512 Pixel Texture in I4 Format. It consists
of 21 colums and 11 rows of characters which are in a 24x24 pixel
grid.<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">!</td>
<td nowrap align="center">'</td>
<td nowrap align="center">#</td>
<td nowrap align="center">$</td>
<td nowrap align="center">%</td>
<td nowrap align="center">&amp;</td>
<td nowrap align="center">&acute;</td>
<td nowrap align="center">(</td>
<td nowrap align="center">)</td>
<td nowrap align="center">*</td>
<td nowrap align="center">+</td>
<td nowrap align="center">,</td>
<td nowrap align="center">-</td>
<td nowrap align="center">.</td>
<td nowrap align="center">/</td>
<td nowrap align="center">0</td>
<td nowrap align="center">1</td>
<td nowrap align="center">2</td>
<td nowrap align="center">3</td>
<td nowrap align="center">4</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">6</td>
<td nowrap align="center">7</td>
<td nowrap align="center">8</td>
<td nowrap align="center">9</td>
<td nowrap align="center">:</td>
<td nowrap align="center">;</td>
<td nowrap align="center">&lt;</td>
<td nowrap align="center">=</td>
<td nowrap align="center">&gt;</td>
<td nowrap align="center">?</td>
<td nowrap align="center">@</td>
<td nowrap align="center">A</td>
<td nowrap align="center">B</td>
<td nowrap align="center">C</td>
<td nowrap align="center">D</td>
<td nowrap align="center">E</td>
<td nowrap align="center">F</td>
<td nowrap align="center">G</td>
<td nowrap align="center">H</td>
<td nowrap align="center">I</td>
</tr>
<tr>
<td nowrap align="center">J</td>
<td nowrap align="center">K</td>
<td nowrap align="center">L</td>
<td nowrap align="center">M</td>
<td nowrap align="center">N</td>
<td nowrap align="center">O</td>
<td nowrap align="center">P</td>
<td nowrap align="center">Q</td>
<td nowrap align="center">R</td>
<td nowrap align="center">S</td>
<td nowrap align="center">T</td>
<td nowrap align="center">U</td>
<td nowrap align="center">V</td>
<td nowrap align="center">W</td>
<td nowrap align="center">X</td>
<td nowrap align="center">Y</td>
<td nowrap align="center">Z</td>
<td nowrap align="center">[</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">]</td>
<td nowrap align="center">^</td>
</tr>
<tr>
<td nowrap align="center">_</td>
<td nowrap align="center">'</td>
<td nowrap align="center">a</td>
<td nowrap align="center">b</td>
<td nowrap align="center">c</td>
<td nowrap align="center">d</td>
<td nowrap align="center">e</td>
<td nowrap align="center">f</td>
<td nowrap align="center">g</td>
<td nowrap align="center">h</td>
<td nowrap align="center">i</td>
<td nowrap align="center">j</td>
<td nowrap align="center">k</td>
<td nowrap align="center">l</td>
<td nowrap align="center">m</td>
<td nowrap align="center">n</td>
<td nowrap align="center">o</td>
<td nowrap align="center">p</td>
<td nowrap align="center">q</td>
<td nowrap align="center">r</td>
<td nowrap align="center">s</td>
</tr>
<tr>
<td nowrap align="center">t</td>
<td nowrap align="center">u</td>
<td nowrap align="center">v</td>
<td nowrap align="center">w</td>
<td nowrap align="center">x</td>
<td nowrap align="center">y</td>
<td nowrap align="center">z</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx10.3.7">index</a></div>
<h4>
<a name="sec10.3.7">
10.3.7</a>&nbsp;&nbsp;Operation</h4>
<br><h5>10.3.7.1 <a name="sec10.3.7.1">
    &nbsp;&nbsp;read</a>
</h5>
<br><ul>
<li> IMM write 32 bit: (offset&lt;&nbsp;&lt;6)
</li>
<li> DMA read X bytes
</li>
</ul>
max offset is 2*1024*1024, max block len is ?
     <div class="idx"><a href="#idx10.4">index</a></div>
<h3>
<a name="sec10.4">
10.4</a>&nbsp;&nbsp;RTC (Real-Time Clock)</h3>
<br>
Real-Time Clock (RTC) is 32-bit value, counting time intervals in
seconds. To get the real time (seconds since January 1st, 2000 12am)
add the counter bias saved in SRAM.
      <div class="idx"><a href="#idx10.4.1">index</a></div>
<h4>
<a name="sec10.4.1">
10.4.1</a>&nbsp;&nbsp;Operation</h4>
<br><h5>10.4.1.1 <a name="sec10.4.1.1">
    &nbsp;&nbsp;read </a>
</h5>
<br><ul>
<li> IMM write 32 : <tt>0x20000000</tt> | (0&lt;&nbsp;&lt;6) (RTC
offset)
</li>
<li> IMM read 32-bit RTC value
</li>
</ul>
Since it is uncertain if the hardware prevents fragmented reads of
the time interval (eg byte 1 from tick n and byte 2-4 from tick n+1)
it is recommended to repeatedly retrieve the value until there is
no difference between two consecutive reads.
<h5>10.4.1.2 <a name="sec10.4.1.2">
    &nbsp;&nbsp;write</a>
</h5>
<br><ul>
<li> IMM write 32 : <tt>0xA0000000</tt> (== <tt>0x20000000</tt> | <tt>0x80000000</tt>
(write flag)  -  (0&lt;&nbsp;&lt;6) (RTC offset)<br>
</li>
<li> IMM write 32-bit RTC value
</li>
</ul>
<div class="idx"><a href="#idx10.5">index</a></div>
<h3>
<a name="sec10.5">
10.5</a>&nbsp;&nbsp;SRAM</h3>
<br>
SRAM is battery backed memory, used for saving some non volatile settings.
Size of SRAM is 64 bytes.
      <div class="idx"><a href="#idx10.5.1">index</a></div>
<h4>
<a name="sec10.5.1">
10.5.1</a>&nbsp;&nbsp;Memory Map</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>offset</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Checksum 1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Checksum 2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>ead 0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x08</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>ead 1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0c</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>counter Bias (add to RTC value to get actual time)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x10</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap>display offset H (signed value, -32...32)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x11</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap>ntd</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x12</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap>language</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><b>value</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap>english</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>german</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>french</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>spanish</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>italian</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>dutch</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x13</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap>flags</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>? (=0)</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>? (=0)</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>? (=1)</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>? (=0)</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>? (=1)</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>0: mono 1: stereo</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>? (=0)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>? (=0)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x14</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2*12</tt></td>
<td nowrap>Flash ID</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x2c</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>wireless Keyboard ID</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x30</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4*2</tt></td>
<td nowrap>wireless PAD ID</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x38</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap>last DVD Errorcode</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x39</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap>padding/unused/reserved</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x3a</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2*2</tt></td>
<td nowrap>Flash ID checksum</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x3e</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>padding/unused/reserved</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx10.5.2">index</a></div>
<h4>
<a name="sec10.5.2">
10.5.2</a>&nbsp;&nbsp;Operation</h4>
<br><h5>10.5.2.1 <a name="sec10.5.2.1">
    &nbsp;&nbsp;read</a>
</h5>
<br><ul>
<li> IMM write 32 : 0x20000100 (== 0x20000000  -  (8 &lt;&nbsp;&lt;
6) (SRAM offset))
</li>
<li> DMA read 64 bytes.
</li>
</ul>
<h5>10.5.2.2 <a name="sec10.5.2.2">
    &nbsp;&nbsp;write</a>
</h5>
<br><ul>
<li> IMM write 32 : 0xa0000100 (== 0x20000000  -  0x80000000 (write flag)
- (8 &lt;&nbsp;&lt; 6) (SRAM offset)<br>
</li>
<li> use sequential IMM writes
</li>
</ul>
<div class="idx"><a href="#idx10.5.3">index</a></div>
<h4>
<a name="sec10.5.3">
10.5.3</a>&nbsp;&nbsp;Checksums</h4>
<br>
the SRAM data is protected against corruption by a simple additive
checksum which is calculated like this:<br><br><tt>void checksums (unsigned short *buf, unsigned short *c1,
unsigned short *c2)</tt>&nbsp;<br><tt>{</tt>&nbsp;<br><tt>int i;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;*c1 = 0; *c2 = 0;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;for (i = 0;i&lt;4;++i)</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;{</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*c1 += buf[0x06 + i];</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*c2 += (buf[0x06 + i] ^
0xFFFF);</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;}</tt>&nbsp;<br><tt>}</tt>&nbsp;<br><div class="idx"><a href="#idx10.6">index</a></div>
<h3>
<a name="sec10.6">
10.6</a>&nbsp;&nbsp;AD16</h3>
<br>
AD16 is on channel 2, as device 0. Probably its used for debugging
purposes. AD16 is the 32-bit register, keeping bootrom "trace-step".
      <div class="idx"><a href="#idx10.6.1">index</a></div>
<h4>
<a name="sec10.6.1">
10.6.1</a>&nbsp;&nbsp;Operation</h4>
<br><h5>10.6.1.1 <a name="sec10.6.1.1">
    &nbsp;&nbsp;init</a>
</h5>
<br><ul>
<li> IMM write : <tt>0x0000</tt><br>
</li>
<li> IMM read 32 bit ID and check it for error (it should be <tt>0x04120000</tt>)
</li>
</ul>
<h5>10.6.1.2 <a name="sec10.6.1.2">
    &nbsp;&nbsp;write </a>
</h5>
<br><ul>
<li> IMM write : <tt>0xa0</tt><br>
</li>
<li> IMM write 32-bit value (trace-step)
</li>
</ul>
<h5>10.6.1.3 <a name="sec10.6.1.3">
    &nbsp;&nbsp;read </a>
</h5>
<br><ul>
<li> IMM write : <tt>0xa2</tt><br>
</li>
<li> IMM read 32-bit AD16 register value
</li>
</ul>
<div class="idx"><a href="#idx10.6.2">index</a></div>
<h4>
<a name="sec10.6.2">
10.6.2</a>&nbsp;&nbsp;Trace-Step Values</h4>
<br><h5>10.6.2.1 <a name="sec10.6.2.1">
    &nbsp;&nbsp;BS</a>
</h5>
<br><table>
<tr>
<td nowrap align="center">0x01000000</td>
<td nowrap>AD16 Inited, cache lines 320, 340,360, 380, 3a0 prefetched</td>
</tr>
<tr>
<td nowrap align="center">0x02000000</td>
<td nowrap>cache line 0x3e0 prefetched</td>
</tr>
<tr>
<td nowrap align="center">0x03000000</td>
<td nowrap>rest of cachelines prefetched</td>
</tr>
<tr>
<td nowrap align="center">0x04000000</td>
<td nowrap>ramtest passed</td>
</tr>
<tr>
<td nowrap align="center">0x05000000</td>
<td nowrap>ramtest error</td>
</tr>
<tr>
<td nowrap align="center">0x06000000</td>
<td nowrap>ramtest error</td>
</tr>
</table>
<br><h5>10.6.2.2 <a name="sec10.6.2.2">
    &nbsp;&nbsp;BS2</a>
</h5>
<br><table>
<tr>
<td nowrap align="center">0x00000800</td>
<td nowrap>System Init</td>
</tr>
<tr>
<td nowrap align="center">0x00000900</td>
<td nowrap>DVD Init</td>
</tr>
<tr>
<td nowrap align="center">0x00000a00</td>
<td nowrap>Card Init</td>
</tr>
<tr>
<td nowrap align="center">0x00000b00</td>
<td nowrap>video init</td>
</tr>
<tr>
<td nowrap align="center">0x00000c00</td>
<td nowrap>final before menu</td>
</tr>
</table>
<br><div class="idx"><a href="#idx10.7">index</a></div>
<h3>
<a name="sec10.7">
10.7</a>&nbsp;&nbsp;Memory Cards</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="right"><b>Product</b></td>
<td nowrap align="right"><b>Blocks</b></td>
<td nowrap align="right"><b>Mega bits</b></td>
<td nowrap align="right"><b>Mega bytes</b></td>
<td nowrap align="right"><b>Vendor</b></td>
<td nowrap align="right"><b>Chip</b></td>
</tr>
<tr>
<td nowrap align="right">Memory Card 59</td>
<td nowrap align="right">64</td>
<td nowrap align="right">4</td>
<td nowrap align="right">0.5</td>
<td nowrap align="right">Nintendo</td>
<td nowrap align="right">Macronix MX25L4001 Serial Flash ROM</td>
</tr>
<tr>
<td nowrap align="right">Action Replay memory card</td>
<td nowrap align="right">64</td>
<td nowrap align="right">4</td>
<td nowrap align="right">0.5</td>
<td nowrap align="right">Datel </td>
<td nowrap align="right">Macronix MX25L4004 4M-Bit(4Mx1) Serial Flash ROM</td>
</tr>
<tr>
<td nowrap align="right">Memory Card '4 Mega'</td>
<td nowrap align="right">64</td>
<td nowrap align="right">4</td>
<td nowrap align="right">0.5</td>
<td nowrap align="right">3rd Party</td>
<td nowrap align="right">WINBOND 512K*8 CMOS flash memory (Winbond,W29C040P-90,215275901,216GJRA)</td>
</tr>
<tr>
<td nowrap align="right">Memory Card 123</td>
<td nowrap align="right">128</td>
<td nowrap align="right">8</td>
<td nowrap align="right">1</td>
<td nowrap align="right">Nintendo (*)</td>
<td nowrap align="right">&nbsp;</td>
</tr>
<tr>
<td nowrap align="right">Memory Card '8 Mega'</td>
<td nowrap align="right">128</td>
<td nowrap align="right">8</td>
<td nowrap align="right">1</td>
<td nowrap align="right">3rd Party</td>
<td nowrap align="right">&nbsp;</td>
</tr>
<tr>
<td nowrap align="right">Memory Card 251</td>
<td nowrap align="right">256</td>
<td nowrap align="right">16</td>
<td nowrap align="right">2</td>
<td nowrap align="right">Nintendo</td>
<td nowrap align="right">&nbsp;</td>
</tr>
<tr>
<td nowrap align="right">Memory Card 507</td>
<td nowrap align="right">512</td>
<td nowrap align="right">32</td>
<td nowrap align="right">4</td>
<td nowrap align="right">Nintendo (*)</td>
<td nowrap align="right">&nbsp;</td>
</tr>
<tr>
<td nowrap align="right">Memory Card 1019</td>
<td nowrap align="right">1024</td>
<td nowrap align="right">64</td>
<td nowrap align="right">8</td>
<td nowrap align="right">Nintendo</td>
<td nowrap align="right">&nbsp;</td>
</tr>
<tr>
<td nowrap align="right">Memory Card '64 Mega'</td>
<td nowrap align="right">1024</td>
<td nowrap align="right">64</td>
<td nowrap align="right">8</td>
<td nowrap align="right">3rd Party</td>
<td nowrap align="right">&nbsp;</td>
</tr>
<tr>
<td nowrap align="right">USB Memory Adaptor 64M / 1019 blocks</td>
<td nowrap align="right">1024</td>
<td nowrap align="right">64</td>
<td nowrap align="right">8</td>
<td nowrap align="right">EMS</td>
<td nowrap align="right">&nbsp;</td>
</tr>
<tr>
<td nowrap align="right">Memory Card 2043</td>
<td nowrap align="right">2048</td>
<td nowrap align="right">128</td>
<td nowrap align="right">16</td>
<td nowrap align="right">Nintendo (*)</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr></table>
<br>
(*) never seen those, appearently supported but never manufactured.<br><br>
as you can see the products are named in reference to their <em>useable</em>
capacity in blocks or total size in mega bits. The theoretical maximum
size for a memory card is 128 mega bits (16 mega bytes, 2048 blocks).
      <div class="idx"><a href="#idx10.7.1">index</a></div>
<h4>
<a name="sec10.7.1">
10.7.1</a>&nbsp;&nbsp;Commands</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap><b>Command</b></td>
<td nowrap align="center"><b>len</b></td>
<td nowrap align="center"><b>indata</b></td>
<td nowrap align="center"><b>len</b></td>
<td nowrap align="center"><b>outdata</b></td>
<td nowrap align="center"><b>len</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap><tt>0x8500</tt></td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap align="center">-</td>
<td nowrap align="center"><tt>-</tt></td>
<td nowrap align="center">ID</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>get ID</td>
</tr>
<tr>
<td nowrap><tt>0x8300</tt></td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap align="center">-</td>
<td nowrap align="center"><tt>-</tt></td>
<td nowrap align="center">Status</td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap>get Card Status</td>
</tr>
<tr>
<td nowrap><tt>0x89</tt></td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center">-</td>
<td nowrap align="center"><tt>-</tt></td>
<td nowrap align="center">-</td>
<td nowrap align="center"><tt>-</tt></td>
<td nowrap>clear Card Status</td>
</tr>
<tr>
<td nowrap><tt>0x52</tt></td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center">offset, 0x00000000</td>
<td nowrap align="center"><tt>8</tt></td>
<td nowrap align="center">Block Data</td>
<td nowrap align="center"><tt>&lt;=0x200</tt></td>
<td nowrap>read Block</td>
</tr>
<tr>
<td nowrap><tt>0xf40000</tt></td>
<td nowrap align="center"><tt>3</tt></td>
<td nowrap align="center">-</td>
<td nowrap align="center"><tt>-</tt></td>
<td nowrap align="center">-</td>
<td nowrap align="center"><tt>-</tt></td>
<td nowrap>erase Card</td>
</tr>
<tr>
<td nowrap><tt>0xf1</tt></td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center">Sector</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap align="center">-</td>
<td nowrap align="center"><tt>-</tt></td>
<td nowrap>erase Sector</td>
</tr>
<tr>
<td nowrap><tt>0xf2</tt></td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center">Block offset</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">Block Data</td>
<td nowrap align="center"><tt>&lt;=0x80</tt></td>
<td nowrap>write Block</td>
</tr>
</table>
</td></tr></table>
<br><br><div class="idx"><a href="#idx10.7.2">index</a></div>
<h4>
<a name="sec10.7.2">
10.7.2</a>&nbsp;&nbsp;Operation</h4>
<br><h5>10.7.2.1 <a name="sec10.7.2.1">
    &nbsp;&nbsp;unlocking</a>
</h5>
<br>
original memory cards (those manufactured by nintendo) need to be
'unlocked' before they can be accessed. this is appearently done
by a small dsp program.<br><br>
to do
<h5>10.7.2.2 <a name="sec10.7.2.2">
    &nbsp;&nbsp;get ID</a>
</h5>
<br><ul>
<li> IMM write 0x85,00
</li>
<li> IMM read 2 bytes ID
</li>
</ul>
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec10.7.2.2.1">
    10.7.2.2.1&nbsp;&nbsp;Card IDs</a>
&nbsp;</b>
<h5>10.7.2.3 <a name="sec10.7.2.3">
    &nbsp;&nbsp;get Status</a>
</h5>
<br><ul>
<li> IMM write 0x83,00
</li>
<li> IMM read 1 byte Status
</li>
</ul>
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec10.7.2.3.1">
    10.7.2.3.1&nbsp;&nbsp;Status Bits</a>
&nbsp;</b>
<tt></tt>
<table>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>x...</tt></td>
<td nowrap align="right"><tt>...r</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>7</tt></td>
<td nowrap align="center">x</td>
<td nowrap>1: erase in Progress (?)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap align="center">r</td>
<td nowrap>1: Card ready (?)</td>
</tr>
</table>
</td></tr>
</table>
<br><h5>10.7.2.4 <a name="sec10.7.2.4">
    &nbsp;&nbsp;clear Status</a>
</h5>
<br><ul>
<li> IMM write 0x89
</li>
</ul>
<h5>10.7.2.5 <a name="sec10.7.2.5">
    &nbsp;&nbsp;read Block</a>
</h5>
<br><ul>
<li> select
</li>
<li> IMM write: 0x52
</li>
<li> IMM write: (offset &gt;&nbsp;&gt; 17), (offset &gt;&nbsp;<br>
9), (offset &gt;&nbsp;&gt; 7) &amp; 3, offset &amp; 0x7F
</li>
<li> IMM write: 0x00, 0x00, 0x00, 0x00
</li>
<li> read 8 bit values
</li>
<li> deselect
</li>
</ul>
max offset is 16*1024*1024, max block len is 512 bytes.<br><h5>10.7.2.6 <a name="sec10.7.2.6">
    &nbsp;&nbsp;erase Card</a>
</h5>
<br><ul>
<li> select
</li>
<li> IMM write 0xf4,0x00,0x00
</li>
<li> deselect
</li>
</ul>
<h5>10.7.2.7 <a name="sec10.7.2.7">
    &nbsp;&nbsp;erase Sector</a>
</h5>
<br><ul>
<li> select
</li>
<li> IMM write 0xf1
</li>
<li> IMM write (sector &gt;&nbsp;&gt; 17) &amp; 0x7F, (sector &gt;&nbsp;<br>
9) &amp; 0xFF
</li>
<li> deselect
</li>
<li> wait until bit 7 of card status is cleared
</li>
</ul>
<h5>10.7.2.8 <a name="sec10.7.2.8">
    &nbsp;&nbsp;write Block</a>
</h5>
<br><ul>
<li> wait while bit 0 of card status is cleared (= card ready)
</li>
<li> select
</li>
<li> IMM write 0xf2
</li>
<li> IMM write (offset &gt;&nbsp;&gt; 17) &amp; 0x3F, (offset &gt;&nbsp;<br>
9) &amp; 0xFF, (offset &gt;&nbsp;&gt; 7) &amp; 3, offset &amp; 0x7F
</li>
<li> write 0x80 bytes
</li>
<li> deselect
</li>
</ul>
<div class="idx"><a href="#idx10.8">index</a></div>
<h3>
<a name="sec10.8">
10.8</a>&nbsp;&nbsp;Ethernet Adapter</h3>
<br>
The Macronix chip found in the ethernet adapter (mx98730ec) seems
to be a reenginered version of the mx98726 or mx98728 (or the ec type
respectivly).
      <div class="idx"><a href="#idx10.8.1">index</a></div>
<h4>
<a name="sec10.8.1">
10.8.1</a>&nbsp;&nbsp;registers</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Registerblock Base</b></td>
<td nowrap align="center"><b>Size of Registerblock</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center"><tt>0x1000</tt></td>
<td nowrap align="center"><tt>1</tt></td>
</tr>
</table>
</td></tr></table>
<br><br>
These are the actual Chip Registers which match with the descriptions
in MXs documents.<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">NCRA - Network Control Register A (0x08 ?)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>????</tt></td>
<td nowrap align="right"><tt>?ep?</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>INTCLK - must be 0 for normal operation.</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>INTMODE - Interrupt Mode: Set for the active high interrupt, reset
for the active low interrupt case.</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LB1 - Loopback mode</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LB0</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>LB1</b></td>
<td nowrap align="center"><b>LB0</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">0</td>
<td nowrap>Mode0 - Normal mode</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">1</td>
<td nowrap>Mode1 - internal FIFO Loopback</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">0</td>
<td nowrap>Mode2 - internal NWAY Loopback</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">1</td>
<td nowrap>Mode3 - internal PMD Loopback</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SR - Start Receive : Enable the MAC to receive packets. Default is
disabled.</td>
</tr>
<tr>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap align="center">e</td>
<td nowrap>ST1 - Start Transmit Command/Status</td>
</tr>
<tr>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center">p</td>
<td nowrap>ST0</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RESET - Software reset.</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>bit 1 and bit 2 will get cleared after a packet has been sent</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">NCRB - Network Control Register (0x11, 0x12 ?)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">6-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RXINTC - Recieve Interrupt Counter</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>HBD - Heart Beat Check Disable</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>AB - "pass all broadcast frames"</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PB - "pass bad frames"</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PM - "pass all multicast"</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CA - capture effect mode</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PR - promiscuous mode</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">GMAC Test Register A : TRA</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SB - Start/Stop Back-off counter</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FC - Forced Collision</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RWD - Receive Watchdog Disable</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RWR - Recieve Watchdog Release</td>
</tr>
<tr>
<td nowrap align="center">1-3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TMODE - Test Moder Select bits</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TEST - Test mode enable</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x03</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">GMAC Test Register B : TRB</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BFSTATUS</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BFS1</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BKCNTLB</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BFS0</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>COLCNTCB</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RDNCNTSB</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RDNCNTCB</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FKD - Flaky Oscillator Disable</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">LTPS - Last Transmitted Packet Status (transmit error code ?)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TERR - Transmit Error</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>OWC - Out of Window Collision</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>UF - TX FIFO Underflow</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CRSLOST - Carrier Sense Lost</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CC3 - Collision Count Bit 3</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CC2</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CC1</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CC0</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x05</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">LRPS - Last Recieved Packet Status</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RERR - Recieve Error</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RF - Runt Frame</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MF - Multicast Frame address</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RW - Recieve Watchdog</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FO - FIFO Overrun</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FAE - Frame Alignment Error</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>CRC - CRC error</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BF - RX Packet Buffer Full Error</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x06</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">MPCL - Missed Packet Counter</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MISSCNT - Miss Packet Counter LSB</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x07</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">MPCL - Missed Packet Counter</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>MISSCNT - Miss Packet Counter MSB</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x08</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">IMR - Interrupt Mask Register (IRQ Mask)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RBFIM - RX Buffer Full Interrupt Mask</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BUSEIM - Bus Error Interrupt Mask</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FIFOEIM - FIFO Error Interrupt Mask</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TEIM - Transmit Error Interrupt Mask</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>REIM - Receive Error Interrupt Mask</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TIM - Transmit Interrupt Mask</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RIM - Recieved Interrupt Mask</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FRAGIM - Fragment Counter Interrupt Mask</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x09</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">IR - Interrupt Register (irq status)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>???t</tt></td>
<td nowrap align="right"><tt>esr?</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RBFI - RX Buffer Full Interrupt</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BUSEI - Bus Error Interrupt</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FIFOEI - FIFO Error Interrupt</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">t</td>
<td nowrap>TEI - Transmit Error Interrupt (1: transmit error)</td>
</tr>
<tr>
<td nowrap align="center"><tt>3</tt></td>
<td nowrap align="center">e</td>
<td nowrap>REI - Recieve Error Interrupt (1: receive error ?)</td>
</tr>
<tr>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap align="center">s</td>
<td nowrap>TI - Transmit OK Interrupt (1: packet sent ?)</td>
</tr>
<tr>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap align="center">r</td>
<td nowrap>RI - Receive OK Interrupt (1: packet received ?)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FRAGI - Fragment Counter Interrupt</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x0a</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">BP - Boundary Page Pointer Register (0x0100 ?)</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x0c</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">TLBP - TX Low Boundary Page Pointer Register</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x0e</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">TWP - Transmit Buffer Write Page Pointer Register</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x10</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">unused/reserved</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x12</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">TRP - Transmit Buffer Read Page Pointer Register</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x14</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">RXINTT - Receive Interrupt Timer</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x16</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">RWP - Receive Buffer Write Page Pointer Register</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x18</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">RRP - Receive Buffer Read Page Pointer Register</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x1a</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">RHBP - RX High Boundary Page Pointer Register (0x0f00 ?)</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x1c</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">EEPROM Interface Register:</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">6-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>EELD - </td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>EESEL - </td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>EEDO - Serial Data Output from external EEPROM clock device</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>EEDI - Serial Data Input to external EEPROM clock device</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>EECK - Serial Clock output to external EEPROM clock device (&lt; 1 MHz)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>EECS - Chip Select output to external EEPROM clock device</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x1d</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">BICT - Bus Integrity Check Timer</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x1e</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/?</td>
<td nowrap align="center">IORDP - IO Data Port Page Pointer Register</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x20</tt></td>
<td nowrap align="center">6</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">PAR0-PAR5 Network Address Filtering Registers - Physical (MAC) Address</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x26</tt></td>
<td nowrap align="center">8</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">MAR0-PAR7 Network Address Filtering Registers - Hash Table Register</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x2e</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">ANALOG - Transceiver Control Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">6-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved (must be 0)</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RST100 - Reset for NORMAL mode</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RSQ - Reduced SQuelch Enable</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PWD100 - Reset for NORMAL mode</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PWD10B - Set for NORMAL mode</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DS130 - Must be 1 for NORMAL mode with auto-compensation</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DS120 - Must be 1 for NORMAL mode with auto-compensation</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x2f</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">DINTVAL - DMA Interval Timer</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x30</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">NWAYC - NWAY Configuration Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LTE - Link Test Enable</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>NTTEST - reserved</td>
</tr>
<tr>
<td nowrap align="center">3-5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ANS - Autonegotiation Status</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ANE - Autonegotiation Enable</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PS100/10 - Port Select 100/10 Mbit</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FD - Full Duplex Mode</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x31</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/-</td>
<td nowrap align="center">NWAYS - NWAY Status Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>10TXH - NWAY 10 TX Half duplex Mode</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>10TXF - NWAY 10 TX Full duplex Mode</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>100TXH - NWAY 100 Half duplex Mode</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>100TXF - NWAY 100 TX Full duplex Mode</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ANCLPT - Auto-negotiation Completion</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LPNWAY - Link Partner NWAY Status</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LS100 - Physical Link Status of 100Mbps TP</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>LS10 - Physical Link Status of 10 Mbps TP</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x32</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">GCA - GMAC Configuration A Register (0x08 ?)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved (must be 0)</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TXFIFOCNTEN</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>AUTOPUB - Auto Page Update option</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>ARXERRB - Accept RX packet with error</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>SLOWSRAM</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>PBW - Packet Buffer Data Width</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>BPSCRM - Bypass Scrambler</td>
</tr>
</table>
</td></tr>
</table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x33</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">GCB - GMAC Configuration B Register</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">4-7</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused/reserved</td>
</tr>
<tr>
<td nowrap align="center">2-3</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>RTHD - Recieve FIFO Threshold</td>
</tr>
<tr>
<td nowrap align="center">0-1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>TTHD - Transmit FIFO Threshold</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x34</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">-/w</td>
<td nowrap align="center">TWD - IO Mapped Data Port</td>
</tr></table>
</td></tr></table>
<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x38</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">-/-</td>
<td nowrap align="center">unused/reserved</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x3a</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">Host Interface Protocol Register (0x08 ?)</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap>&nbsp;</td>
<td nowrap align="right">&nbsp;</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>DREQB - DREQB-pin status bit</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>STIORD/RRDYB - (no data available ?)</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>WRDYB - Write Packet Memory Ready Bar Status Indication</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x3b</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/-</td>
<td nowrap align="center">LPC - Link Partner Link Code Register</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x3c</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">TX/RX DMA Status Register</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x3d</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">MISC1 - MISC Control Register 1</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x3e</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">TXFIFOCNT - TX FIFO Byte Counter</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x40</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/-</td>
<td nowrap align="center">RRD - RX Burst Read Data Port</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x44</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/-</td>
<td nowrap align="center">ID1 - 'MX'</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x46</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/-</td>
<td nowrap align="center">ID2 - '0001'</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x48</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">w</td>
<td nowrap align="center">WRTXFIFOD - Write TX FIFO Data Port Register (output queue)</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x4c</tt></td>
<td nowrap align="center">4</td>
<td nowrap align="center">r/-</td>
<td nowrap align="center">IORD - IO Read Data Port Register</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x50</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">MISC2 - MISC Control Register 2 (0x80 ?)</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x51</tt></td>
<td nowrap align="center">1</td>
<td nowrap align="center">?</td>
<td nowrap align="center">(?)</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
note: register <tt>0x51</tt> is not documented in mx98728 datasheet<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x52</tt></td>
<td nowrap align="center">2</td>
<td nowrap align="center">r/-</td>
<td nowrap align="center">HRPKTCNT - Host Recieve Packet Counter</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x54</tt></td>
<td nowrap align="center">3</td>
<td nowrap align="center">r/w</td>
<td nowrap align="center">FRAGCNT - Host DMA Fragment Counter</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
note: <tt>0x56</tt> is the last reg of a mx98726 and mx98728<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x5b</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">(?)</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x5c</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">(?)</td>
</tr></table>
</td></tr>
<tr><td nowrap>0x36 = disconnect network</td></tr>
</table>
<tt></tt>&nbsp;<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x5e</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">(0x01 ?)</td>
</tr></table>
</td></tr></table>
<br><br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x60</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">(0x00 ?)</td>
</tr></table>
</td></tr></table>
<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x100</tt></td>
<td nowrap align="center">0xf00</td>
<td nowrap align="center">?/w</td>
<td nowrap align="center">input queue (?)</td>
</tr></table>
</td></tr>
<tr><td nowrap>- select for reading</td></tr>
<tr><td nowrap>- IMM read block</td></tr>
</table>
<br><div class="idx"><a href="#idx10.8.2">index</a></div>
<h4>
<a name="sec10.8.2">
10.8.2</a>&nbsp;&nbsp;command-registers</h4>
<br><tt></tt>
<table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Registerblock Base</b></td>
<td nowrap align="center"><b>Size of Registerblock</b></td>
<td nowrap align="center"><b>common access size</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center"><tt>0x10</tt></td>
<td nowrap align="center"><tt>1</tt></td>
</tr>
</table>
</td></tr></table>
<br><br>
These Registers are related to the EXI Interface on the Ethernet-Adapter,
not to the actual Ethernet Chip.<br><br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center"><tt>?</tt></td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">EXI id</td>
</tr></table>
</td></tr>
<tr><td nowrap>- select register for reading</td></tr>
<tr><td nowrap>- IMM read 4 bytes (0x04,0x02,0x02,0x00)</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">irq mask</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x03</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">irq status</td>
</tr></table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>r??p</tt></td>
<td nowrap align="right"><tt>h???</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>7</tt></td>
<td nowrap align="center">r</td>
<td nowrap>irq from MX chip</td>
</tr>
<tr>
<td nowrap align="center"><tt>6</tt></td>
<td nowrap align="center">?</td>
<td nowrap>'killing' irq (should not get this one)</td>
</tr>
<tr>
<td nowrap align="center"><tt>5</tt></td>
<td nowrap align="center">?</td>
<td nowrap>command error</td>
</tr>
<tr>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap align="center">p</td>
<td nowrap>challange/response request</td>
</tr>
<tr>
<td nowrap align="center"><tt>3</tt></td>
<td nowrap align="center">h</td>
<td nowrap>challange/response status</td>
</tr>
</table>
</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">? (revid_eth)</td>
</tr></table>
</td></tr>
<tr><td nowrap>- select register for writing</td></tr>
<tr><td nowrap>- IMM write 0xd1,0x07 (16bit)</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x05</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">? (0x4e ?)</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x06</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x07</tt></td>
<td nowrap align="center"><tt>?</tt></td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x08</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">Challenge</td>
</tr></table>
</td></tr>
<tr><td nowrap>- select for reading</td></tr>
<tr><td nowrap>- IMM read 4 bytes</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x09</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">Response</td>
</tr></table>
</td></tr>
<tr><td nowrap>- select for writing</td></tr>
<tr><td nowrap>- IMM write 4 bytes</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x0a</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table>
<tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x0b</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">Status</td>
</tr></table>
</td></tr>
<tr><td nowrap>1: challenge/response ok</td></tr>
<tr><td nowrap>2: challenge/response failed</td></tr>
</table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x0c</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x0d</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x0e</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">?</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br><table><tr><td nowrap>
<tt></tt>
<table><tr>
<td nowrap align="center"><tt>0x0f</tt></td>
<td nowrap align="center">?</td>
<td nowrap align="center">?/?</td>
<td nowrap align="center">? (0x00 ?)</td>
</tr></table>
</td></tr></table>
<tt></tt>&nbsp;<br><div class="idx"><a href="#idx10.8.3">index</a></div>
<h4>
<a name="sec10.8.3">
10.8.3</a>&nbsp;&nbsp;Operation</h4>
<br><h5>10.8.3.1 <a name="sec10.8.3.1">
    &nbsp;&nbsp;selecting a register for reading</a>
</h5>
<br><ul>
<li> IMM write 0x80000000  -  (register&lt;&nbsp;&lt;8)
</li>
</ul>
<h5>10.8.3.2 <a name="sec10.8.3.2">
    &nbsp;&nbsp;selecting a register for writing</a>
</h5>
<br><ul>
<li> IMM write 0xc0000000  -  (register&lt;&nbsp;&lt;8)
</li>
</ul>
<b>10.8.3.3<a name="sec10.8.3.3">
    &nbsp;&nbsp;selecting command-register for reading</a>
&nbsp;</b>
<ul>
<li> IMM write (register&lt;&nbsp;&lt;8) (16 bits)
</li>
</ul>
<b>10.8.3.4<a name="sec10.8.3.4">
    &nbsp;&nbsp;selecting command-register for writing</a>
&nbsp;</b>
<ul>
<li> IMM write 0x4000  -  (register&lt;&nbsp;&lt;8) (16 bits)
</li>
</ul>
<h5>10.8.3.5 <a name="sec10.8.3.5">
    &nbsp;&nbsp;init</a>
</h5>
<br><ul>
<li> write reg - 1 byte to 0x60, 0x00
</li>
<li> read reg - 1 byte from 0x0f (?)
</li>
<li> delay
</li>
<li> write reg - 1 byte to 0x00, 0x01
</li>
<li> write reg - 1 byte to 0x00, 0x00 (not necessary ?)
</li>
<li> read reg - 1 byte from 0x01, 0x00
</li>
<li> read reg - 1 byte from 0x5b
</li>
<li> write reg - 1 byte to 0x5b, write back previously read value AND ~(1&lt;&nbsp;&lt;7<br>
</li>
<li> write reg - 1 byte to 0x5e, 0x01 (or same as 0x5b ?!)
</li>
<li> read reg - 1 byte from 0x5c
</li>
<li> write reg - 1 byte to 0x5c, write back previously read value OR 4
</li>
<li> write reg - 1 byte to 0x01, 0x11
</li>
<li> write reg - 1 byte to 0x50, 0x80 (?)
</li>
<li> write reg - 1 byte to 0x08, 0xff
</li>
<li> write reg - 1 byte to 0x09, 0xff
</li>
<li> write reg - 1 byte to 0x02, 0x00 (?)
</li>
<li> write reg - 1 byte to 0x00, 0x08
</li>
<li> delay
</li>
<li> write reg - 2 bytes to 0x16, 0x0100 (recv buffer write ptr)
</li>
<li> write reg - 2 bytes to 0x18, 0x0100 (recv buffer read ptr)
</li>
</ul>
<b>10.8.3.6<a name="sec10.8.3.6">
    &nbsp;&nbsp;challenge/response calculation</a>
&nbsp;</b>
<tt>&nbsp;</tt>&nbsp;<br><tt>&nbsp;</tt><br><tt>u32 ETHChallResp(u32 val,u32 revid_0,u32 revid_eth_0,u32
revid_eth_1)</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u32 c0,c1,c2,c3;</tt><br><tt>&nbsp;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;c0=(</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( ((val&amp;0xff000000)&gt;&nbsp;&gt;24)
+ </tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((val&amp;0x00ff0000)&gt;&nbsp;&gt;16)
* 0xc1 + 0x18 + revid_0 )</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^ ( ((val&amp;0x000000ff) *
((val&amp;0x0000ff00)&gt;&nbsp;&gt;8)) + 0x90 )</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) &amp; 0xff;</tt><br>
&nbsp;
<tt>&nbsp;&nbsp;&nbsp;&nbsp;c1=(</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( ((val&amp;0x00ff0000)&gt;&nbsp;&gt;16)
+ ((val&amp;0x0000ff00)&gt;&nbsp;&gt;8) + 0x90 )</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^ ( c0 + ((val&amp;0xff000000)&gt;&nbsp;&gt;24)
- 0xc1 )</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) &amp; 0xff;</tt><br>
&nbsp;
<tt>&nbsp;&nbsp;&nbsp;&nbsp;c2=(</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( ((val&amp;0x0000ff00)&gt;&nbsp;&gt;8)
+ 0xc8 )</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^ ( c0 + ((revid_eth_0
+ revid_0 * 0x23) ^ 0x19) )</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) &amp; 0xff;</tt><br>
&nbsp;
<tt>&nbsp;&nbsp;&nbsp;&nbsp;c3=(</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( ((val&amp;0xff000000)&gt;&nbsp;&gt;24)
+ 0xc1 )</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^ ( (val&amp;0x000000ff) + ((revid_eth_1
+ 0xc8) ^ 0x90) )</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) &amp; 0xff;</tt><br>
&nbsp;
<tt>&nbsp;&nbsp;&nbsp;&nbsp;return ((c0 &lt;&nbsp;&lt; 24) | (c1 &lt;&nbsp;&lt;
16)  -  (c2 &lt;&nbsp;&lt; 8)  -  (c3));</tt><br><tt>}</tt>&nbsp;<br><h5>10.8.3.7 <a name="sec10.8.3.7">
    &nbsp;&nbsp;send packet (outside interrupt)</a>
</h5>
<br><ul>
<li> write reg - X bytes to 0x48, &lt;senddata&gt; (X must be &gt;=0x3c!)
</li>
<li> read reg - 1 byte from 0x00, status ?
</li>
<li> write reg - 1 byte to 0x00, 0x00
</li>
<li> write reg - 1 byte to 0x00, previously read status OR 0x04 (set bit3,
ACK error?)
</li>
<li> read reg - 1 byte from 0x00,status ;do while (status AND 0x06)!=0
(wait until packet sent)
</li>
</ul>
<h5>10.8.3.8 <a name="sec10.8.3.8">
    &nbsp;&nbsp;poll received packets (outside interrupt)</a>
</h5>
<br><ul>
<li> read reg - 2 bytes from 0x16, write_ptr
</li>
<li> read reg - 2 bytes from 0x18, read_ptr
</li>
<li> if write_ptr==read_ptr, no more packets are available
</li>
<li> write reg - 1 byte to 0x3a, 0x02
</li>
<li> read reg - 1 byte from 0x3a, if (value&amp;2)!=0, no more data is available
</li>
<li> read reg- 4 bytes from read_ptr, packet descriptor
</li>
<li> read reg - X bytes from 0x100+read_ptr, &lt;data&gt; (X must be &gt;=0x3c!
; wrap around to 0x100 if read_ptr=0xf00)
</li>
<li> write reg - 2 bytes to 0x18, first byte of packet descriptor, 0x00
(advance read pointer)
</li>
<li> write reg - 1 byte to 0x09, 0x02
</li>
<li> write cmd - 1 byte to 0x02, 0xf8 (ACK?)
</li>
</ul>
<h5>10.8.3.9 <a name="sec10.8.3.9">
    &nbsp;&nbsp;received packet format</a>
</h5>
<br>
first 4 bytes of a received packet contains a descriptor about the
packet that has been received<br><br><table>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>yyyy</tt></td>
<td nowrap align="right"><tt>....</tt></td>
<td nowrap><tt>xxxx</tt></td>
<td nowrap align="right"><tt>xxxx</tt></td>
<td nowrap><tt>....</tt></td>
<td nowrap align="right"><tt>....</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">20-23</td>
<td nowrap align="center">y</td>
<td nowrap>length of received packet lo bits (shift 4 down)</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">x</td>
<td nowrap>length of received packet hi bits (shift 4 up and OR with lo bits)</td>
</tr>
</table>
</td></tr>
<tr><td nowrap>length is inclusive the 4 byte descriptor!</td></tr>
</table>
<br><div class="idx"><a href="#idx10.9">index</a></div>
<h3>
<a name="sec10.9">
10.9</a>&nbsp;&nbsp;UART</h3>
<br>
(note: the existance of an UART is highly speculative and was never
proved for a fact)
to do
     <div class="idx"><a href="#idx10.10">index</a></div>
<h3>
<a name="sec10.10">
10.10</a>&nbsp;&nbsp;SD Cards</h3>
<br>
SD cards support an SPI mode, which is essentially the same hardware
protocol that official memory cards use. Notice the use of the word
hardware, not software. SD cards uses the MMC command set for communication
and data transfer, while Nintendo memory cards use a custom Macronix
command set. This means that you should not waste your time trying
to get standard GC programs to recognize the SD card as a normal memory
card, because it will not work without specific code to access the
SD card. Even if you make the raw sector data on the SD card the same
as the Nintendo memory card, the low-level commands to access the
sectors differ between the two. However, since the hardware bus and
protocol are the same, an SD adapter can essentially be made with
straight-through connections from the EXI bus to the SD card signals.
to do
     <div class="idx"><a href="#idx10.11">index</a></div>
<h3>
<a name="sec10.11">
10.11</a>&nbsp;&nbsp;Viper 'Modchip'</h3>
<br>
this is a 3rd-Party 'modchip' used to override the IPL with a custom
program.
todo
     <div class="idx"><a href="#idx10.12">index</a></div>
<h3>
<a name="sec10.12">
10.12</a>&nbsp;&nbsp;Ripper III GC 'Modchip'</h3>
<br>
todo
     <div class="idx"><a href="#idx10.13">index</a></div>
<h3>
<a name="sec10.13">
10.13</a>&nbsp;&nbsp;Qoob 'Modchip'</h3>
<br>
todo
     <div class="idx"><a href="#idx10.14">index</a></div>
<h3>
<a name="sec10.14">
10.14</a>&nbsp;&nbsp;NinjaMOD 'Modchip'</h3>
<br>
todo
     <div class="idx"><a href="#idx10.15">index</a></div>
<h3>
<a name="sec10.15">
10.15</a>&nbsp;&nbsp;Mario Party Microphone</h3>
<br>
todo
 <div class="idx"><a href="#idx11">index</a></div>
<h2>
<a name="sec11">
11</a>&nbsp;&nbsp;HSP Devices</h2>
<br>
HSP devices seem to be accessable through the ARAM interface with
offsets beyond 16MB.
     <div class="idx"><a href="#idx11.1">index</a></div>
<h3>
<a name="sec11.1">
11.1</a>&nbsp;&nbsp;GB Player</h3>
<br>
to do<br><div class="idx"><a href="#idx12">index</a></div>
<h2>
<a name="sec12">
12</a>&nbsp;&nbsp;Memory Card Structure</h2>
<br><div class="idx"><a href="#idx12.1">index</a></div>
<h3>
<a name="sec12.1">
12.1</a>&nbsp;&nbsp;Overview</h3>
<br>
one "block" on memcard equals 0x2000 bytes, the
first 5 blocks are used for the filesystem (0xa000 bytes).<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Offset</b></td>
<td nowrap align="center"><b>Size</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap align="center"><tt>0x2000</tt></td>
<td nowrap>Header</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x2000</tt></td>
<td nowrap align="center"><tt>0x2000</tt></td>
<td nowrap>Directory</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x4000</tt></td>
<td nowrap align="center"><tt>0x2000</tt></td>
<td nowrap>Directory backup (*)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x6000</tt></td>
<td nowrap align="center"><tt>0x2000</tt></td>
<td nowrap>Block Allocation Map</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8000</tt></td>
<td nowrap align="center"><tt>0x2000</tt></td>
<td nowrap>Block Allocation Map backup (*)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xa000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>file(s) data</td>
</tr>
</table>
</td></tr></table>
<br><br>
(*) If a change is to be made that will alter the Master File Table,
such as moving or deleting a file, copying a file from another memory
card, or creating a new save game file, the GameCube will first backup
the Master File Table to this location. Presumably, if the operation
fails for certain reasons, the GameCube will restore the Backup File
Table to the Master File Table.
     <div class="idx"><a href="#idx12.2">index</a></div>
<h3>
<a name="sec12.2">
12.2</a>&nbsp;&nbsp;Header</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Offset</b></td>
<td nowrap align="right"><b>Size</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x000c</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap>time of format (OSTime value)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0014</tt></td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>unique card id (?)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0020</tt></td>
<td nowrap align="right"><tt>2</tt></td>
<td nowrap>padding zeroes</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0022</tt></td>
<td nowrap align="right"><tt>2</tt></td>
<td nowrap>size of memcard in Mbits</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0024</tt></td>
<td nowrap align="right"><tt>2</tt></td>
<td nowrap>encoding (ASCII or japanese)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0026</tt></td>
<td nowrap align="right">&nbsp;</td>
<td nowrap>unused (0xff)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x01fa</tt></td>
<td nowrap align="right"><tt>2</tt></td>
<td nowrap>update Counter (?, probably unused)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x01fc</tt></td>
<td nowrap align="right"><tt>2</tt></td>
<td nowrap>Checksum 1 (?)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x01fe</tt></td>
<td nowrap align="right"><tt>2</tt></td>
<td nowrap>Checksum 2 (?)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0200</tt></td>
<td nowrap align="right"><tt>0x1e00</tt></td>
<td nowrap>unused (0xff)</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx12.3">index</a></div>
<h3>
<a name="sec12.3">
12.3</a>&nbsp;&nbsp;Directory</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Offset</b></td>
<td nowrap align="center"><b>Size</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Directory Entries (max 127)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0ffa</tt></td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>update Counter</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0ffc</tt></td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Checksum 1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0ffe</tt></td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Checksum 2</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx12.3.1">index</a></div>
<h4>
<a name="sec12.3.1">
12.3.1</a>&nbsp;&nbsp;Directory Entries</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>offset</b></td>
<td nowrap align="center"><b>length</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap>Gamecode</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap>Makercode</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x06</tt></td>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap>reserved/unused (always 0xff, has no effect)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x07</tt></td>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap>banner gfx format and icon animation (Image Key)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Icon Animation 0: forward 1: ping-pong</td>
</tr>
<tr>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap>0: No Banner 1: Banner present</td>
</tr>
<tr>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap>Banner Color 0: RGB5A3 1: CI8</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x08</tt></td>
<td nowrap align="center"><tt>0x20</tt></td>
<td nowrap>filename</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x28</tt></td>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap>Time of file's last modification in seconds since 12am, January 1st,
2000</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x2c</tt></td>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap>image data offset</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x30</tt></td>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap>icon gfx format (2bits per icon)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bits</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>00</tt></td>
<td nowrap>no icon</td>
</tr>
<tr>
<td nowrap align="center"><tt>01</tt></td>
<td nowrap>CI8 with a shared color palette after the last frame</td>
</tr>
<tr>
<td nowrap align="center"><tt>10</tt></td>
<td nowrap>RGB5A3</td>
</tr>
<tr>
<td nowrap align="center"><tt>11</tt></td>
<td nowrap>CI8 with a unique color palette after itself</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x32</tt></td>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap>animation speed (2bits per icon) (*1)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bits</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>00</tt></td>
<td nowrap>no icon</td>
</tr>
<tr>
<td nowrap align="center"><tt>01</tt></td>
<td nowrap>Icon lasts for 4 frames</td>
</tr>
<tr>
<td nowrap align="center"><tt>10</tt></td>
<td nowrap>Icon lasts for 8 frames</td>
</tr>
<tr>
<td nowrap align="center"><tt>11</tt></td>
<td nowrap>Icon lasts for 12 frames</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x34</tt></td>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap>file-permissions</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><b>bit</b></td>
<td nowrap><b>permission</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>no move</td>
<td nowrap>File cannot be moved by the IPL</td>
</tr>
<tr>
<td nowrap align="center"><tt>3</tt></td>
<td nowrap>no copy</td>
<td nowrap>File cannot be copied by the IPL</td>
</tr>
<tr>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>public</td>
<td nowrap>Can be read by any game</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x35</tt></td>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap>copy counter (*2)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x36</tt></td>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap>block no of first block of file (0 == offset 0)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x38</tt></td>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap>file-length (number of blocks in file)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x3a</tt></td>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap>reserved/unused (always 0xffff, has no effect)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x3c</tt></td>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap>Address of the two comments within the file data (*3)</td>
</tr>
</table>
</td></tr></table>
<br><br>
(*1) Clearly, the animation rate is unimportant when there is only
one frame of icon data; nevertheless, a value for that one frame must
still be set, or that one frame will not be shown. It is illegal to
specify that a frame does not exist if it does; a value of 00 indicates
that no frame exists, and should not be mistaken for meaning that
this frame should not be shown. If you specify blank frames to slow
the frame rate, these also cannot be 00.<br><br>
(*2) This byte contains an 8-bit integer that indicates how many
times the file has been copied from one memory card to another.<br><br>
(*3) Each file has two 32 character strings which the IPL displays
at the bottom of the memory card screen, next to the banner. The two
strings (64 bytes) must fit within one block (8192 bytes), they are
not allowed to cross sector boundaries.<br><h5>12.3.1.1 <a name="sec12.3.1.1">
    &nbsp;&nbsp;Image Data</a>
</h5>
<br>
Image data consists of a banner image and an icon. The banner image
is not required, dependant on the value of the Image Key. If the banner
image is not present, the icon image is displayed where the banner
image would be displayed (centered horizontally). The icon image is
required, and immediately follows the banner if present. Otherwise,
it is located at the start of the image data.
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec12.3.1.1.1">
    12.3.1.1.1&nbsp;&nbsp;Banner Image</a>
&nbsp;</b>
The banner size is 96*32 pixels, making 3072 pixels in total (=
0x0c00 bytes in 8bit, 0x1800 bytes in 16bit mode). If the Banner is
in CI8 mode, the palette follows immediately after the banners pixel
data.
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec12.3.1.1.2">
    12.3.1.1.2&nbsp;&nbsp;Icon Image</a>
&nbsp;</b>
Immediately following the banner (if present) is the Icon Image. This
can have a variable number of frames (up to eight), each 32*32 pixels,
making 1024 pixels per frame in total. (= 0x0400 bytes in 8bit, 0x0800
byte in 16bit mode). If the Icon is in CI8 mode, its palette either
follows immediately after its pixel data or after the pixel data of
all 8 icons, depending on the icon gfx format field.
<br>    &nbsp;&nbsp;&nbsp;<b><a name="sec12.3.1.1.3">
    12.3.1.1.3&nbsp;&nbsp;Palettes</a>
&nbsp;</b>
Palettes in the image data are in RGB5A3 pixel format, and are 0x100
entries large. (= 0x200 bytes)
     <div class="idx"><a href="#idx12.4">index</a></div>
<h3>
<a name="sec12.4">
12.4</a>&nbsp;&nbsp;Block Allocation Map</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Offset</b></td>
<td nowrap align="center"><b>Size</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Checksum 1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0002</tt></td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Checksum 2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>update Counter</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0006</tt></td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>free Blocks</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0008</tt></td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>last allocated Block</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x000a</tt></td>
<td nowrap align="center"><tt>0x1ff8</tt></td>
<td nowrap>Map of allocated Blocks</td>
</tr>
</table>
</td></tr></table>
<br><br>
This is an array of 0x0ffc 16 bit values, each holding info about
one allocated block on the memory card. (thus the maximum memcard
size is limited to 2048 blocks (16 Megabytes, 128Mbit))<br><br>
each 16 bit value at position X in the array has the following meaning:<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>value</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap>block is not allocated (ie, free)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xffff</tt></td>
<td nowrap>last allocated block of a file</td>
</tr>
<tr>
<td nowrap align="center">any other</td>
<td nowrap>allocated block, usually equals (x+1) (==next block of file)</td>
</tr>
</table>
</td></tr></table>
<br><br>
scan through a file like this:<br><br><tt>thisblock=firstblock;</tt><br><tt>do</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;// process block</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;// next block</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;thisblock=((unsigned short*)0x6000)[thisblock];</tt><br><tt>}</tt><br><tt>while (thisblock!=0xffff);</tt>&nbsp;<br><tt></tt>&nbsp;<br>
note:<br><br>
although this scheme could do it, i have never stumbled about a file
yet that is NOT linear on the memcard anyway. from this point of view
using this allocation map seems to be a bit stupid...more testing
needed :)
     <div class="idx"><a href="#idx12.5">index</a></div>
<h3>
<a name="sec12.5">
12.5</a>&nbsp;&nbsp;Checksums</h3>
<br>
The Checksums for the Directory and Block Allocation Map are simple
16bit additive checksums (ie nothing fancy or particular safe) which
can be easily calculated like this:<br><br><tt>void checksums(unsigned short *buf, int num, unsigned short
*c1, unsigned short *c2) </tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;int i;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;*c1 = 0;*c2 = 0;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;for (i = 0; i &lt; num; ++i) </tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*c1 += buf[i];</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*c2 += (buf[i] ^ 0xffff);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;if (*c1 == 0xffff)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*c1 = 0;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;if (*c2 == 0xffff)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*c2 = 0;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>}</tt><br><div class="idx"><a href="#idx13">index</a></div>
<h2>
<a name="sec13">
13</a>&nbsp;&nbsp;DVD Structure</h2>
<br>
total capacity of disc data is 1,459,978,240 bytes (1.5 GB approx.).
that's exactly 712880 DVD raw sectors (each 2048 bytes).<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">start</td>
<td nowrap align="center">end</td>
<td nowrap align="center">size</td>
<td nowrap>Description</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00000000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>0x0440</tt></td>
<td nowrap>Disk header ("boot.bin")</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00000440</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>0x2000</tt></td>
<td nowrap>Disk header Information ("bi2.bin")</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00002440</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>(0x2000 ?)</tt></td>
<td nowrap>Apploader ("appldr.bin")</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>FST ('fst.bin')</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx13.1">index</a></div>
<h3>
<a name="sec13.1">
13.1</a>&nbsp;&nbsp;Disk header</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap align="center"><tt>0x0003</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>Game Code</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap>Console ID</td>
</tr>
<tr>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Gamecode</td>
</tr>
<tr>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap>Country Code</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap align="center"><tt>0x0005</tt></td>
<td nowrap align="center"><tt>0x0002</tt></td>
<td nowrap>Maker Code</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0006</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>0x0001</tt></td>
<td nowrap>Disk ID</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0007</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>0x0001</tt></td>
<td nowrap>Version</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0008</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>0x0001</tt></td>
<td nowrap>Audio Streaming</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0009</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>0x0001</tt></td>
<td nowrap>Stream Buffer Size</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x000a</tt></td>
<td nowrap align="center"><tt>0x001b</tt></td>
<td nowrap align="center"><tt>0x0012</tt></td>
<td nowrap>unused (zeros)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x001c</tt></td>
<td nowrap align="center"><tt>0x001f</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>DVD Magic Word (<tt>0xc2339f3d</tt>)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0020</tt></td>
<td nowrap align="center"><tt>0x03ff</tt></td>
<td nowrap align="center"><tt>0x03e0</tt></td>
<td nowrap>Game Name</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0400</tt></td>
<td nowrap align="center"><tt>0x0403</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>offset of debug monitor (dh.bin) ?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0404</tt></td>
<td nowrap align="center"><tt>0x0407</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>addr (?) to load debug monitor ?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0408</tt></td>
<td nowrap align="center"><tt>0x041f</tt></td>
<td nowrap align="center"><tt>0x0018</tt></td>
<td nowrap>unused (zeros)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0420</tt></td>
<td nowrap align="center"><tt>0x0423</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>offset of main executable DOL (bootfile)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0424</tt></td>
<td nowrap align="center"><tt>0x0427</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>offset of the FST ("fst.bin")</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0428</tt></td>
<td nowrap align="center"><tt>0x042B</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>size of FST</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x042C</tt></td>
<td nowrap align="center"><tt>0x042F</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>maximum size of FST (usually its same as FST size) (*)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0430</tt></td>
<td nowrap align="center"><tt>0x0433</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>user position (?)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0434</tt></td>
<td nowrap align="center"><tt>0x0437</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>user length (?)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0438</tt></td>
<td nowrap align="center"><tt>0x043b</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>(?)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x043c</tt></td>
<td nowrap align="center"><tt>0x043f</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>unused (zeros)</td>
</tr>
</table>
</td></tr></table>
<br><br>
(*) multiple DVDs must use it, to properly reside all FSTs.<br><div class="idx"><a href="#idx13.2">index</a></div>
<h3>
<a name="sec13.2">
13.2</a>&nbsp;&nbsp;Disk header Information</h3>
<br>
this is loaded to the Address in <tt>0x800000f4</tt> when a disc is
initialized by the IPL<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>offset</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>Debug-monitor Size</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>Simulated Memory Size</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0008</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>Argument offset</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x000c</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>Debug flag</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0010</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>Track Location</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0014</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>Track size</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0018</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>Countrycode</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x001c</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>?</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx13.3">index</a></div>
<h3>
<a name="sec13.3">
13.3</a>&nbsp;&nbsp;Apploader</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>offset</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap align="center"><tt>0x0009</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Date (version) of the apploader in ASCII</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x000A</tt></td>
<td nowrap align="center"><tt>0x000F</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>padding (0)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0010</tt></td>
<td nowrap align="center"><tt>0x0013</tt></td>
<td nowrap align="center">4</td>
<td nowrap>Apploader entrypoint</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0014</tt></td>
<td nowrap align="center"><tt>0x0017</tt></td>
<td nowrap align="center">4</td>
<td nowrap>size of the apploader (32 bit) (usually 0x2000)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0018</tt></td>
<td nowrap align="center"><tt>0x001b</tt></td>
<td nowrap align="center">4</td>
<td nowrap>trailer size</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0020</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Apploader code (loaded to 0x81200000 in RAM)</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx13.4">index</a></div>
<h3>
<a name="sec13.4">
13.4</a>&nbsp;&nbsp;Format of the FST</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center"><tt>0x0c</tt></td>
<td nowrap align="center"><tt>0x0c</tt></td>
<td nowrap>Root Directory Entry</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0c</tt></td>
<td nowrap align="center"><tt>...</tt></td>
<td nowrap align="center"><tt>0x0c</tt></td>
<td nowrap>more File- or Directory Entries</td>
</tr>
<tr>
<td nowrap align="center"><tt>...</tt></td>
<td nowrap align="center"><tt>...</tt></td>
<td nowrap align="center"><tt>...</tt></td>
<td nowrap>String table</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx13.4.1">index</a></div>
<h4>
<a name="sec13.4.1">
13.4.1</a>&nbsp;&nbsp;Format of a File Entry</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>1</tt></td>
<td nowrap>flags; 0: file 1: directory</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>3</tt></td>
<td nowrap>filename, offset into string table</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>file_offset or parent_offset (dir)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x08</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>file_length or num_entries (root) or next_offset (dir)</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx14">index</a></div>
<h2>
<a name="sec14">
14</a>&nbsp;&nbsp;general File Formats</h2>
<br><div class="idx"><a href="#idx14.1">index</a></div>
<h3>
<a name="sec14.1">
14.1</a>&nbsp;&nbsp;BNR (Banner file format)</h3>
<br>
this is the format of the file 'opening.bnr' (file size: always
6.496 bytes) found in the root directory of every Gamecube disc. This
file is the little image that is displayed in the cube menu when inserting
a disc into the gamecube, when in menu mode.<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap align="center"><tt>0x0003</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>Magic Word "BNR1" (US/JP) or 'BNR2' (EU)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap align="center"><tt>0x001f</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>padding zeroes</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0020</tt></td>
<td nowrap align="center"><tt>0x181f</tt></td>
<td nowrap align="center"><tt>0x1800</tt></td>
<td nowrap>Graphical Data (Pixel-format is RGB5A1)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1820</tt></td>
<td nowrap align="center"><tt>0x183f</tt></td>
<td nowrap align="center"><tt>0x0020</tt></td>
<td nowrap>Gamename (*) </td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1840</tt></td>
<td nowrap align="center"><tt>0x185f</tt></td>
<td nowrap align="center"><tt>0x0020</tt></td>
<td nowrap>Company/Developer (*)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1860</tt></td>
<td nowrap align="center"><tt>0x189f</tt></td>
<td nowrap align="center"><tt>0x0040</tt></td>
<td nowrap>Full Game Title (*)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x18a0</tt></td>
<td nowrap align="center"><tt>0x18df</tt></td>
<td nowrap align="center"><tt>0x0040</tt></td>
<td nowrap>Company/Developer Full name, or description (*)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x18e0</tt></td>
<td nowrap align="center"><tt>0x195f</tt></td>
<td nowrap align="center"><tt>0x0080</tt></td>
<td nowrap>Game Description (*)</td>
</tr>
</table>
</td></tr></table>
<br><br>
(*) All Text is all stored in either SHIFT-JIS or ASCII, depending
on the region of the Game.<br><br>
note: In the filesystem of european Games with multi-lingual text
there may be several .bnr files (opening.bnr, openingUS.bnr, openingEU.bnr,
openingJP.bnr). The opening.bnr is a BNR2 file, it is just like a
regular BNR file, except that the metadata at the end repeats several
times in different languages. 0x1820 through 0x1960 are the first,
and it continues in blocks of 0x0140.
     <div class="idx"><a href="#idx14.2">index</a></div>
<h3>
<a name="sec14.2">
14.2</a>&nbsp;&nbsp;DOL (Gamecube Executable)</h3>
<br>
This is a custom GameCube program file format, which is directly booted
by GameCubes' BIOS (to be exact, by the apploader on retail discs.
a different apploader could well load a binary in whatever different
format.).<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap align="center"><tt>0x001B</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Text[0..6] sections File Positions</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x001C</tt></td>
<td nowrap align="center"><tt>0x0047</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Data[0..10] sections File Positions</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0048</tt></td>
<td nowrap align="center"><tt>0x0063</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Text[0..6] sections Mem Address</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0064</tt></td>
<td nowrap align="center"><tt>0x008F</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Data[0..10] sections Mem Address</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0090</tt></td>
<td nowrap align="center"><tt>0x00AB</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Text[0..6] sections Sizes</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00AC</tt></td>
<td nowrap align="center"><tt>0x00D7</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Data[0..10] sections Sizes</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00D8</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap>BSS Mem address</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00DC</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap>BSS Size</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00E0</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap>Entry Point</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00e4</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>0x1c</tt></td>
<td nowrap>unused</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0100</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Start of sections data (body)</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx14.3">index</a></div>
<h3>
<a name="sec14.3">
14.3</a>&nbsp;&nbsp;ELF (Executable and linkable Format)</h3>
<br>
The ELF format is a standard, known format for debugging target specific
code, etc. GCC targeted for the PPC 750 processor or even for the
specialized Gekko processor has a final output of ELF format files.
The exact GameCube ELF file format details are currently unknown,
but they should be similar to the standard specification.
     <div class="idx"><a href="#idx14.4">index</a></div>
<h3>
<a name="sec14.4">
14.4</a>&nbsp;&nbsp;GCB (QOOB Flash Files)</h3>
<br><tt></tt>
<table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center"><tt>0x03</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>ID, indicates whats in the block</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap><tt>0x28432920</tt></td>
<td nowrap>'<tt>(C)</tt> ' - qoob bios file</td>
</tr>
<tr>
<td nowrap><tt>0x454c4600</tt></td>
<td nowrap>'<tt>ELF0</tt>' - ELF File</td>
</tr>
<tr>
<td nowrap><tt>0x42494e00</tt></td>
<td nowrap>(not yet) '<tt>BIN0</tt>'</td>
</tr>
<tr>
<td nowrap><tt>0x444f4c00</tt></td>
<td nowrap>(not yet) '<tt>DOL0</tt>'</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center"><tt>0xf7</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>description, will be shown in boot menu (by the qoob bios)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xf8</tt></td>
<td nowrap align="center"><tt>0xfb</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>reserved</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xfc</tt></td>
<td nowrap align="center"><tt>0xff</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>size of block</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x100</tt></td>
<td nowrap align="center"><tt>...</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>data</td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><div class="idx"><a href="#idx14.5">index</a></div>
<h3>
<a name="sec14.5">
14.5</a>&nbsp;&nbsp;GCM (Gamecube Disc Image)</h3>
<br>
These files are always 1.4GB's exactly and each contains a complete
binary image of a proprietary format GameCube DVD. This file format
is used for the NR-Writer DVD writing software which writes special
DVDs that can only be read by NR-Reader GameCubes. The GCM file format
can probably be closely compared to the ISO file format for CDs in
its purpose.
     <div class="idx"><a href="#idx14.6">index</a></div>
<h3>
<a name="sec14.6">
14.6</a>&nbsp;&nbsp;GCI (Gamecube Game Save)</h3>
<br>
Used by the EMS Memory Adapter.<br><br>
64 byte header (equal to FST entry on memcard), followed by the file
data (as on memory card)
     <div class="idx"><a href="#idx14.7">index</a></div>
<h3>
<a name="sec14.7">
14.7</a>&nbsp;&nbsp;GCP (Gamecube Memorycard Image)</h3>
<br>
Used by the EMS Memory Adapter.<br><br>
this is a raw image of all blocks of a memory card.
     <div class="idx"><a href="#idx14.8">index</a></div>
<h3>
<a name="sec14.8">
14.8</a>&nbsp;&nbsp;TGC</h3>
<br>
a proprietary image format found on demo discs and eg the zelda n64
emu<br><br>
note: there seem to be tgc files on european discs that follow a different
layout (no header).
      <div class="idx"><a href="#idx14.8.1">index</a></div>
<h4>
<a name="sec14.8.1">
14.8.1</a>&nbsp;&nbsp;Header</h4>
<br><tt></tt>
<table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap align="center"><tt>0x0003</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>TGC-Magic (<tt>0xae0f38a2</tt>)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap align="center"><tt>0x0007</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>? (=<tt>0x00000000</tt>)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0008</tt></td>
<td nowrap align="center"><tt>0x000b</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>TGC-Header Size (=<tt>0x00008000</tt>)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x000c</tt></td>
<td nowrap align="center"><tt>0x000f</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>? (=<tt>0x00100000</tt>)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0010</tt></td>
<td nowrap align="center"><tt>0x0013</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>Offset to FST inside embedded GCM</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0014</tt></td>
<td nowrap align="center"><tt>0x0017</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>FST Size</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0018</tt></td>
<td nowrap align="center"><tt>0x001b</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>max FST Size</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x001c</tt></td>
<td nowrap align="center"><tt>0x001f</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>Offset to Boot-DOL inside embedded GCM</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0020</tt></td>
<td nowrap align="center"><tt>0x0023</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>Boot-DOL Size</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0024</tt></td>
<td nowrap align="center"><tt>0x0027</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0028</tt></td>
<td nowrap align="center"><tt>0x002b</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x002c</tt></td>
<td nowrap align="center"><tt>0x002f</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>Offset to Banner inside embedded GCM ?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0030</tt></td>
<td nowrap align="center"><tt>0x0033</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>Banner Size ?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0034</tt></td>
<td nowrap align="center"><tt>0x0037</tt></td>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap>?</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx14.8.2">index</a></div>
<h4>
<a name="sec14.8.2">
14.8.2</a>&nbsp;&nbsp;embedded GCM</h4>
<br>
usually starts at offset <tt>0x00008000</tt> (after the TGC Header)
and follows exactly the same layout as a GCM file, with the following
exceptions:
<ul>
<li> Boot-DOL offset, FST offset contain bogus data and must be substituted
by the data found in the TGC header
</li>
<li> offsets within the embedded GCM file must be calculated relative to
the start of the embedded GCM (obviously)
</li>
</ul>
<div class="idx"><a href="#idx14.9">index</a></div>
<h3>
<a name="sec14.9">
14.9</a>&nbsp;&nbsp;VGC (Viper Flash Files)</h3>
<br><tt></tt>
<table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center"><tt>0x03</tt></td>
<td nowrap align="center">4</td>
<td nowrap>Viper Magic ('VIPR')</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Configuration Flags</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">7</td>
<td nowrap>GC_FLASH_ACCESS - allows access to the flashrom</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>?</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>COMMAND_MODE - enables modchip command mode (requires extended mode)</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>EXTENDED_MODE - allows reading of original IPL</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>COBRA_ENCRYPTION - enables additional encryption mode</td>
</tr>
<tr>
<td nowrap align="center">0</td>
<td nowrap>DISABLE_CHIP - disables the modchip</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x05</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Lid Sensor Status at Boot Time (*2)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>LID_OPEN</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>LID_CLOSED</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>LID_PASSTHROUGH</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x06</tt></td>
<td nowrap align="center"><tt>0x0f</tt></td>
<td nowrap align="center">10</td>
<td nowrap>padding (zeros)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x10</tt></td>
<td nowrap align="center"><tt>0x1f</tt></td>
<td nowrap align="center">16</td>
<td nowrap>BIOS Name in Ascii</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x20</tt></td>
<td nowrap align="center"><tt>...</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>Encrypted (*1) BIOS, loaded to <tt>0x81300000</tt>
</td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
(*1) encrypted with the IPL XOR-Stream
(*2) original docs state that the default value is <tt>0xff</tt>,
however actually using this value seems to cause problems.
 <div class="idx"><a href="#idx15">index</a></div>
<h2>
<a name="sec15">
15</a>&nbsp;&nbsp;Game File Formats</h2>
<br>
This Section contains information about files used in, or produced
by the official SDK, and thus is primarily useful for those who are
hacking retail games.
     <div class="idx"><a href="#idx15.1">index</a></div>
<h3>
<a name="sec15.1">
15.1</a>&nbsp;&nbsp;AFC (audio stream)</h3>
<br><div class="idx"><a href="#idx15.2">index</a></div>
<h3>
<a name="sec15.2">
15.2</a>&nbsp;&nbsp;AST (audio stream) </h3>
<br>
like afc but with tags?
     <div class="idx"><a href="#idx15.3">index</a></div>
<h3>
<a name="sec15.3">
15.3</a>&nbsp;&nbsp;ARC (RARC Archive)</h3>
<br>
This file is an archive file and contains several other files.
      <div class="idx"><a href="#idx15.3.1">index</a></div>
<h4>
<a name="sec15.3.1">
15.3.1</a>&nbsp;&nbsp;Header</h4>
<br>
The file starts with an Rarc-Header:
<tt></tt>
<table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>type - 'RARC'</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>size, size of the file</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>unknown</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>dataStartOffset, where does the actual data start? You have to add
0x20 to this value.</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">16</td>
<td nowrap>unknown</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>numNodes</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">8</td>
<td nowrap>unknown</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>fileEntriesOffset</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>unknown</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>stringTableOffset, where is the string table stored? You have to add
0x20 to this value.</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">8</td>
<td nowrap>unknown</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx15.3.2">index</a></div>
<h4>
<a name="sec15.3.2">
15.3.2</a>&nbsp;&nbsp;Nodes</h4>
<br>
Next are RarcHeader.numNodes Node structures:
<tt></tt>
<table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>type</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>filenameOffset, directory name, offset into string table</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">2</td>
<td nowrap>unknown</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">2</td>
<td nowrap>numFileEntries, how many files belong to this node?</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>firstFileEntryOffset</td>
</tr>
</table>
</td></tr></table>
<br>
Each RARC file contains at least one Node, the 'ROOT' node. For each
subdirectory in the archive, there's another Node (so each Node represents
a directory). Each Node contains files and directories, represented
by FileEntry structures:
      <div class="idx"><a href="#idx15.3.3">index</a></div>
<h4>
<a name="sec15.3.3">
15.3.3</a>&nbsp;&nbsp;File Entries</h4>
<br><tt></tt>
<table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">2</td>
<td nowrap>id, file id. If this is 0xFFFF, then this entry is a subdirectory
link</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">2</td>
<td nowrap>unknown</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">2</td>
<td nowrap>unknown</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">2</td>
<td nowrap>filenameOffset, file/subdir name, offset into string table</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>dataOffset, offset to file data (for subdirs: index of Node representing
the subdir)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>dataSize, size of data</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>zero, seems to be always '0'</td>
</tr>
</table>
</td></tr></table>
<br>
To read the archive, you read the root node and its file entries.
For each subdir in the root node's fileentries, you read the corresponding
node and its file entries. For each file in the fileentries, you dump
its data.
     <div class="idx"><a href="#idx15.4">index</a></div>
<h3>
<a name="sec15.4">
15.4</a>&nbsp;&nbsp;ARC (audio stuff)</h3>
<br>
if a .arc file doesnt start with 'RARC' it may contain audio data
     <div class="idx"><a href="#idx15.5">index</a></div>
<h3>
<a name="sec15.5">
15.5</a>&nbsp;&nbsp;ASN</h3>
<br>
audio related, contains strings
     <div class="idx"><a href="#idx15.6">index</a></div>
<h3>
<a name="sec15.6">
15.6</a>&nbsp;&nbsp;AW ("audio wave"?)</h3>
<br><div class="idx"><a href="#idx15.7">index</a></div>
<h3>
<a name="sec15.7">
15.7</a>&nbsp;&nbsp;BAS ("audio script" ?)</h3>
<br>
seems to have to do with audio (check mkdd file names...)
     <div class="idx"><a href="#idx15.8">index</a></div>
<h3>
<a name="sec15.8">
15.8</a>&nbsp;&nbsp;BCA</h3>
<br>
looks very similar to a .col file, only with some tags in it
     <div class="idx"><a href="#idx15.9">index</a></div>
<h3>
<a name="sec15.9">
15.9</a>&nbsp;&nbsp;BCK (animation of a .bmd skeleton)</h3>
<br><div class="idx"><a href="#idx15.10">index</a></div>
<h3>
<a name="sec15.10">
15.10</a>&nbsp;&nbsp;BDL </h3>
<br>
same as .bmd
     <div class="idx"><a href="#idx15.11">index</a></div>
<h3>
<a name="sec15.11">
15.11</a>&nbsp;&nbsp;BFN (font)</h3>
<br>
images of characters + mapping from character code to corresponding
image part
     <div class="idx"><a href="#idx15.12">index</a></div>
<h3>
<a name="sec15.12">
15.12</a>&nbsp;&nbsp;BIN (binary file)</h3>
<br>
scene.bin in sms contains scene layout
     <div class="idx"><a href="#idx15.13">index</a></div>
<h3>
<a name="sec15.13">
15.13</a>&nbsp;&nbsp;BLO (screen layout for dialog screens)</h3>
<br><div class="idx"><a href="#idx15.14">index</a></div>
<h3>
<a name="sec15.14">
15.14</a>&nbsp;&nbsp;BMD (3d model with texture and skeleton)</h3>
<br><div class="idx"><a href="#idx15.15">index</a></div>
<h3>
<a name="sec15.15">
15.15</a>&nbsp;&nbsp;BMG </h3>
<br>
messages, subtitles, ... (text)
     <div class="idx"><a href="#idx15.16">index</a></div>
<h3>
<a name="sec15.16">
15.16</a>&nbsp;&nbsp;BMP (window bitmap (!))</h3>
<br><div class="idx"><a href="#idx15.17">index</a></div>
<h3>
<a name="sec15.17">
15.17</a>&nbsp;&nbsp;BMT</h3>
<br>
seems to contain a MAT3 block of a .bmd file
     <div class="idx"><a href="#idx15.18">index</a></div>
<h3>
<a name="sec15.18">
15.18</a>&nbsp;&nbsp;BCK ("Pack" file)</h3>
<br><div class="idx"><a href="#idx15.19">index</a></div>
<h3>
<a name="sec15.19">
15.19</a>&nbsp;&nbsp;BRK </h3>
<br>
animation stuff? rotation keys?
     <div class="idx"><a href="#idx15.20">index</a></div>
<h3>
<a name="sec15.20">
15.20</a>&nbsp;&nbsp;BTI</h3>
<br>
Note: some .bti files are Yaz0-compressed (if the first 4 bytes are
'Yaz0'), if this is the case you have to uncompress them first.
A .bti file stores a single image, but can store several mipmaps.
The file starts with a texture-header (which is used in the TEX! section
of bmd/bdl and jpa files to store textures aswell):
      <div class="idx"><a href="#idx15.20.1">index</a></div>
<h4>
<a name="sec15.20.1">
15.20.1</a>&nbsp;&nbsp;Texture Header</h4>
<br><tt></tt>
<table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>format</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>I4 (4 bit intensity, 8x8 tiles)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>I8 (8 bit intensity, 8x4 tiles)</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>IA4 (4 bit intensity with 4 bit alpha, 8x4 tiles)</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>IA8 (8 bit intensity with 8 bit alpha, 4x4 tiles)</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>RGB565 (4x4 tiles)</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>RGB5A3 (*) (4x4 tiles)</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>RGBA8 (4x4 tiles in two cache lines - first is AR and second is GB)</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap>CI4 (4 bit color index, 8x8 tiles)</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap>CI8 (8 bit color index, 8x4 tiles)</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>CI14X2 (14 bit color index, 4x4 tiles)</td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap>CMP (S3TC compressed, 2x2 blocks of 4x4 tiles)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>unknown</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x02</tt></td>
<td nowrap align="center"><tt>0x03</tt></td>
<td nowrap align="center">2</td>
<td nowrap>width</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center"><tt>0x05</tt></td>
<td nowrap align="center">2</td>
<td nowrap>height</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x06</tt></td>
<td nowrap align="center"><tt>0x07</tt></td>
<td nowrap align="center">2</td>
<td nowrap>unknown</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x08</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>unknown</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x09</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>Palette Format</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>IA8</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>RGB565</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>RGB5A3 (*)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0a</tt></td>
<td nowrap align="center"><tt>0x0b</tt></td>
<td nowrap align="center">2</td>
<td nowrap>Palette Entries - number of entries in the Palette</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0c</tt></td>
<td nowrap align="center"><tt>0x0f</tt></td>
<td nowrap align="center">4</td>
<td nowrap>Palette Offset - offset to Palette Data</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x10</tt></td>
<td nowrap align="center"><tt>0x13</tt></td>
<td nowrap align="center">4</td>
<td nowrap>unknown</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x14</tt></td>
<td nowrap align="center"><tt>0x15</tt></td>
<td nowrap align="center">2</td>
<td nowrap>unknown</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x16</tt></td>
<td nowrap align="center"><tt>0x17</tt></td>
<td nowrap align="center">2</td>
<td nowrap>unknown</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x18</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>mipmap count</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x19</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>unknown</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1a</tt></td>
<td nowrap align="center"><tt>0x1b</tt></td>
<td nowrap align="center">2</td>
<td nowrap>unknown</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1c</tt></td>
<td nowrap align="center"><tt>0x1f</tt></td>
<td nowrap align="center">4</td>
<td nowrap>Data Offset - offset to image Data</td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
(*) RGB5A3 is RGB5 if color value is negative and RGB4A3 otherwise.
Offsets are relative to the Texture Header (this is important in bmd/bdl
files).
     <div class="idx"><a href="#idx15.21">index</a></div>
<h3>
<a name="sec15.21">
15.21</a>&nbsp;&nbsp;BTP </h3>
<br>
99% sure that this contains texture animation (NOT texture coordinate
animation)
     <div class="idx"><a href="#idx15.22">index</a></div>
<h3>
<a name="sec15.22">
15.22</a>&nbsp;&nbsp;BTK</h3>
<br>
(curves??? kinematics??) translation keys? probably some material
animation as well (texture coord anim?)
     <div class="idx"><a href="#idx15.23">index</a></div>
<h3>
<a name="sec15.23">
15.23</a>&nbsp;&nbsp;COL (collision triangles)</h3>
<br><div class="idx"><a href="#idx15.24">index</a></div>
<h3>
<a name="sec15.24">
15.24</a>&nbsp;&nbsp;DZB</h3>
<br>
collision data ?
     <div class="idx"><a href="#idx15.25">index</a></div>
<h3>
<a name="sec15.25">
15.25</a>&nbsp;&nbsp;H4M</h3>
<br>
a proprietary Movie Format found on some Gamecube Game DVDs. Probably
related to the HVQ (Hirarchical Vector Quantization) format developed
by Hudson.
     <div class="idx"><a href="#idx15.26">index</a></div>
<h3>
<a name="sec15.26">
15.26</a>&nbsp;&nbsp;JPA (particle data)</h3>
<br>
(TEX1 section contains .bti images)
     <div class="idx"><a href="#idx15.27">index</a></div>
<h3>
<a name="sec15.27">
15.27</a>&nbsp;&nbsp;JPC </h3>
<br>
collection of .jpa files ("Particle paCk"?)
     <div class="idx"><a href="#idx15.28">index</a></div>
<h3>
<a name="sec15.28">
15.28</a>&nbsp;&nbsp;MTH ('Mute thp?')</h3>
<br>
video format, has the same video frame format as thp, but headers
are a bit different
     <div class="idx"><a href="#idx15.29">index</a></div>
<h3>
<a name="sec15.29">
15.29</a>&nbsp;&nbsp;PAD</h3>
<br>
recorded controller data?
     <div class="idx"><a href="#idx15.30">index</a></div>
<h3>
<a name="sec15.30">
15.30</a>&nbsp;&nbsp;PRM ('Parameters?')</h3>
<br><div class="idx"><a href="#idx15.31">index</a></div>
<h3>
<a name="sec15.31">
15.31</a>&nbsp;&nbsp;REL (relocatable module)</h3>
<br>
some kind of .dll or similar, contains text and data sections and
relocation info
     <div class="idx"><a href="#idx15.32">index</a></div>
<h3>
<a name="sec15.32">
15.32</a>&nbsp;&nbsp;SB</h3>
<br>
?, contains a stringtable
     <div class="idx"><a href="#idx15.33">index</a></div>
<h3>
<a name="sec15.33">
15.33</a>&nbsp;&nbsp;SZS (packed RARC Archive)</h3>
<br>
This is a Yaz0-compressed RARC archive
     <div class="idx"><a href="#idx15.34">index</a></div>
<h3>
<a name="sec15.34">
15.34</a>&nbsp;&nbsp;THP (video format)</h3>
<br>
.thp is a video format on the gamecube. The video frames are independent
"quasi-jpegs", and if audio frames are present,
they are in an adpcm format (described below).
      <div class="idx"><a href="#idx15.34.1">index</a></div>
<h4>
<a name="sec15.34.1">
15.34.1</a>&nbsp;&nbsp;Header data</h4>
<br>
The file starts with a thp header:
<tt></tt>
<table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center"><tt>0x03</tt></td>
<td nowrap align="center">4</td>
<td nowrap>Magic Bytes, <tt>0x54485000</tt> ('THP0')</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center"><tt>0x07</tt></td>
<td nowrap align="center">4</td>
<td nowrap>Version</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><tt>0x00010000</tt></td>
<td nowrap align="center">v1.0</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00011000</tt></td>
<td nowrap align="center">v1.1</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x08</tt></td>
<td nowrap align="center"><tt>0x0b</tt></td>
<td nowrap align="center">4</td>
<td nowrap>maxBufferSize - maximal buffer size needed for one complete frame
(header + video + audio)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0c</tt></td>
<td nowrap align="center"><tt>0x0f</tt></td>
<td nowrap align="center">4</td>
<td nowrap>maxAudioSamples - != 0 if sound is stored in file, maximal number
of samples in one frame.</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x10</tt></td>
<td nowrap align="center"><tt>0x13</tt></td>
<td nowrap align="center">4</td>
<td nowrap>FPS (float value)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><tt>0x41efc28f</tt></td>
<td nowrap align="center">~29; NTSC</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x14</tt></td>
<td nowrap align="center"><tt>0x17</tt></td>
<td nowrap align="center">4</td>
<td nowrap>numFrames - number of frames in the thp file</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x18</tt></td>
<td nowrap align="center"><tt>0x1b</tt></td>
<td nowrap align="center">4</td>
<td nowrap>firstFrameSize - size of first frame (header + video + audio)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x1c</tt></td>
<td nowrap align="center"><tt>0x1f</tt></td>
<td nowrap align="center">4</td>
<td nowrap>dataSize - size of all frames (not counting the thp header structures)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x20</tt></td>
<td nowrap align="center"><tt>0x23</tt></td>
<td nowrap align="center">4</td>
<td nowrap>componentDataOffset - ThpComponents stored here (see below)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x24</tt></td>
<td nowrap align="center"><tt>0x27</tt></td>
<td nowrap align="center">4</td>
<td nowrap>offsetsDataOffset - if != 0, offset to table with offsets of all frames?</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x28</tt></td>
<td nowrap align="center"><tt>0x2b</tt></td>
<td nowrap align="center">4</td>
<td nowrap>firstFrameOffset - offset to first frame's data</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x2c</tt></td>
<td nowrap align="center"><tt>0x2f</tt></td>
<td nowrap align="center">4</td>
<td nowrap>lastFrameOffset - offset to last frame's data</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx15.34.2">index</a></div>
<h4>
<a name="sec15.34.2">
15.34.2</a>&nbsp;&nbsp;Components structure</h4>
<br>
At ThpHeader.componentDataOffset, a ThpComponents structure is stored:
<tt></tt>
<table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center"><tt>0x03</tt></td>
<td nowrap align="center">4</td>
<td nowrap>numComponents - usually 1 or 2 (video or video + audio)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center"><tt>0x13</tt></td>
<td nowrap align="center">16</td>
<td nowrap>componentTypes - each byte specifies the type of one component as
follows:</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap>video</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x01</tt></td>
<td nowrap>audio</td>
</tr>
<tr>
<td nowrap align="center"><tt>0xff</tt></td>
<td nowrap>no component</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr></table>
<br>
The first ThpComponents.numComponents entries of ThpComponents.componentTypes
are valid. For each component, an information structure is stored
after the ThpComponents struct.
      <div class="idx"><a href="#idx15.34.3">index</a></div>
<h4>
<a name="sec15.34.3">
15.34.3</a>&nbsp;&nbsp;VideoInfo Structure</h4>
<br>
Component type 0 is video, a ThpVideoInfo struct looks like this:
<tt></tt>
<table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center"><tt>0x03</tt></td>
<td nowrap align="center">4</td>
<td nowrap>width</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center"><tt>0x07</tt></td>
<td nowrap align="center">4</td>
<td nowrap>height</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x08</tt></td>
<td nowrap align="center"><tt>0x0b</tt></td>
<td nowrap align="center">4</td>
<td nowrap>unknown (only v1.1 files)</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx15.34.4">index</a></div>
<h4>
<a name="sec15.34.4">
15.34.4</a>&nbsp;&nbsp;AudioInfo Structure</h4>
<br>
Component type 1 is audio (not always included), a ThpAudioInfo struct
looks like this:
<tt></tt>
<table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center"><tt>0x03</tt></td>
<td nowrap align="center">4</td>
<td nowrap>numChannels</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center"><tt>0x07</tt></td>
<td nowrap align="center">4</td>
<td nowrap>frequency</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x08</tt></td>
<td nowrap align="center"><tt>0x0b</tt></td>
<td nowrap align="center">4</td>
<td nowrap>numSamples</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0c</tt></td>
<td nowrap align="center"><tt>0x0f</tt></td>
<td nowrap align="center">4</td>
<td nowrap>numData (only for v1.1 files) - amount of audio blocks stored after
each video block</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx15.34.5">index</a></div>
<h4>
<a name="sec15.34.5">
15.34.5</a>&nbsp;&nbsp;Frame data</h4>
<br>
A frame is made up of a frame header followed by a video frame followed
by ThpAudioInfo.numData audio frames (only if the video contains sound).
The frame header consists of 3 (or 4, if the video contains sound)
32bit values:
<tt></tt>
<table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center"><tt>0x03</tt></td>
<td nowrap align="center">4</td>
<td nowrap>nextTotalSize - total size of NEXT frame (frame header, video and
audio)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center"><tt>0x07</tt></td>
<td nowrap align="center">4</td>
<td nowrap>prevTotalSize - total size of PREVIOUS frame</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x08</tt></td>
<td nowrap align="center"><tt>0x0b</tt></td>
<td nowrap align="center">4</td>
<td nowrap>imageSize - size of image frame of THIS frame</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0c</tt></td>
<td nowrap align="center"><tt>0x0f</tt></td>
<td nowrap align="center">4</td>
<td nowrap>audioSize - size of one audio frame of THIS frame (only if the file
contains audio)</td>
</tr>
</table>
</td></tr></table>
<br>
Directly after the frame header FrameHeader.imageSize bytes video
information follow. Directly after the video information, ThpAudioInfo.numData
audio frames follow, each Frameheader.audioSize bytes large (only
if the file contains audio).
      <div class="idx"><a href="#idx15.34.6">index</a></div>
<h4>
<a name="sec15.34.6">
15.34.6</a>&nbsp;&nbsp;Video Frames</h4>
<br>
A video frame is more or less a jpeg image. A jpeg file is structured
by several markers. A marker is a two-byte code, the first of the
two bytes is <tt>0xff</tt>. The jpeg standard states that if you want
to store the value <tt>0xff</tt>, you have to store it as <tt>0xff
0x00</tt> (else it would be confused with a marker). This is NOT the case
in .thp files, the value <tt>0xff</tt> is stored simply as <tt>0xff</tt>
in the image data. So if you want to use jpeglib to read the frame,
you have to convert the thp "quasi-jpeg" to a real
jpeg by converting <tt>0xff</tt> values to <tt>0xff 0x00</tt> in the
image data. You have to be careful that you don't convert the terminating
End-Of-Image marker, though.
- search for Start-Of-Image marker (<tt>0xff 0xda</tt>)
- search for End-Of-Image marker (<tt>0xff 0xd9</tt>) (start search
at end of buffer and search backwards!)
- convert each <tt>0xff</tt> between image data start and image data
end to <tt>0xff 0x00</tt><br>
- the resulting buffer can be passed to jpeglib to let it decode the
image for you
      <div class="idx"><a href="#idx15.34.7">index</a></div>
<h4>
<a name="sec15.34.7">
15.34.7</a>&nbsp;&nbsp;Audio Frames</h4>
<br>
An audio frame starts with a ThpAudioFrameHeader (total size is 80
bytes)
<tt></tt>
<table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x00</tt></td>
<td nowrap align="center"><tt>0x03</tt></td>
<td nowrap align="center">4</td>
<td nowrap>channelSize - size of one channel in bytes (*1)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x04</tt></td>
<td nowrap align="center"><tt>0x07</tt></td>
<td nowrap align="center">4</td>
<td nowrap>numSamples - number of samples/channel</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x08</tt></td>
<td nowrap align="center"><tt>0x27</tt></td>
<td nowrap align="center">32</td>
<td nowrap>table for first channel (*2)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x28</tt></td>
<td nowrap align="center"><tt>0x47</tt></td>
<td nowrap align="center">32</td>
<td nowrap>table for second channel (stored for one channel videos as well) (*2)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x48</tt></td>
<td nowrap align="center"><tt>0x49</tt></td>
<td nowrap align="center">2</td>
<td nowrap>signed value, channel1Prev1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x4a</tt></td>
<td nowrap align="center"><tt>0x4b</tt></td>
<td nowrap align="center">2</td>
<td nowrap>signed value, channel1Prev2</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x4c</tt></td>
<td nowrap align="center"><tt>0x4d</tt></td>
<td nowrap align="center">2</td>
<td nowrap>signed value, channel2Prev1</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x4e</tt></td>
<td nowrap align="center"><tt>0x4f</tt></td>
<td nowrap align="center">2</td>
<td nowrap>signed value, channel2Prev2</td>
</tr>
</table>
</td></tr></table>
<br>
(*1) <tt>audio frame size = sizeof(ThpAudioFrameHeader) + ThpAudioInfo.numChannels
* ThpAudioFrameHeader.channelSize</tt><br>
(*2) tables stored as 16bit signed 5.11 fixed point numbers
Directly after the ThpAudioFrameHeader ThpAudioFrameHeader.channelSize
bytes follow for the first channel, and if the video is stereo (ThpAudioInfo.numChannels
= 2), that many bytes follow for the second channel.
The audio data is made up of small packets of 8 byte, each packet
contains 14 samples. Some kind of adpcm coding is used. A sample is
calculated like this:
<tt>newSample = previousSample*factor1 + sampleBeforePreviousSample*factor2
+ (sampleData * 2^exponent);</tt><br>
For each packet, the first byte stores factor1, factor2 and exponent:
<tt>u8 index = (firstByte &gt;&nbsp;&gt; 4) &amp; 0x7; //highest
bit of byte is ignored</tt><br><tt>u8 exponent = firstByte &amp; 0xf;</tt><br><tt>float factor1 = ThpAudioFrameHeader.table[2*index]/pow(2.f,
11);</tt><br><tt>float factor2 = ThpAudioFrameHeader.table[2*index + 1]/pow(2.f,
11);</tt><br>
The following 7 bytes store 14 sampleData (each 4 bit, interpreted
as a signed two's complement number).
     <div class="idx"><a href="#idx15.35">index</a></div>
<h3>
<a name="sec15.35">
15.35</a>&nbsp;&nbsp;TPL (Texture Palette)</h3>
<br>
Another custom GameCube file format that holds texture and texture
palette data. Many textures can be stored in one TPL file format,
and it is commonly used by the SDK to hold texture data for GameCube
games.<br><br>
note: appearently there are different formats of .TPL files, the following
applies only to those with the magic <tt>0x00,0x20,0xaf,0x30</tt>.<br><br>
TPL Header<br><br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap align="center"><tt>0x0003</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>Magic (<tt>0x00, 0x20, 0xAF, 0x30</tt>)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap align="center"><tt>0x0007</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>ntextures - Number of Textures in File</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0008</tt></td>
<td nowrap align="center"><tt>0x000b</tt></td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>size of Header (always <tt>0x0c</tt> in files with this structure)</td>
</tr>
</table>
</td></tr></table>
<br><br>
TPL Texture<br><br>
After the header goes 'ntextures' times the TPLTexture structure:<br><br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>Texture Header Offset</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>Texture Palette Offset (0 if no palette)</td>
</tr>
</table>
</td></tr></table>
<br><br>
TPL Texture Header<br><br>
For every texture at position 'Texture Header Offset' there is the
TPL Texture Header:<br><br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">2</td>
<td nowrap>height</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">2</td>
<td nowrap>width</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>format</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>I4 (4 bit intensity, 8x8 tiles)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>I8 (8 bit intensity, 8x4 tiles)</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>IA4 (4 bit intensity with 4 bit alpha, 8x4 tiles)</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>IA8 (8 bit intensity with 8 bit alpha, 4x4 tiles)</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>RGB565 (4x4 tiles)</td>
</tr>
<tr>
<td nowrap align="center">5</td>
<td nowrap>RGB5A3 (*) (4x4 tiles)</td>
</tr>
<tr>
<td nowrap align="center">6</td>
<td nowrap>RGBA8 (4x4 tiles in two cache lines - first is AR and second is GB)</td>
</tr>
<tr>
<td nowrap align="center">8</td>
<td nowrap>CI4 (4 bit color index, 8x8 tiles)</td>
</tr>
<tr>
<td nowrap align="center">9</td>
<td nowrap>CI8 (8 bit color index, 8x4 tiles)</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap>CI14X2 (14 bit color index, 4x4 tiles)</td>
</tr>
<tr>
<td nowrap align="center">14</td>
<td nowrap>CMP (S3TC compressed, 2x2 blocks of 4x4 tiles)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>offset to Texture Data</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>wrap s</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>wrap t</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>min filter</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>mag filter</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>lod bias (float value)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>edge lod</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>min lod</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>max lod</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>unpacked</td>
</tr>
</table>
</td></tr></table>
<br><br>
TPL Palette Header<br><br>
For every palette (not every texture has one) there is the TPL Palette
Header:<br><br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">2</td>
<td nowrap>nitems</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>unpacked</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">1</td>
<td nowrap>pad</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>format</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>IA8</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>RGB565</td>
</tr>
<tr>
<td nowrap align="center">2</td>
<td nowrap>RGB5A3 (*)</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">4</td>
<td nowrap>offset to Palette Data</td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
(*) RGB5A3 is RGB5 if color value is negative and RGB4A3 otherwise.
     <div class="idx"><a href="#idx15.36">index</a></div>
<h3>
<a name="sec15.36">
15.36</a>&nbsp;&nbsp;YMP (height map)</h3>
<br><div class="idx"><a href="#idx16">index</a></div>
<h2>
<a name="sec16">
16</a>&nbsp;&nbsp;Compression Formats</h2>
<br><div class="idx"><a href="#idx16.1">index</a></div>
<h3>
<a name="sec16.1">
16.1</a>&nbsp;&nbsp;Yay0</h3>
<br>
This format is used to store the fonts in the BIOS/IPL. It is compressed
similar to the the Zelda 64 'Yaz0' compression.<br><div class="idx"><a href="#idx16.1.1">index</a></div>
<h4>
<a name="sec16.1.1">
16.1.1</a>&nbsp;&nbsp;compression</h4>
<br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>'Yay0' signature</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>size of decoded data in bytes</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0008</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>offset to link table</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x000c</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>offset to non-linked chunks and count modifiers table</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0010</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>packed data (32 bit words)</td>
</tr>
</table>
</td></tr></table>
<tt></tt>&nbsp;<br><tt></tt>&nbsp;<br>
The packed data is a bitstream (padded to a multiple of 32bits), with
each bit having the following meaning:<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">0</td>
<td nowrap>linked chunk, copy block from the link table (offset 0x0008)</td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap>non linked chunk, copy next byte from non-linked chunks and count
modifiers table (offset at 0x000c)</td>
</tr>
</table>
</td></tr></table>
<br><br>
todo
      <div class="idx"><a href="#idx16.1.2">index</a></div>
<h4>
<a name="sec16.1.2">
16.1.2</a>&nbsp;&nbsp;de-compression Code</h4>
<br><tt>void Decode(void *s, void *d)</tt>&nbsp;<br><tt>{</tt>&nbsp;<br><tt>u32 i, j, k;</tt>&nbsp;<br><tt>u32 p, q;</tt>&nbsp;<br><tt>u32 cnt;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;i = r21 = *(u32 *)(s + 4); // size of decoded
data</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;j = r29 = *(u32 *)(s + 8); // link table</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;k = r23 = *(u32 *)(s + 12); // byte chunks and
count modifiers</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;q = r31 = 0; // current offset in dest buffer</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;cnt = r28 = 0; // mask bit counter</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;p = r24 = 16; // current offset in mask table</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;do</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;{</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// if all bits are done, get next mask</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(cnt == 0)</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// read word from mask data block</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r22 = *(u32 *)(s + p);</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p += 4;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cnt = 32; // bit counter</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// if next bit is set, chunk is non-linked</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(r22 &amp; 0x80000000)</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// get next byte</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*(u8 *)(d + q) = *(u8 *)(s
+ k);</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k++; q++;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// do copy, otherwise</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// read 16-bit from link table</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r26 = *(u16 *)(s + j);</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j += 2;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 'offset'</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r25 = q - (r26 &amp; 0xfff);</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 'count'</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r30 = r26 &gt;&nbsp;&gt; 12;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(r30 == 0)</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// get 'count' modifier</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r5 = *(u8 *)(s + k);</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k++;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r30 = r5 + 18;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else r30 += 2;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// do block copy</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r5 = d + r25;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(i=0; i&lt;r30; i++)</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*(u8 *)(d + q) = *(u8
*)(r5 - 1);</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q++; r5++;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// next bit in mask</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r22 &lt;&nbsp;&lt;= 1;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cnt--;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;} while(q &lt; i);</tt>&nbsp;<br><tt>}</tt>&nbsp;<br><tt></tt>&nbsp;<br><div class="idx"><a href="#idx16.1.3">index</a></div>
<h4>
<a name="sec16.1.3">
16.1.3</a>&nbsp;&nbsp;Font Data</h4>
<br><table><tr><td nowrap align="center">
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>start</b></td>
<td nowrap align="center"><b>end</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0000</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Font Type</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0002</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>first Character in Font</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0004</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>last Character in Font</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0006</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Character to use for substituting invalid Characters</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0008</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>ascent Units</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x000a</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>descent Units</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x000c</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>width of widest Character</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x000e</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>leading Space</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0010</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Cell width</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0012</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Cell Height</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0014</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>Texture Size</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0018</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Texture Format</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x001a</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Texture Columns</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x001c</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Texture Rows</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x001e</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Texture Width</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0020</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>Texture Height</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0022</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap>offset to Character-width Table</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0024</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>offset to Tile-Data</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x0028</tt></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center"><tt>4</tt></td>
<td nowrap>Tile-Data Size</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx16.2">index</a></div>
<h3>
<a name="sec16.2">
16.2</a>&nbsp;&nbsp;Yaz0</h3>
<br>
Yaz0 compression is reportedly used in quite a few Nintendo datafiles.
I have seen it in SuperMario Sunshine's .szs files for example, and
I heard that it is used in Windwaker and Majoras Mask as well.
The first 16 bytes of a Yaz0-compressed data block are the data header.
The first 4 bytes of the header are 'Y', 'a', 'z', '0', so you can
easily see in your hex editor that there's a Yaz0 block waiting for
you :-) The second 4 bytes are a single uint32 (big-endian of course)
that tells you the size of the decompressed data, so you know how
large your working buffer has to be. The next 8 bytes are always zero.
Next comes the actual compressed data. Yaz0 is some kind of RLE compression.
You decode it as follows: First you read a "code"
byte that tells you for the next 8 "read operations"
what you have to do. Each bit of the "code" byte
represents one "read operation" (from left to right,
that is, 0x80 first, 0x01 last). If the bit is 1, copy one byte from
the input buffer to the output buffer. Easy. If the bit is 0, things
are a little bit more complicated, RLE compressed data is ahead. You
have to read the next two bytes to decide how long your run is and
what you should write to your output buffer.
<table>
<tr>
<td nowrap align="center">15</td>
<td nowrap align="center">8</td>
<td nowrap align="center">7</td>
<td nowrap align="center">0</td>
</tr>
<tr>
<td nowrap align="center">a</td>
<td nowrap align="center">b</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
</table>
<br>
The upper nibble of the first byte (a) contains the information you
need to determine how many bytes you're going to write to your output
buffer for this "read operation". if a == 0, then
you have to read a third byte from your input buffer, and add 0x12
to it. Otherwise, you simply add 2 to a. This is the number of bytes
to write ("count") in this "read operation".
byte2 and the lower nibble of byte1 (b) tell you from where to copy
data to your output buffer: you move (dist = (b &lt;&nbsp;&amp;lt<br>
8) - byte2 + 1) bytes back in your outputBuffer and copy "count"
bytes from there to the end of the buffer. Note that count could be
greater than dist which means that the copy source and copy destination
might overlap. 
      <div class="idx"><a href="#idx16.2.1">index</a></div>
<h4>
<a name="sec16.2.1">
16.2.1</a>&nbsp;&nbsp;de-compression Code</h4>
<br><tt>//src points to the yaz0 source data (to the "real"
source data, not at the header!)</tt>&nbsp;<br><tt>//dst points to a buffer uncompressedSize bytes large (you
get uncompressedSize from</tt>&nbsp;<br><tt>//the second 4 bytes in the Yaz0 header).</tt>&nbsp;<br><tt></tt>&nbsp;<br><tt>void decode(u8* src, u8* dst, int uncompressedSize)</tt>&nbsp;<br><tt>{</tt>&nbsp;<br><tt>int srcPlace = 0, dstPlace = 0; //current read/write positions</tt>&nbsp;<br><tt>u32 validBitCount = 0; //number of valid bits left in "code"
byte</tt>&nbsp;<br><tt>u8 currCodeByte;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;while(dstPlace &lt; uncompressedSize)</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;{</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//read new "code" byte if
the current one is used up</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(validBitCount == 0)</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;currCodeByte = src[srcPlace];</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++srcPlace;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validBitCount = 8;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if((currCodeByte &amp; 0x80) != 0)</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//straight copy</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dst[dstPlace] = src[srcPlace];</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dstPlace++;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srcPlace++;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//RLE part</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u8 byte1 = src[srcPlace];</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u8 byte2 = src[srcPlace + 1];</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srcPlace += 2;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u32 dist = ((byte1 &amp; 0xF) &lt;&nbsp;&lt;
8)  -  byte2;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u32 copySource = dstPlace - (dist
+ 1);</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u32 numBytes = byte1 &gt;&nbsp;&gt;
4;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(numBytes == 0)</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numBytes = src[srcPlace]
+ 0x12;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srcPlace++;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numBytes += 2;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//copy run</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int i = 0; i &lt; numBytes; ++i)</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dst[dstPlace] = dst[copySource];</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;copySource++;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dstPlace++;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//use next bit from "code"
byte</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;currCodeByte &lt;&nbsp;&lt;= 1;</tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validBitCount-=1; </tt>&nbsp;<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;}</tt>&nbsp;<br><tt>}</tt>&nbsp;<br><tt></tt>&nbsp;<br><div class="idx"><a href="#idx17">index</a></div>
<h2>
<a name="sec17">
17</a>&nbsp;&nbsp;Graphic Formats</h2>
<br><div class="idx"><a href="#idx17.1">index</a></div>
<h3>
<a name="sec17.1">
17.1</a>&nbsp;&nbsp;YCbYCr</h3>
<br>
This is the Format used for image data in the external framebuffer
(XFB). It exploits the fact that the resolution of color on a PAL/NTSC
screen is lower than the resolution of luminance (brightness), and
thus stores only separate luminance info for each pixel and combines
the color information of two pixels each, saving 2 bytes versus traditional
RGB-per-pixel framebuffers. This means that in XFB you cant modify
the color of a single pixel without affecting its neighbour. (you
can however, seperatly modify its luminance/brightness). It also means
that you can not accurately convert one single pixel into XFB framebuffer
format, you will always have to convert two pixels at once.<br><br>
To convert two pixels to YCbYCr, first average their RGB values<br><br><tt>R = (R1+R2)/2</tt>&nbsp;<br><tt>G = (G1+G2)/2</tt>&nbsp;<br><tt>B = (B1+B2)/2</tt><br><br>
now calculate the luminance portion of each pixel<br><br><tt>Y1 = (77/256)R1 + (150/256)G1 + (29/256)B1</tt>&nbsp;<br><tt>Y2 = (77/256)R2 + (150/256)G2 + (29/256)B2</tt><br><br>
then calculate the combined color portion<br><br><tt>Cb = -(44/256)R - &nbsp;(87/256)G + (131/256)B + 128</tt>&nbsp;<br><tt>Cr = (131/256)R - (110/256)G - &nbsp;(21/256)B + 128</tt>&nbsp;<br><br>
now a 32 bit value to be written to XFB (to a 32 bit aligned address
of course) can be made up like this<br><br><table>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>1111</tt></td>
<td nowrap align="right"><tt>1111</tt></td>
<td nowrap><tt>bbbb</tt></td>
<td nowrap align="right"><tt>bbbb</tt></td>
<td nowrap><tt>2222</tt></td>
<td nowrap align="right"><tt>2222</tt></td>
<td nowrap><tt>rrrr</tt></td>
<td nowrap align="right"><tt>rrrr</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">24-31</td>
<td nowrap align="center">1</td>
<td nowrap>Y1 - luminance Portion of first Pixel</td>
</tr>
<tr>
<td nowrap align="center">16-23</td>
<td nowrap align="center">b</td>
<td nowrap>Cb - combined color</td>
</tr>
<tr>
<td nowrap align="center">8-15</td>
<td nowrap align="center">2</td>
<td nowrap>Y2 - luminance Portion of first Pixel</td>
</tr>
<tr>
<td nowrap align="center">0-7</td>
<td nowrap align="center">r</td>
<td nowrap>Cr - combined color</td>
</tr>
</table>
</td></tr>
</table>
<br><br>
converting a single pixel back to RGB looks like this<br><br><tt>R = Y + 1.371(Cr - 128)</tt>&nbsp;<br><tt>G = Y - 0.698(Cr - 128) - 0.336(Cb - 128)</tt>&nbsp;<br><tt>B = Y + 1.732(Cb - 128)</tt>&nbsp;<br><div class="idx"><a href="#idx17.2">index</a></div>
<h3>
<a name="sec17.2">
17.2</a>&nbsp;&nbsp;I4 (4bit indexed)</h3>
<br><div class="idx"><a href="#idx17.3">index</a></div>
<h3>
<a name="sec17.3">
17.3</a>&nbsp;&nbsp;IA4 (4bit indexed with alpha)</h3>
<br><div class="idx"><a href="#idx17.4">index</a></div>
<h3>
<a name="sec17.4">
17.4</a>&nbsp;&nbsp;I8 (8bit indexed)</h3>
<br><div class="idx"><a href="#idx17.5">index</a></div>
<h3>
<a name="sec17.5">
17.5</a>&nbsp;&nbsp;IA8 (8bit indexed with alpha)</h3>
<br><div class="idx"><a href="#idx17.6">index</a></div>
<h3>
<a name="sec17.6">
17.6</a>&nbsp;&nbsp;CI4 (compressed 4bit indexed)</h3>
<br><div class="idx"><a href="#idx17.7">index</a></div>
<h3>
<a name="sec17.7">
17.7</a>&nbsp;&nbsp;CIA4 (compressed 4bit indexed with alpha)</h3>
<br><div class="idx"><a href="#idx17.8">index</a></div>
<h3>
<a name="sec17.8">
17.8</a>&nbsp;&nbsp;CI8 (compressed 8bit indexed)</h3>
<br>
Used for Icons and Banners on Memory Card. This Format uses a palette
in RGB5A1 Format, the Pixel data is stored in 8x4 pixel tiles.
     <div class="idx"><a href="#idx17.9">index</a></div>
<h3>
<a name="sec17.9">
17.9</a>&nbsp;&nbsp;CIA8 (compressed 8bit indexed with alpha)</h3>
<br><div class="idx"><a href="#idx17.10">index</a></div>
<h3>
<a name="sec17.10">
17.10</a>&nbsp;&nbsp;RGB4A3</h3>
<br>
Used for Icons and Banners on Memory Card. This Format uses no palette
and is stored in 4x4 pixel tiles.
      <div class="idx"><a href="#idx17.10.1">index</a></div>
<h4>
<a name="sec17.10.1">
17.10.1</a>&nbsp;&nbsp;RGB4A3 Pixel Format</h4>
<br><table>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>.ttt</tt></td>
<td nowrap align="right"><tt>rrrr</tt></td>
<td nowrap><tt>gggg</tt></td>
<td nowrap align="right"><tt>bbbb</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>unused (?)</td>
</tr>
<tr>
<td nowrap align="center">12-14</td>
<td nowrap align="center">t</td>
<td nowrap>transparency</td>
</tr>
<tr>
<td nowrap align="center">8-11</td>
<td nowrap align="center">r</td>
<td nowrap>red channel</td>
</tr>
<tr>
<td nowrap align="center">4-7</td>
<td nowrap align="center">g</td>
<td nowrap>green channel</td>
</tr>
<tr>
<td nowrap align="center">0-3</td>
<td nowrap align="center">b</td>
<td nowrap>blue channel</td>
</tr>
</table>
</td></tr>
</table>
<br><div class="idx"><a href="#idx17.11">index</a></div>
<h3>
<a name="sec17.11">
17.11</a>&nbsp;&nbsp;RGB5A1</h3>
<br>
Used for Icons and Banners on Memory Card. This Format uses no palette
and is stored in 4x4 pixel tiles.
      <div class="idx"><a href="#idx17.11.1">index</a></div>
<h4>
<a name="sec17.11.1">
17.11.1</a>&nbsp;&nbsp;RGB5A1 Pixel Format</h4>
<br><table>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>trrr</tt></td>
<td nowrap align="right"><tt>rrgg</tt></td>
<td nowrap><tt>gggb</tt></td>
<td nowrap align="right"><tt>bbbb</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap align="center">t</td>
<td nowrap>transparency</td>
</tr>
<tr>
<td nowrap align="center">10-14</td>
<td nowrap align="center">r</td>
<td nowrap>red channel</td>
</tr>
<tr>
<td nowrap align="center">5-9</td>
<td nowrap align="center">g</td>
<td nowrap>green channel</td>
</tr>
<tr>
<td nowrap align="center">0-4</td>
<td nowrap align="center">b</td>
<td nowrap>blue channel</td>
</tr>
</table>
</td></tr>
</table>
<br><br><div class="idx"><a href="#idx17.12">index</a></div>
<h3>
<a name="sec17.12">
17.12</a>&nbsp;&nbsp;RGB565</h3>
<br><div class="idx"><a href="#idx17.12.1">index</a></div>
<h4>
<a name="sec17.12.1">
17.12.1</a>&nbsp;&nbsp;RGB565 Pixel Format</h4>
<br><table>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>rrrr</tt></td>
<td nowrap align="right"><tt>rggg</tt></td>
<td nowrap><tt>gggb</tt></td>
<td nowrap align="right"><tt>bbbb</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap align="center"><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap align="center">11-15</td>
<td nowrap align="center">r</td>
<td nowrap>red channel</td>
</tr>
<tr>
<td nowrap align="center">5-10</td>
<td nowrap align="center">g</td>
<td nowrap>green channel</td>
</tr>
<tr>
<td nowrap align="center">0-4</td>
<td nowrap align="center">b</td>
<td nowrap>blue channel</td>
</tr>
</table>
</td></tr>
</table>
<br><br><div class="idx"><a href="#idx17.13">index</a></div>
<h3>
<a name="sec17.13">
17.13</a>&nbsp;&nbsp;RGBA8</h3>
<br><div class="idx"><a href="#idx17.13.1">index</a></div>
<h4>
<a name="sec17.13.1">
17.13.1</a>&nbsp;&nbsp;RGBA8 Pixel Format</h4>
<br><table>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><tt>31</tt></td>
<td nowrap align="right"><tt>24</tt></td>
<td nowrap><tt>23</tt></td>
<td nowrap align="right"><tt>16</tt></td>
<td nowrap><tt>15</tt></td>
<td nowrap align="right"><tt>8</tt></td>
<td nowrap><tt>7</tt></td>
<td nowrap align="right"><tt>0</tt></td>
</tr>
<tr>
<td nowrap><tt>rrrr</tt></td>
<td nowrap align="right"><tt>rrrr</tt></td>
<td nowrap><tt>gggg</tt></td>
<td nowrap align="right"><tt>gggg</tt></td>
<td nowrap><tt>bbbb</tt></td>
<td nowrap align="right"><tt>bbbb</tt></td>
<td nowrap><tt>aaaa</tt></td>
<td nowrap align="right"><tt>aaaa</tt></td>
</tr>
</table>
</td></tr>
<tr><td nowrap>
<tt></tt>
<table>
<tr>
<td nowrap><b>bit(s)</b></td>
<td nowrap align="center">&nbsp;</td>
<td nowrap><b>description</b></td>
</tr>
<tr>
<td nowrap><tt>24-31</tt></td>
<td nowrap align="center"><tt>r</tt></td>
<td nowrap>red channel</td>
</tr>
<tr>
<td nowrap><tt>16-23</tt></td>
<td nowrap align="center"><tt>g</tt></td>
<td nowrap>green channel</td>
</tr>
<tr>
<td nowrap><tt>8-15</tt></td>
<td nowrap align="center"><tt>b</tt></td>
<td nowrap>blue channel</td>
</tr>
<tr>
<td nowrap><tt>0-7</tt></td>
<td nowrap align="center"><tt>a</tt></td>
<td nowrap>alpha channel</td>
</tr>
</table>
</td></tr>
</table>
<br><br><div class="idx"><a href="#idx17.14">index</a></div>
<h3>
<a name="sec17.14">
17.14</a>&nbsp;&nbsp;S3TC</h3>
<br>
WARNING: this section is screwed! any advice/corrections/help/etcblabla
welcomed! (thanx to <b>Aaron Kaluszka</b> for pointing this out)
<br><br>
S3TC is a compression method for textures, developed by S3 and licenced
by Nintendo for the Gamecube (and also by Microsoft for DirectX 6.0).
It basically gives you one more MIP level for free, with relatively
small quality loss and a simple implementation in hardware. You basically
store 2 colour values and then you have a few bits per pixel to interpolate
between them. It works in blocks of 4x4 pixel.<br><br>
There are 5 variants:<br><br>
DXT1 allows one bit of alpha<br>
DXT2/3 allows 4 bits of alpha<br>
DXT4/5 stores 2 alpha values and has 3 bits to interpolate between
them<br><br>
The difference between DXT2/3 and 4/5 is, if colour values are pre-multiplied
with alpha. The blending equation is normally (c*(1-a))+(t*a)),
so with pre-multiplied alpha the texture contains (t*a) in each
colour channel and the blending becomes (c*(1-a) + t).<br><br>
Each image is made up of tiles placed linearly from left to right
then top to bottom.<br><br>
Each tile is made up of 4 blocks<br><br>
0 1 <br>
2 3<br><br>
Each block is made up of 8 words. &nbsp;These 8 words represent 16 pixels
using S3TC compression.<br><br>
RRRRRGGG - GGGBBBBB - rrrrrggg - gggbbbbb - 00112233 - 44556677 -
8899UUVV- WWXXYYZZ<br><br>
R = Color 0 Red<br>
G = Color 0 Green<br>
B = Color 0 Blue<br>
r = Color 3 Red<br>
g = Color 3 Green<br>
b = Color 3 Blue<br>
0 - 9, U - Z = Pixel color (2-bits each)<br>
Colors 1 and 2 are interpolated from colors 0 and 3<br><br>
The tiles are 32 bytes each. Depending on the image format the width
and height of the tiles will differ. A 16bit format (ie RGB5 or RGB4A3)
will have a 4x4 pixel tile since 4 * 4 * 2 bytes = 32. An 8bit
format (ie Color Indexed) will have a 8x4 pixel tile since 8 * 4
* 1 byte = 32. <br><br>
So a 32x32 image (like a memory card icon) that is in RGB5 format
would be 8 tiles across and 8 tiles down.<br><br><div class="idx"><a href="#idx17.14.1">index</a></div>
<h4>
<a name="sec17.14.1">
17.14.1</a>&nbsp;&nbsp;CMPR</h4>
<br>
Like a usual texture, a CMPR-texture is divided on tiles, each 32-bytes
to fit a texture cache line. Every tile is sub-tiled into four parts,
in zigzag order :
<table>
<tr>
<td nowrap align="center"><tt>0</tt></td>
<td nowrap align="center"><tt>1</tt></td>
</tr>
<tr>
<td nowrap align="center"><tt>2</tt></td>
<td nowrap align="center"><tt>3</tt></td>
</tr>
</table>
<br>
The format of the sub-tiles is pretty simple, and looks like DXT1.
First two base colors in RGB565, followed by 16 sub-tile texels. Every
texel is 2-bit wide, to lookup from four colors : 00, 01, 10 and 11.
First two are given already, and last two are interpolated from first
ones, by the following rule :
<ul>
<li> COLOR0 and COLOR1 are base colors.
</li>
<li> RGB0 &lt;- unpack RGB565 COLOR0
</li>
<li> A0 = 255
</li>
<li> RGB1 &lt;- unpack RGB565 COLOR1
</li>
<li> A1 = 255
if COLOR0 &gt; COLOR1
<ul>
<li> RGB2 = (2 * RGB0 + RGB1) / 3
</li>
<li> A2 = 255
</li>
<li> RGB3 = (2 * RGB1 + RGB0) / 3
</li>
<li> A3 = 255
</li>
</ul>
else
<ul>
<li> RGB2 = (RGB0 + RGB1) / 2
</li>
<li> A2 = 255
</li>
<li> RGB3 = (2 * RGB1 + RGB0) / 3
</li>
<li> A3 = 0
</li>
</ul>
</li>
</ul>
<br><div class="idx"><a href="#idx18">index</a></div>
<h2>
<a name="sec18">
18</a>&nbsp;&nbsp;Appendix</h2>
<br><div class="idx"><a href="#idx18.1">index</a></div>
<h3>
<a name="sec18.1">
18.1</a>&nbsp;&nbsp;GCC Quick How To</h3>
<br><div class="idx"><a href="#idx18.1.1">index</a></div>
<h4>
<a name="sec18.1.1">
18.1.1</a>&nbsp;&nbsp;compile ASM to object:</h4>
<br><tt>&lt;DEVKITCUBE&gt;/bin/powerpc-eabi-elf-as -c </tt><br><tt>-I &lt;DEVKITCUBE&gt;/powerpc-eabi-elf/include -I &lt;additional includes&gt;
</tt><br><tt>testasm.s -o testasm.o</tt><br><div class="idx"><a href="#idx18.1.2">index</a></div>
<h4>
<a name="sec18.1.2">
18.1.2</a>&nbsp;&nbsp;compile C to object:</h4>
<br><tt>&lt;DEVKITCUBE&gt;/bin/powerpc-eabi-elf-gcc -c </tt><br><tt>-I &lt;DEVKITCUBE&gt;/powerpc-eabi-elf/include -I &lt;additional includes&gt;
</tt><br><tt>-nostdlib testc.c -o testc.o</tt><br><div class="idx"><a href="#idx18.1.3">index</a></div>
<h4>
<a name="sec18.1.3">
18.1.3</a>&nbsp;&nbsp;compile C++ to object:</h4>
<br><tt>&lt;DEVKITCUBE&gt;/bin/powerpc-eabi-elf-g++ -c </tt><br><tt>-I &lt;DEVKITCUBE&gt;/powerpc-eabi-elf/include -I &lt;additional includes&gt;
</tt><br><tt>-nostdlib -fno-exceptions testcpp.cpp -o testcpp.o</tt><br><div class="idx"><a href="#idx18.1.4">index</a></div>
<h4>
<a name="sec18.1.4">
18.1.4</a>&nbsp;&nbsp;link objects</h4>
<br><tt>&lt;DEVKITCUBE&gt;/bin/powerpc-eabi-elf-ld -T ppc-ngcbin.x -o test.elf
crt0.o </tt><br><tt>&lt;DEVKITCUBE&gt;/lib/gcc-lib/powerpc-eabi-elf/3.3/crtbegin.o </tt><br><tt>&lt;DEVKITCUBE&gt;/lib/gcc-lib/powerpc-eabi-elf/3.3/crtend.o </tt><br><tt>testasm.o testc.o testcpp.o -lg -lstdc++ -lm -lc -lnosys</tt>&nbsp;<br><tt></tt>&nbsp;<br>
you only need to link against crtbegin.o/crtend.o if you are using
c++, and you only need -lg,-lstdc++,-lc,-lm if you are actually using
these libraries (of course:)). however if you do so, linking against
-lnosys as well is essential.
      <div class="idx"><a href="#idx18.1.5">index</a></div>
<h4>
<a name="sec18.1.5">
18.1.5</a>&nbsp;&nbsp;remove unneeded sections (debug info etc) from object</h4>
<br><tt>&lt;DEVKITCUBE&gt;/bin/powerpc-eabi-elf-strip -s test.elf</tt><br><div class="idx"><a href="#idx18.1.6">index</a></div>
<h4>
<a name="sec18.1.6">
18.1.6</a>&nbsp;&nbsp;convert object to plain binary</h4>
<br><tt>&lt;DEVKITCUBE&gt;/bin/powerpc-eabi-elf-objcopy -O binary test.elf
test.bin</tt><br><div class="idx"><a href="#idx18.1.7">index</a></div>
<h4>
<a name="sec18.1.7">
18.1.7</a>&nbsp;&nbsp;convert absolute address into filename/line number/function</h4>
<br>
compile with "-g" flag, then use<br><br><tt>&lt;DEVKITCUBE&gt;/bin/powerpc-eabi-elf-addr2line -f -e test.elf
0x80003100</tt><br><div class="idx"><a href="#idx18.1.8">index</a></div>
<h4>
<a name="sec18.1.8">
18.1.8</a>&nbsp;&nbsp;Building a Crosscompiler</h4>
<br>
configure options:<br><tt>--target=powerpc-eabi-elf</tt><br><tt>--with-cpu=750</tt><br><tt>--disable-threads</tt><br><tt>--enable-languages=c</tt><br><tt>--disable-shared</tt><br><tt>--disable-nls</tt><br><tt>--with-newlib</tt><br><div class="idx"><a href="#idx18.1.9">index</a></div>
<h4>
<a name="sec18.1.9">
18.1.9</a>&nbsp;&nbsp;Linker Script</h4>
<br>
to do
      <div class="idx"><a href="#idx18.1.10">index</a></div>
<h4>
<a name="sec18.1.10">
18.1.10</a>&nbsp;&nbsp;Startup Code</h4>
<br>
to do
     <div class="idx"><a href="#idx18.2">index</a></div>
<h3>
<a name="sec18.2">
18.2</a>&nbsp;&nbsp;Boot Process Details</h3>
<br>
The IPL (Initial Program Loader), or Bootrom, is located inside one
Macronix chip (near Flipper, U10) and connected to the EXI bus. When
the Gamecube is powered on, bit 25 (IP) in the Machine State Register
is set, which means the system exception vector offset is <tt>0xfff00000</tt>.
Then a small (about 0x0700 bytes) program called 'BS' will be mapped
to <tt>0xfff00100</tt> (the hardware reset vector) and control will
be returned to the Gamecube like after a normal reset, which means
'BS' will be started.
      <div class="idx"><a href="#idx18.2.1">index</a></div>
<h4>
<a name="sec18.2.1">
18.2.1</a>&nbsp;&nbsp;BS - Bootstrap 1</h4>
<br><ul>
<li> copies the Bootstrap 2 code (BS2) from Bootrom to <tt>0x81300000</tt><br>
</li>
<li> disables the IPL decryption logic by clearing bit 17 of <tt>0xcc006800</tt><br>
</li>
<li> sets IP of Machine State Register so exception vectors are pointing
to lower memory
</li>
<li> jumps to BS2 code
</li>
</ul>
<div class="idx"><a href="#idx18.2.2">index</a></div>
<h4>
<a name="sec18.2.2">
18.2.2</a>&nbsp;&nbsp;BS2 - Bootstrap 2</h4>
<br>
BS2 is the Program that loads the game or shows the menus when the
gamecube has been powered on without a game inserted. It was written
in C, using official SDK libraries, probably earlier than 1.0. __start.c
seems to be same as usual, except that there is no OSInit() call (old
versions must call OSInit() in main, instead of __start). <br><br>
note: this has been reversed from a PAL gamecube and looks different
on a NTSC one.<br><h5>18.2.2.1 <a name="sec18.2.2.1">
    &nbsp;&nbsp;short description of start() routine.</a>
</h5>
<br><tt>&nbsp;</tt><br><tt>// 81300000</tt><br><tt>__start:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__init_registers() // set stack pointer and static
bases (r2, r13)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__init_hardware() // paired-singles and cache init</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__init_data() // clear bss ?</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;. // here goes Debug Monitor stuff</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;.</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;.</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;DBInit() // debug monitor init :)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__init_user() // cpp init</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;main() // that's actually, IPL (BS2) code</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;jmp exit() // halt CPU</tt><br><h5>18.2.2.2 <a name="sec18.2.2.2">
    &nbsp;&nbsp;IPL main() reversing</a>
</h5>
<br><tt>&nbsp;</tt><br><tt>// 813006D4</tt><br><tt>main()</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;BS2Init();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSInit();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;AD16Init();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;AD16WriteReg(0x800);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;DVDInit();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;AD16WriteReg(0x900);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;CARDInit();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;AD16WriteReg(0xa00);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;0x81302104(); // SRAM, real-time clock (check ?)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__VIInit(0);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;VIInit();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;AD16WriteReg(0xb00);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;0x813004e4(); // setup performance. monitor</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;0x8130222c(); // update time-base by SRAM clock</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;0x813022c0(); // perform initial DVD actions and fall
back into menu</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;PADSetSpec(5); // sed PAD type ('spec') to 'production'</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;PADInit();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;AD16WriteReg(0xc00);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;BS2Menu(); // here goes intro and main menu... (BIG
one!)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSPanic(__FILE__, __LINE__, "BS2
ERROR &gt;&nbsp;&gt;&nbsp;&gt; SHOULD NEVER REAC<br>
HERE");</tt><br><tt>}</tt><br><tt>float NaN;</tt><br><tt>// 8130045C</tt><br><tt>void BS2Init()</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;// clear LoMem and OSMem</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;memset(0x80000000, 0, 256);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;memset(0x80003000, 0, 256);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;BATInit();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;// set memory size to 24MB</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;*0x80000028 = 0x01800000;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;// set console type to default retail 1</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;*0x8000002c = 1;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;// upgrade retail</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;*0x8000002c += *0xcc00302c &gt;&nbsp;&gt;
28;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;(u32)NaN = -1;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;FPUInit();</tt><br><tt>}</tt><br><tt>// 813003A0</tt><br><tt>void BATInit()</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__asm</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isync</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;li r4, 0</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtspr DBAT2L, r4</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtspr DBAT2U, r4</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtspr DBAT3L, r4</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtspr DBAT3U, r4</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtspr IBAT1L, r4</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtspr IBAT1U, r4</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtspr IBAT2L, r4</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtspr IBAT2U, r4</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtspr IBAT3L, r4</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtspr IBAT3U, r4</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isync</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>}</tt><br><tt>// 813003D8</tt><br><tt>void FPUInit()</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;// FPU already initialized in __start(),</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;// so just invalidate all FPRs.</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__asm</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;lfs f0, NaN</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;fmr f1, f0</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;fmr f2, f0</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;fmr f3, f0</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;. e</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;. t</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;. c</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;fmr f31, f0</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>}</tt><br><tt>// maybe later</tt><br><tt>0x81302104()</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__OSLockSram();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__OSCheckSram();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__OSGetRTC();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSTickToCalendarTime();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;memset();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__OSUnlockSram();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__OSSyncSram();</tt><br><tt>}</tt><br><tt>// maybe later</tt><br><tt>0x813004e4()</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSDisableInterrupts();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSGetTick();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSGetTick();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSGetTick();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__div2i();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__div2i();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;PPCMtpmc1();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;PPCMtmmcr0();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSGetTick();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSGetTick();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;PPCMtmmcr0();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;PPCMfpmc1();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__div2i();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__div2i();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__div2i();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSRestoreInterrupts();</tt><br><tt>}</tt><br><tt>// maybe later</tt><br><tt>0x8130222c()</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__OSLockSram();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__OSGetRTC();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__OSSetTime();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;__OSUnlockSram();</tt><br><tt>}</tt><br><tt>static int BS2State = 0;</tt><br><tt>// just layer..</tt><br><tt>0x813022c0()</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;BS2State = BS2Mach();</tt><br><tt>}</tt><br><tt>// 81300A70</tt><br><tt>// located in __FILE__ = "BS2Mach.c"</tt><br><tt>int BS2Mach()</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;static int state = 0;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;BOOL level = OSDisableInterrupts();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;switch(state)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 0:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r13 - 0x7dc8] = 0x800030d4;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state = 1;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 1:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__OSGetSystemTime();</tt><br><tt>... some checks</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(fail) break;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state = 2;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Install DVD cover callback</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 2:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if([r13 - 0x7da8] == 0)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r3 = [r13 - 0x7dc8]</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r3] = 0</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r13 - 0x7dc4] =
0</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r13 - 0x7dac] =
1</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DVDLowSetResetCoverCallback(0);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DVDReset();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r13 - 0x7da8] =
1</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(s64)[r13 - 0x7d9c]
= __OSGetSystemTime();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;__OSGetSystemTime();</tt><br><br><br><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(fail) break;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DVDLowSetResetCoverCallback(0x813007d8);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DVDReset();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state = 3;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Read Disk information (ID)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 3:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DVDReadDiskID(0x8145e620 + 64, 0x80000000,
0x813007e4);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state = 4;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;</tt><br><tt>.</tt><br><tt>.</tt><br><tt>.</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Leave immediately ?</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 16:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OSPanic(__FILE__, __LINE__,
"BS2 ERROR &gt;&nbsp;&gt; UNKNOWN STATE");</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSRestoreInterrupts(level);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;return (DVDLowGetCoverStatus() == 1) ? 19 : step;</tt><br><tt>}</tt><br><tt>// 81301154</tt><br><tt>void BS2Menu()</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;BS2InitAlloc();</tt><br><tt>}</tt><br><tt>static OSHeapHandler BS2Heap;</tt><br><tt>// 81307EA8</tt><br><tt>void BS2InitAlloc()</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u8 *arenaLo;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u8 *arenaHi;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u8 *arenaNew;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;arenaLo = OSGetArenaLo();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;arenaLo = (void *)OSRoundUp32B(arenaLo);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;arenaHi = OSGetArenaHi();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;arenaHi = (void *)OSRoundDown32B(arenaHi);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;arenaNew = OSInitAlloc(0x80800000, arenaHi, 2);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSSetArenaLo(arenaHi);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;BS2Heap = OSCreateHeap(arenaLo, arenaHi);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSSetCurrentHeap(BS2Heap);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSAddToHeap(BS2Heap, arenaNew, 0x81100000);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;BS2CheckAlloc();</tt><br><tt>}</tt><br><tt>// 81307F34</tt><br><tt>void BS2CheckAlloc()</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSCheckHeap(BS2Heap);</tt><br><tt>}</tt><br><tt>// 81307F58</tt><br><tt>void *OSAlloc(long size)</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;void *ptr;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;if((ptr = OSAlloc(size)) == 0)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OSPanic(?);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;return ptr;</tt><br><tt>}</tt>&nbsp;<br><h5>18.2.2.3 <a name="sec18.2.2.3">
    &nbsp;&nbsp;Map of IPL Library code</a>
</h5>
<br>
&nbsp;<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Address</b></td>
<td nowrap><b>Name</b></td>
<td nowrap><b>Libray</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813014C8</tt></td>
<td nowrap>DEMOInit (*)</td>
<td nowrap>DEMO</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81307F58</tt></td>
<td nowrap>OSAlloc (*)</td>
<td nowrap>OS</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813327BC</tt></td>
<td nowrap>PPCMtmmcr0</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813327C4</tt></td>
<td nowrap>PPCMfpmc1</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813327CC</tt></td>
<td nowrap>PPCMtpmc1</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81332814</tt></td>
<td nowrap>OSInit</td>
<td nowrap>OS</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81332EF0</tt></td>
<td nowrap>OSInitAlarm</td>
<td nowrap>OS</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81332F3C</tt></td>
<td nowrap>OSCreateAlarm</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81333688</tt></td>
<td nowrap>OSAllocFromHeap</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81333784</tt></td>
<td nowrap>OSSetCurrentHeap</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81333794</tt></td>
<td nowrap>OSInitAlloc</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81333804</tt></td>
<td nowrap>OSCreateHeap</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81333870</tt></td>
<td nowrap>OSAddToHeap</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813338D0</tt></td>
<td nowrap>OSCheckHeap</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813344C0</tt></td>
<td nowrap>OSGetStackPointer</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133491C</tt></td>
<td nowrap>OSReport</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133499C</tt></td>
<td nowrap>OSPanic</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81334AA4</tt></td>
<td nowrap>PPCHalt</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81334D4C</tt></td>
<td nowrap>EXIImm</td>
<td nowrap>EXI</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81335134</tt></td>
<td nowrap>EXISync</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813353C8</tt></td>
<td nowrap>EXIProbeReset</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133570C</tt></td>
<td nowrap>EXISelect</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81335838</tt></td>
<td nowrap>EXIDeselect</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81335D6C</tt></td>
<td nowrap>EXILock</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81335E60</tt></td>
<td nowrap>EXIUnlock</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81335F54</tt></td>
<td nowrap>AD16Init</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81336090</tt></td>
<td nowrap>AD16WriteReg</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813361B0</tt></td>
<td nowrap>OSDisableInterrupts</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813361C4</tt></td>
<td nowrap>OSEnableInterrupts</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813361D8</tt></td>
<td nowrap>OSRestoreInterrupts</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81336DD8</tt></td>
<td nowrap>__OSGetRTC</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813372B0</tt></td>
<td nowrap>__OSLockSram</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81337658</tt></td>
<td nowrap>__OSUnlockSram</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813376A0</tt></td>
<td nowrap>__OSSyncSram</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813376B0</tt></td>
<td nowrap>__OSCheckSram</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81338504</tt></td>
<td nowrap>OSInitThreadQueue</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133939C</tt></td>
<td nowrap>OSGetTick</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813393B8</tt></td>
<td nowrap>__OSSetTime</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133943C</tt></td>
<td nowrap>__OSGetSystemTime</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133963C</tt></td>
<td nowrap>OSTicksToCalendarTime</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133AC50</tt></td>
<td nowrap>DVDLowGetCoverStatus</td>
<td nowrap>DVD</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133AB18</tt></td>
<td nowrap>DVDLowReset</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133ABD4</tt></td>
<td nowrap>DVDLowSetResetCoverCallback</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133B5F0</tt></td>
<td nowrap>DVDInit</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133CD18</tt></td>
<td nowrap>DVDReadDiskID</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133D0EC</tt></td>
<td nowrap>DVDReset</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133DBE0</tt></td>
<td nowrap>__VIInit</td>
<td nowrap>VI</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133DDC8</tt></td>
<td nowrap>VIInit</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133E6C0</tt></td>
<td nowrap>VIConfigure</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8133F0B4</tt></td>
<td nowrap>VIGetTvFormat</td>
<td nowrap>&nbsp;</td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Address</b></td>
<td nowrap><b>Name</b></td>
<td nowrap><b>Libray</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8134052c</tt></td>
<td nowrap>PADInit</td>
<td nowrap>PAD</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8134092c</tt></td>
<td nowrap>PADSetSpec</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81343114</tt></td>
<td nowrap>CARDInit</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813480D4</tt></td>
<td nowrap>GXInit</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81349148</tt></td>
<td nowrap>GXInitFifoBase</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81349230</tt></td>
<td nowrap>GXSetCPUFifo</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x81349340</tt></td>
<td nowrap>GXSetGPFifo</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x813494B8</tt></td>
<td nowrap>__GXFifoInit</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8134B0AC</tt></td>
<td nowrap>__GXPEInit</td>
<td nowrap>&nbsp;</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8135A178</tt></td>
<td nowrap>__div2i </td>
<td nowrap>gcc</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8135A394</tt></td>
<td nowrap>__mod2i</td>
<td nowrap>gcc</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x8135B494</tt></td>
<td nowrap>vprintf</td>
<td nowrap>stdlib</td>
</tr>
</table>
</td></tr></table>
<br>
(*) these functions were slightly modified for the IPL.
      <div class="idx"><a href="#idx18.2.3">index</a></div>
<h4>
<a name="sec18.2.3">
18.2.3</a>&nbsp;&nbsp;Apploader</h4>
<br>
The Apploader provides functions to the bootrom that load the game
(using bootrom read DVD functions). The bootrom calls the Init function,
then the Main function in a loop, then the Closing function. At first,
the BIOS calls the Apploader entrypoint with r3, r4, and r5 pointing
to a free space for a 32 bit value.<br><br><tt>// info based on Luigi Mansion appldr.bin file</tt><br><tt>// (built date is 17 Dec 2001).</tt><br><tt>// Apploader Entrypoint</tt><br><tt>// Input values :</tt><br><tt>// r3 = Address where to put the address of the Init function</tt><br><tt>// r4 = Address where to put the address of the Main Loading
function</tt><br><tt>// r5 = Address where to put the address of the Closing function</tt><br><tt>// Return values :</tt><br><tt>// none</tt><br><tt>//</tt><br><tt>// file:[0010-0013] = 0x81200288 (apploader entrypoint)</tt><br><tt>void Entrypoint(r3, r4, r5)</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;[r3] = 0x81200290 // Init</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;[r4] = 0x81200580 // Main</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;[r5] = 0x81200D50 // Close</tt><br><tt>}</tt><br><tt>// Init function</tt><br><tt>// Input values :</tt><br><tt>// ?</tt><br><tt>// Return values :</tt><br><tt>// none</tt><br><tt>void Init(void (*OSReport)(char *fmt, ...))</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;// clear some important memory areas</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;memset(OSAppLdr + 32, 0, 32);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;memset(&amp;OSAppLdr.DolImage, 0, sizeof(DolImage));</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;[+0x140] = 0</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSAppLdr.pass = 0</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;[+0x148] = 0</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSAppLdr.OSReport = OSReport // save report callback</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSAppLdr.OSReport("Apploader Initialized. $
Revision: 28 $n");</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;OSAppLdr.OSReport("This Apploader built %s
%sn", __DATE__, __TIME__);</tt><br><tt>}</tt><br><tt>// Main Loader function</tt><br><tt>//</tt><br><tt>// Input values :</tt><br><tt>// r3 = Address where to put the Memory destination of the
disk read</tt><br><tt>// r4 = Address where to put the Size of the disk read</tt><br><tt>// r5 = Address where to put the Starting position of the
disk read</tt><br><tt>//</tt><br><tt>// Return value:</tt><br><tt>// r3 = 0 if everything is already loaded</tt><br><tt>// = 1 (or !=0) if main function should be called again</tt><br><tt>//</tt><br><tt>// at 0x81200580</tt><br><tt>// helper functions (below)</tt><br><tt>u32 DOLSize(void);</tt><br><tt>// 0x812013E0 seems to be a big structure, like that :</tt><br><tt>struct OSAppLdr</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;// untouched</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u32 SecondTimeForThePart;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u8 [28]</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u8 [32] // "BB2" structure ?</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;DolImage DolImage; // main DOL executable header</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;// flags or something</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u32 +0x140</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u32 pass; // 0...12</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u32 +0x148</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;// report routine itself is placed somewhere in bootrom</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;void (*OSReport)(char *fmt, ...);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;// flags or something</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u32 +0x150</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u32 +0x154</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u32 +0x158</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u32 +0x15C</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u8 [32]</tt><br><tt>} OSAppLdr; // 0x174 total</tt><br><tt>int Main(r3, r4, r5)</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;int pass = OSAppLdr.pass;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;if(pass &lt;= 12)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(pass)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// read "BB2" structure
(DVD offset at 0x0420)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 0:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 1:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// "BB2"
structure ?</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 0420-0424 offset of main
executable DOL</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 0424-0427 offset of the
FST</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 0428-042B size of FST</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// 042C-042F maximum size
of FST</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r3] = OSAppLdr + 32</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r4] = 32</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r5] = 0x420</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OSAppLdr.pass = 2</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DCInvalidateRange([r3],
[r4])</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// check "BB2" structure
FST sizes</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 2:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FSTLength = [OSAppLdr +
32 + 8]</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FSTMaxLength = [OSAppLdr
+ 32 + 12]</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(FSTLength &gt; FSTMaxLength)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OSAppLdr.OSReport(</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"APPLOADER
ERROR &gt;&nbsp;&gt;&nbsp;&gt; FSTLength(%d) i<br>
BB2 is greater </tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;than FSTMaxLength(%d)n",
FSTLength, FSTMaxLength);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PPCHalt();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r3] = OSAppLdr + 0x160</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r4] = 32</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r5] = 0x440</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OSAppLdr.pass = 3</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DCInvalidateRange([r3],
[r4])</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 3:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[0x800000E8] = [OSAppLdr
+ 0x160] // word</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 4:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// load main DOL header (256 bytes)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 5:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r3] = &amp;OSAppLdr.DolImage</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r4] = 256</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r5] = [OSAppLdr + 32]
// from BB2</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OSAppLdr.pass = 6</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DCInvalidateRange([r3],
[r4])</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 6:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;totalSize = DOLSize();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxSize = [[800000F4]
+ 0x28]; // PadSpec ?</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if((totalSize &gt; maxSize) &amp;&amp;
maxSize)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OSAppLdr.OSReport(</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"APPLOADER
ERROR &gt;&nbsp;&gt;&nbsp;&gt; Total size of text/dat<br>
sections </tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of the dol file are
too big (%d(0x%08x) bytes). Currently </tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the limit is set as
%d(0x%08x) bytesn", totalSize, maxSize);</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PPCHalt();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>.</tt><br><tt>.</tt><br><tt>.</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 7:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 8:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 9:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 10:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 11:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case 12:</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(SecondTimeForThePart ==
TRUE)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OSAppLdr.OSReport(</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Failed assertion
SecondTimeForThePart == TRUE");</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PPCHalt();</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>.</tt><br><tt>.</tt><br><tt>.</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 1;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;else</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>}</tt><br><tt>// helper functions</tt><br><tt>// at 0x81200338</tt><br><tt>u32 DOLSize(void)</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;DolImage *dol = &amp;OSAppLdr.DolImage;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;u32 totalBytes = 0;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;int i;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;for(i=0; i&lt;DOL_MAX_TEXT; i++)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(dol-&gt;textData[i])</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// aligned to 32 byte boundary</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;totalBytes += (dol-&gt;textLen[i] + 31) &amp;
~31;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;for(i=0; i&lt;DOL_MAX_DATA; i++)</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(dol-&gt;dataData[i])</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// aligned to 32 byte boundary</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;totalBytes += (dol-&gt;dataLen[i] +
31) &amp; ~31;</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;}</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;return totalBytes;</tt><br><tt>}</tt><br><tt>// Closing function</tt><br><tt>//</tt><br><tt>// Return value: r3 = entry point</tt><br><tt>//</tt><br><tt>// at 0x81200D50</tt><br><tt>u32 Close(void)</tt><br><tt>{</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;// provide entrypoint of main DOL executable to IPL</tt><br><tt>&nbsp;&nbsp;&nbsp;&nbsp;return OSAppLdr.DolImage.entry;</tt><br><tt>}</tt><br><div class="idx"><a href="#idx18.2.4">index</a></div>
<h4>
<a name="sec18.2.4">
18.2.4</a>&nbsp;&nbsp;Main DOL executable</h4>
<br><div class="idx"><a href="#idx18.3">index</a></div>
<h3>
<a name="sec18.3">
18.3</a>&nbsp;&nbsp;Game and Maker Codes</h3>
<br><div class="idx"><a href="#idx18.3.1">index</a></div>
<h4>
<a name="sec18.3.1">
18.3.1</a>&nbsp;&nbsp;Gamecodes</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>offset</b></td>
<td nowrap align="center"><b>size</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">1</td>
<td nowrap align="center">1</td>
<td nowrap>System ID</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><b>value</b></td>
<td nowrap align="center"><b>id</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x47</tt></td>
<td nowrap align="center"><tt>G</tt></td>
<td nowrap>Gamecube (standard value)</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x44</tt></td>
<td nowrap align="center"><tt>D</tt></td>
<td nowrap>
<table>
<tr><td nowrap>used by Legend Of Zelda: Ocarina Of Time (Master Quest)</td></tr>
<tr><td nowrap>Might be a indicator  for  emulated/ported/promotional titles.</td></tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x55</tt></td>
<td nowrap align="center"><tt>U</tt></td>
<td nowrap>used by GBA-Player Boot CD</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">2-3</td>
<td nowrap align="center">2</td>
<td nowrap>Game ID/serial Number</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap align="center">1</td>
<td nowrap>Country/Region Code</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center"><b>value</b></td>
<td nowrap align="center"><b>id</b></td>
<td nowrap><b>Country</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>0x45</tt></td>
<td nowrap align="center"><tt>E</tt></td>
<td nowrap>USA/NTSC</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x50</tt></td>
<td nowrap align="center"><tt>P</tt></td>
<td nowrap>Europe/PAL</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x4a</tt></td>
<td nowrap align="center"><tt>J</tt></td>
<td nowrap>Japan/NTSC</td>
</tr>
<tr>
<td nowrap align="center"><tt>0x55</tt></td>
<td nowrap align="center"><tt>U</tt></td>
<td nowrap>used by the European version of The Legend Of Zelda: Ocarina Of Time
(Master Quest)</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx18.3.2">index</a></div>
<h4>
<a name="sec18.3.2">
18.3.2</a>&nbsp;&nbsp;Game Serial ID</h4>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>Characters</b></td>
<td nowrap><b>Description</b></td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>System ID 'DOL'</td>
</tr>
<tr>
<td nowrap align="center">4</td>
<td nowrap>Gamecode</td>
</tr>
<tr>
<td nowrap align="center">3</td>
<td nowrap>Country ID</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap><b>ID</b></td>
<td nowrap><b>Country</b></td>
</tr>
<tr>
<td nowrap><tt>USA</tt></td>
<td nowrap>guess what :)</td>
</tr>
<tr>
<td nowrap><tt>NOE</tt></td>
<td nowrap>Nintendo of Europe</td>
</tr>
<tr>
<td nowrap><tt>NOA</tt></td>
<td nowrap>Nintendo of America</td>
</tr>
<tr>
<td nowrap><tt>JPN</tt></td>
<td nowrap>Japan</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr></table>
<br><br>
for example
<ul>
<li> <tt>DOL-GZLE-USA</tt> (Zelda)
</li>
<li> <tt>DOL-GNHE-USA</tt> (NHL Hitz 20-20)
</li>
<li> <tt>DOL-GTEP-NOE</tt> (1080&deg; Avalanche)
</li>
<li> <tt>DL-DOL-GFZJ-JPN</tt> (F-Zero GX)
</li>
</ul>
<div class="idx"><a href="#idx18.3.3">index</a></div>
<h4>
<a name="sec18.3.3">
18.3.3</a>&nbsp;&nbsp;Makercodes</h4>
<br>
The ID (2 Bytes ASCII) belongs to the publisher, not the developer.
Hence, even though Rare developed Star Fox Adventures, and Retro Studios
developed Metroid Prime, they both have the Vendor ID of Nintendo
(01).<br>
It is unknown how vendor IDs are allocated; However, all IDs thus
far seem to be alphanumeric. If this is accurate, then as a result
the maximum number of unique vendors is 1,296. Vendor IDs seem to
be region-independent.<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>ID</b></td>
<td nowrap><b>Vendor</b></td>
</tr>
<tr>
<td nowrap align="center"><tt>01</tt></td>
<td nowrap>Nintendo</td>
</tr>
<tr>
<td nowrap align="center"><tt>08</tt></td>
<td nowrap>Capcom</td>
</tr>
<tr>
<td nowrap align="center"><tt>41</tt></td>
<td nowrap>Ubisoft</td>
</tr>
<tr>
<td nowrap align="center"><tt>4F</tt></td>
<td nowrap>Eidos</td>
</tr>
<tr>
<td nowrap align="center"><tt>51</tt></td>
<td nowrap>Acclaim</td>
</tr>
<tr>
<td nowrap align="center"><tt>52</tt></td>
<td nowrap>Activision</td>
</tr>
<tr>
<td nowrap align="center"><tt>5D</tt></td>
<td nowrap>Midway</td>
</tr>
<tr>
<td nowrap align="center"><tt>5G</tt></td>
<td nowrap>Hudson</td>
</tr>
<tr>
<td nowrap align="center"><tt>64</tt></td>
<td nowrap>Lucas Arts</td>
</tr>
<tr>
<td nowrap align="center"><tt>69</tt></td>
<td nowrap>Electronic Arts</td>
</tr>
<tr>
<td nowrap align="center"><tt>6S</tt></td>
<td nowrap>TDK Mediactive</td>
</tr>
<tr>
<td nowrap align="center"><tt>8P</tt></td>
<td nowrap>Sega</td>
</tr>
<tr>
<td nowrap align="center"><tt>A4</tt></td>
<td nowrap>Mirage Studios</td>
</tr>
<tr>
<td nowrap align="center"><tt>AF</tt></td>
<td nowrap>Namco</td>
</tr>
<tr>
<td nowrap align="center"><tt>B2</tt></td>
<td nowrap>Bandai</td>
</tr>
<tr>
<td nowrap align="center"><tt>DA</tt></td>
<td nowrap>Tomy</td>
</tr>
<tr>
<td nowrap align="center"><tt>EM</tt></td>
<td nowrap>Konami</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx18.4">index</a></div>
<h3>
<a name="sec18.4">
18.4</a>&nbsp;&nbsp;Macronix Chip IDs</h3>
<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>MX ff t mm b p r s</tt></td>
</tr>
<tr>
<td nowrap align="center">MX</td>
<td nowrap>MX', vendor id</td>
</tr>
<tr>
<td nowrap align="center">ff</td>
<td nowrap>2 digits, device family</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap>17</td>
<td nowrap>auto focus controller</td>
</tr>
<tr>
<td nowrap>23</td>
<td nowrap>mask rom</td>
</tr>
<tr>
<td nowrap>25</td>
<td nowrap>spi serial flash memory</td>
</tr>
<tr>
<td nowrap>26</td>
<td nowrap>mtp eeprom</td>
</tr>
<tr>
<td nowrap>27</td>
<td nowrap>eeprom</td>
</tr>
<tr>
<td nowrap>28</td>
<td nowrap>flash memory</td>
</tr>
<tr>
<td nowrap>29</td>
<td nowrap>flash memory (single voltage)</td>
</tr>
<tr>
<td nowrap>53</td>
<td nowrap>memory card (smc)</td>
</tr>
<tr>
<td nowrap>67</td>
<td nowrap>flash memory</td>
</tr>
<tr>
<td nowrap>69</td>
<td nowrap>flash memory + sram (stacked chip)</td>
</tr>
<tr>
<td nowrap>88</td>
<td nowrap>digital camera/flat panel display controller</td>
</tr>
<tr>
<td nowrap>89</td>
<td nowrap>flat panel display controller</td>
</tr>
<tr>
<td nowrap>92</td>
<td nowrap>sound generator</td>
</tr>
<tr>
<td nowrap>93</td>
<td nowrap>single chip answering machine/digital recorder controller</td>
</tr>
<tr>
<td nowrap>97</td>
<td nowrap>isdn controller</td>
</tr>
<tr>
<td nowrap>98</td>
<td nowrap>network</td>
</tr>
<tr>
<td nowrap>99</td>
<td nowrap>bluetooth</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">t</td>
<td nowrap>1 character, device type</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">c</td>
<td nowrap>cmos</td>
</tr>
<tr>
<td nowrap align="center">f</td>
<td nowrap>flash</td>
</tr>
<tr>
<td nowrap align="center">l</td>
<td nowrap>low-voltage</td>
</tr>
<tr>
<td nowrap align="center">w</td>
<td nowrap>srw</td>
</tr>
<tr>
<td nowrap align="center">v</td>
<td nowrap>2.2v</td>
</tr>
<tr>
<td nowrap align="center">u</td>
<td nowrap>1.8v</td>
</tr>
<tr>
<td nowrap align="center">x</td>
<td nowrap>1.5v</td>
</tr>
<tr>
<td nowrap align="center">vw</td>
<td nowrap>2.25v+srw</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">mm</td>
<td nowrap>2 to 4 digits, mode/density</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">004</td>
<td nowrap align="center">4M, x8 Boot Block</td>
</tr>
<tr>
<td nowrap align="center">040</td>
<td nowrap align="center">4M, x8 Equal Sector</td>
</tr>
<tr>
<td nowrap align="center">400</td>
<td nowrap align="center">4M, x8/x16 Boot Block</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="center">&nbsp;</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">b</td>
<td nowrap>1 character, bootblock type (rom only)</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">t</td>
<td nowrap>top</td>
</tr>
<tr>
<td nowrap align="center">b</td>
<td nowrap>bottom</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr></table>
<br><br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap><tt>MX ff t mm b p r s</tt></td>
</tr>
<tr>
<td nowrap align="center">p</td>
<td nowrap>1 character, package type</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">p</td>
<td nowrap align="center">plastic dip</td>
</tr>
<tr>
<td nowrap align="center">m</td>
<td nowrap align="center">plastic sop</td>
</tr>
<tr>
<td nowrap align="center">q</td>
<td nowrap align="center">plastic plcc</td>
</tr>
<tr>
<td nowrap align="center">t</td>
<td nowrap align="center">tsop normal</td>
</tr>
<tr>
<td nowrap align="center">d</td>
<td nowrap align="center">qeramic dip</td>
</tr>
<tr>
<td nowrap align="center">x8</td>
<td nowrap align="center">0.8mm ball pitch, bga, csp</td>
</tr>
<tr>
<td nowrap align="center">x</td>
<td nowrap align="center">csp</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">r</td>
<td nowrap>1 character, temperature range</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">c</td>
<td nowrap align="center">commercial</td>
</tr>
<tr>
<td nowrap align="center">i</td>
<td nowrap align="center">industrial</td>
</tr>
<tr>
<td nowrap align="center">m</td>
<td nowrap align="center">military</td>
</tr>
</table>
</td>
</tr>
<tr>
<td nowrap align="center">s</td>
<td nowrap>1 character, speed</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap>
<table>
<tr>
<td nowrap align="center">45</td>
<td nowrap align="center">45ns</td>
</tr>
<tr>
<td nowrap align="center">55</td>
<td nowrap align="center">55ns</td>
</tr>
<tr>
<td nowrap align="center">70</td>
<td nowrap align="center">70ns</td>
</tr>
<tr>
<td nowrap align="center">85</td>
<td nowrap align="center">85ns</td>
</tr>
<tr>
<td nowrap align="center">90</td>
<td nowrap align="center">90ns</td>
</tr>
<tr>
<td nowrap align="center">10</td>
<td nowrap align="center">100ns</td>
</tr>
<tr>
<td nowrap align="center">12</td>
<td nowrap align="center">120ns</td>
</tr>
<tr>
<td nowrap align="center">15</td>
<td nowrap align="center">150ns</td>
</tr>
<tr>
<td nowrap align="center">20</td>
<td nowrap align="center">200ns</td>
</tr>
<tr>
<td nowrap align="center">25</td>
<td nowrap align="center">250ns</td>
</tr>
</table>
</td>
</tr>
</table>
</td></tr></table>
<br><div class="idx"><a href="#idx18.5">index</a></div>
<h3>
<a name="sec18.5">
18.5</a>&nbsp;&nbsp;chip simelarities</h3>
<br><ul>
<li> mx25L4001 (serial flash rom in nintendo memory card 59)
<ul>
<li> datasheet was never available at Macronix&nbsp; but take a look at their
3-volt SPI Flash ROMs (the MX25LXX02 series) for a general pinout
without&nbsp;the Unknown pin 24.
</li>
</ul>
</li>
<li> mx25L4004 (serial flash rom in datel memory card)
<ul>
<li> mx25L4004 - 4Mbit, 4Mx1 serial flash rom (datasheet was, but is no
longer available at Macronix :/)
</li>
</ul>
</li>
<li> mx98730ec (eth controller in bba)
<ul>
<li> mx98728ec - single chip 10/100 base generic MAC interface
</li>
<li> (mx98726, mx98728)
</li>
</ul>
</li>
<li> Gekko
<ul>
<li> ibm PowerPc750CXe
</li>
<li> (PowerPc740, PowerPc750, PowerPc750CX)
</li>
</ul>
</li>
<li> (inside flipper)
<ul>
<li> (big ???) mx92L832 - 32 poly phony sound generator
</li>
<li> (big ???) mx96037 - 16bit DSP Controller
</li>
<li> (mx93011a,...)
</li>
</ul>
</li>
<li> mx 8013108-M rtnc-dol 1r6022a1 (rtc/ipl)
</li>
<li> MoSys (MS3M23B-5 A) 12MB 1-T SRAM (main memory)
</li>
<li> NEC (D4891281G5 0125XU621) 16MB ARAM (auxiliary/dsp memory)
</li>
</ul>
<div class="idx"><a href="#idx18.6">index</a></div>
<h3>
<a name="sec18.6">
18.6</a>&nbsp;&nbsp;Easter Eggs</h3>
<br><ul>
<li> To hear a different sound when the console boots hold the Z button
down once you turn the console on and as the square bounces down you
will hear the noises of kids.
</li>
<li> Hold Z then about one second later hold A to hear another sound.
</li>
<li> If you have 4 controllers (and 5 hands) this one will work: Before
you turn the Gamecube on hold down Z on each controller, then turn
the system on (with your 5th hand of course). You will be greeted
by a ninja yell.
</li>
<li> holding B on first controller, then powering on will let you switch
a pal gamecube into 60Hz mode
</li>
</ul>
<div class="idx"><a href="#idx18.7">index</a></div>
<h3>
<a name="sec18.7">
18.7</a>&nbsp;&nbsp;Terms and Acronyms</h3>
<br><ul>
<li> AA
Antialiasing. Rendering method, that makes polygon edges seem less
sharpen, combining colors of nearby pixels.
</li>
<li> AD16
Mysterious EXI device.
</li>
<li> AI
Audio Interface. Hardware responsible for DMA playback of PCM buffer
and DVD ADPCM streaming sound. AI hardware cannot mix sound channels
or set channel volume for PCM DMA playback. These operations and more
advanced sound effects are produced by DSP.
</li>
<li> Apploader
Small program on DVD to load main DOL executable.
</li>
<li> AR, ARAM
Auxiliary (Audio) Memory. 16 MB of slow (comapred to RAM) DRAM. Used
for raw DSP sound data and as temporary space for textures. ARAM has
DMA communication channel with main memory (RAM). Development boards
has "ARAM Expansion" (additional 4, 16 or 32 MBs).
</li>
<li> BAT
Block Address Translation, PPC MMU translation mechanism. There are
DBAT and IBAT special-purpose registers for data and instruction address
translation respectively.
</li>
<li> BBA
Broad-Band Adapter, GC's 10BaseT Ethernet Adapter.
</li>
<li> BS
Bootstrap Stage (from analogy with UNIX). Very first code, executed
after GC hard reset.
</li>
<li> BS2
Bootstrap Stage 2. Same as IPL.
</li>
<li> CR
PPC Condition Register, stores result of integer comare operation,
for conditional branch decision.
</li>
<li> CRT
C Run Time. C/C++ program environment (libraries and startup calls).
</li>
<li> DOL
Gamecube application (custom executable file format).
</li>
<li> Dolphin
Early development work name of Gamecube.
</li>
<li> Dolphin OS
Gamecube OS. Single user, single process, multithreaded. Linked together
with any GC application ("hard-linked"), as library.
</li>
<li> DSP
Digital Signal Processor. Used to produce advanced sound on GC. DSP
is integrated with GP in Flipper chip and has its own ROM. Developed
by Macronix.
</li>
<li> DI, DVD
DVD hardware interface. GC DVD is actually microcontroller, based
on MN-102 CPU with proprietary firmware ROM. DVD is protected by non-standard
barcodes and data encryption, which is decrypted on-the-fly by DVD
controller. GC DVD cannot be read on usual PC hardware. Whole GC DVD
stuff is developed by Matsushita.
</li>
<li> EFB
Embedded Framebuffer. 2MB of fast 1T-SRAM memory located inside Flipper.
Used by GP's pixel engine to draw pixels. Later copied into XFB, for
final TV-output.
</li>
<li> EXI
Expansion Interface. Gamecube peripherial devices bus, sort of USB
architecture. Developed by Macronix. Devices drived by EXI: memory
cards, broad-band adapter, real-time clock, bootrom, SRAM.
</li>
<li> FIFO
First-In-First-Out buffer to send GP commands and create GP command
lists.
</li>
<li> Flipper
Gamecube Northbridge+Peripheral Hardware+Graphics Processor+Audio
DSP.
</li>
<li> FPR
Floating Point Register. Gekko has 32 64-bit FPRs, named f0-f31.
</li>
<li> FPSCR
Floating Point Status and Control Register.
</li>
<li> JTAG
Hardware debug interface to CPU. You can connect some wires to CPU
pins, to overwhelm it. Gekko has full support of IEEE 1149-1a-1993
JTAG standard.
</li>
<li> GC, GCN, NGC
Nintendo Gamecube.
</li>
<li> GCM
Gamecube Master Data (official term). GC DVD Image files.
</li>
<li> Gekko
Gamecube CPU, PowerPC 750-derivative processor with FPU extensions,
called "Paired Single".
</li>
<li> GP, GX
Graphics Processor, the major part of Flipper chip. GP is fixed point
state-machine. Developed by ArtX team.
</li>
<li> GPR
General Purpose Register. Gekko has 32 32-bit GPRs, named r0-r31.
r1 often used as stack pointer (sp).
</li>
<li> GX
Software library, developed by Nintendo and ArtX, to drive GP hardware.
Has many crossways with OpenGL (but more advanced).
</li>
<li> HW2
Common name of GC hardware. Number state for revision ("2"
is production board).
</li>
<li> IPL
Initial Program Loader. Graphics shell, used to load game from DVD.
</li>
<li> MC
Memory Card, EXI device.
</li>
<li> MI
Flipper memory interface, plays role of "Nothbridge".
</li>
<li> MMU
PPC Memory Management Unit. Translates virtual address to physical.
MMU has two translation mechanisms: block address translation and
page table translation. Address translation for data access and instruction
fetch is processed separately in DMMU and IMMU.
</li>
<li> MSR
Machine State Register. CPU status and control register.
</li>
<li> MX
Macronix Ltd. chips index. GC has many hardware parts, developed by
Macronix, like DSP, EXI and bootrom chip.
</li>
<li> PC
Program Counter. PowerPC architecture does not define such term, but
everyone is using it anyway, instead "CIA" (Current
Instruction Address).
</li>
<li> PCM
Pulse Code Modulation, method commonly used in digital sound hardware.
PCM sound parameters are: playback rate, bits per sample, sample format.
GC AI can playback 32000/48000 Hz, 16-bit big-endian stereo samples
via DMA.
</li>
<li> PI
Peripheral Interface. Set of hardware registers to control interrupts
and hardware reset. There also "PI FIFO": hardware-driven
FIFO buffer in RAM.
</li>
<li> PM
PowerPC Performance Monitor. Set of PPC special purpose registers
used for speed profiling of applications.
</li>
<li> PPC
IBM PowerPC Architecture.
</li>
<li> PTE
Page Table Entry. Page table record, used to translate virtual address
to physical.
</li>
<li> RAM
Main memory. GC has 24 MB of fast 1T-SRAM. Development boards has
RAM extended up to 48 MB. Developed by MoSys.
</li>
<li> ROM
Read-only memory. GC has following ROMs: 2 MB encrypted bootrom, 128
KB DVD firmware, 4 KB DSP DROM, 8 KB DSP IROM.
</li>
<li> RSW
"Reset Switch", same as reset button. Seems early
development GC models were equipped by switch, insted programmable
reset button.
</li>
<li> RTC
Real-time clock. EXI device, counting seconds since 00:00 AM 2000.
</li>
<li> SDK
Software Development Kit. Full set of compilers, libraries and documentation
for development on specified platform. Gamecube SDK contain development
tools, like sound and texture convertors, and set of libraries for
OS and hardware. Compiler is provided by Metrowerk's CodeWarrior.
There also huge development board and paper documentation.
</li>
<li> SI
Serial Interface. Hardware responsible for communication with serial
devices, such as GC controller and keyboard via serial I/O buffer.
</li>
<li> SPR
Special-purpose register. Set of registers, dedicated to operating
system. Gekko has about 60 SPRs.
</li>
<li> SR
Segment Registers, used by MMU for virtual address translation.
</li>
<li> SRAM
Small amount of battery backuped memory for OS misc settings.
</li>
<li> TLB
PPC MMU Translation Lookaside Buffer, used to keep recently used page
address translations. Gekko has 128 two-way set associative TLB for
each MMU (DMMU and IMMU).
</li>
<li> VI
Video Interface. Hardware responsible for TV-out of framebuffer (XFB),
and generating VBlank interrupt (actually can be configured to interrupt
CPU at any beam location). Has support for light-gun, antialiasing
of XFB by tap-filters and progressive video mode (480p).
</li>
<li> WBUF
Gekko Write Gather Buffer. Small cache for burst memory transactions.
Used together with graphics FIFO to send GP commands.
</li>
<li> XFB
External Framebuffer, located in main memory. Used for final TV-out
by VI.
</li>
</ul>
<br><div class="idx"><a href="#idx19">index</a></div>
<h2>
<a name="sec19">
19</a>&nbsp;&nbsp;References</h2>
<br><ul>
<li> U.S. Pat. 5,680,534 (Video game/video graphics program fabricating
system and method with superimpose control)
</li>
<li> U.S. Pat. 6,411,301; 6,452,600; 6,466,218; 6,697,074 (Graphics system
interface) - GX Info
</li>
<li> U.S. Pat. 6,421,058 (Graphics command stream for calling a display
object in a graphics system) - a lot of GX Info
</li>
<li> U.S. Pat. 6,424,348; 6,456,290; 6,489,963 (Application program interface
for a graphics system) - GX Info
</li>
<li> U.S. Pat. 6,457,128 (Optical disk. An optical disk barcode forming
method, an optical disk reproduction apparatus, a marking forming
apparatus, a method of forming a laser marking on an optical disk,
and a method of manufacturing an optical disk.)
</li>
<li> U.S. Pat. 6,468,160; 6,712,704 (Security system for video game system
with hard disk drive and internet access capability)
</li>
<li> U.S. Pat. 6,591,019 (3D transformation matrix compression and decompression)
</li>
<li> U.S. Pat. 6,606,689 (Method and apparatus for pre-caching data in
audio memory) - ARAM Info
</li>
<li> U.S. Pat. 6,609,977 (External interfaces for a 3D graphics system)
- Lots of Register Info
</li>
<li> U.S. Pat. 6,618,048 (3D graphics rendering system for performing Z
value clamping in near-Z range to maximize scene resolution of visually
important Z components)
</li>
<li> U.S. Pat. 6,636,214 (Method and apparatus for dynamically reconfiguring
the order of hidden surface processing based on rendering mode) -
Some GX Stuff
</li>
<li> U.S. Pat. 6,639,595 (Achromatic lighting in a graphics system and
method) - Some GX Info
</li>
<li> U.S. Pat. 6,580,430 (Method and apparatus for providing improved fog
effects in a graphics system) - some GX Info
</li>
<li> U.S. Pat. 6,643,744 (Method and apparatus for pre-fetching audio data)
- Some ARAM Info
</li>
<li> U.S. Pat. 6,664,958 (Z-Texturing) - GX Info
</li>
<li> U.S. Pat. 6,664,962 (Shadow mapping in a low cost graphics system)
- GX Info
</li>
<li> U.S. Pat. 6,707,458 (Method and apparatus for texture tiling in a
graphics system) - GX Info
</li>
<li> U.S. Pat. 6,681,296; 6,859,862 (Method and apparatus for software
management of on-chip cache)
</li>
<li> U.S. Pat. 6,700,586 (Low cost graphics with stitching processing hardware
support for skeletal animation)
</li>
<li> U.S. Pat. 6,701,424 (Method and apparatus for efficient loading and
storing of vectors)
</li>
<li> U.S. Pat. 6,717,577 (Vertex cache for 3D computer graphics)
</li>
<li> U.S. Pat. 6,571,328 (Method and apparatus for obtaining a scalar value
directly from a vector register)
</li>
<li> Macronix Product Catalog
</li>
<li> mx98726 Datasheet
</li>
<li> mx98728 Datasheet
</li>
<li> mx25L4004 Datasheet
</li>
<li> PowerPC 740/PowerPC 750 RISC Microprocessor User`s Manual
</li>
<li> PowerPC 750CX/ 750CXe RISC Microprocessor User`s Manual
</li>
<li> Standard ECMA-268 (80 mm DVD - Read-Only Disk)
</li>
<li> MN102H60G/60K/F60G/F60K LSI User Manual
</li>
</ul>
<div class="idx"><a href="#idx19.1">index</a></div>
<h3>
<a name="sec19.1">
19.1</a>&nbsp;&nbsp;Sources</h3>
<br><ul>
<li> <tt>http://www.uspto.gov</tt><br>
</li>
<li> <tt>http://www.macronix.com</tt><br>
</li>
<li> <tt>http://www.ibm.com</tt><br>
</li>
<li> <tt>http://www.s3.com/s3tc</tt> (no more available)
</li>
<li> <tt>http://www.ecma-international.org/publications/standards/Ecma-268.htm</tt><br>
</li>
<li> <tt>https://www.semicon.panasonic.co.jp</tt><br>
</li>
</ul>
<br><div class="idx"><a href="#idx20">index</a></div>
<h2>
<a name="sec20">
20</a>&nbsp;&nbsp;Credits</h2>
<br>
besides freely available datasheets and patents, this document was
created based on information provided by the following people. if
you think you are missing in this list, please keep me informed so
i can add you immediately.<br><table><tr><td nowrap align="center">
<table>
<tr>
<td nowrap align="center"><b>titanik/crazy nation</b></td>
<td nowrap align="right">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">'Gamecube Low-level Info' in CZN 'Gamecube Source pack #1'</td>
</tr>
<tr>
<td nowrap align="center"><b>duke/napalm</b></td>
<td nowrap align="right"><tt>duke@napalm-x.com</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">initial "gcinfo.txt"</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">some invaluable information (you know who you are)</td>
</tr>
<tr>
<td nowrap align="center"><b>costis </b></td>
<td nowrap align="right"><tt>costis@gbaemu.com, gcdev.com <a href="http://www.gcdev.com"><tt>http://www.gcdev.com</tt></a></tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">hardware introduction text (posted on some website...uhm :))</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">gcspec.html</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">additional info in sram checksum, video regs</td>
</tr>
<tr>
<td nowrap align="center"><b>org </b></td>
<td nowrap align="right"><tt>kvzorganic@mail.ru</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">additional apploader info / apploader RE</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">IPL RE, boot process details</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">info on Gekko specific opcodes</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">tons of other info (cheers mate)</td>
</tr>
<tr>
<td nowrap align="center"><b>torlus</b></td>
<td nowrap align="right">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">gcc config</td>
</tr>
<tr>
<td nowrap align="center"><b>???</b></td>
<td nowrap align="right"><tt>www.gc-nfo.com</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">some file-format info</td>
</tr>
<tr>
<td nowrap align="center"><b>Crowtrobo</b></td>
<td nowrap align="right">&nbsp;</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">ctr-snd.txt</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">memory card info</td>
</tr>
<tr>
<td nowrap align="center"><b>Azimer</b></td>
<td nowrap align="right"><tt>http://www.apollo64.com</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">some additional VI info</td>
</tr>
<tr>
<td nowrap align="center"><b>tmbinc</b></td>
<td nowrap align="right">debugmo.de <a href="http://debugmo.de"><tt>http://debugmo.de</tt></a>
</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">released some sources that helped to close the one or other gap</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">driving force behind GX reversing</td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">IPL encryption reversing/IPL replacement info</td>
</tr>
<tr>
<td nowrap align="center"><b>shagkur</b></td>
<td nowrap align="right"><tt>shagkur@gmx.net</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">GX reversing, additional sources/infos</td>
</tr>
<tr>
<td nowrap align="center"><b>Timothy Wilson</b></td>
<td nowrap align="right"><tt>theimp@iinet.net.au</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">compiled some valuable info concerning memory cards</td>
</tr>
<tr>
<td nowrap align="center"><b>Authors of GClib</b></td>
<td nowrap align="right"><tt>gclib.sf.net</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">cross-checking against the Source helped to make sure no bad errors
sneaked in</td>
</tr>
<tr>
<td nowrap align="center"><b>GC-Linux Team</b></td>
<td nowrap align="right"><tt>gc-linux.sf.net</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">another valueable source for code that has been cross-checked against</td>
</tr>
<tr>
<td nowrap align="center"><b>Aaron Kaluszka</b></td>
<td nowrap align="right"><tt>megabyte@kontek.net</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">some image format info</td>
</tr>
<tr>
<td nowrap align="center"><b>Monk</b></td>
<td nowrap align="right"><tt>monk@mad.scientist.com</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">TPL Fileformat details</td>
</tr>
<tr>
<td nowrap align="center"><b>Steven Looman</b></td>
<td nowrap align="right"><tt>steven@krx.nl</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">keyboard scancodes, comments on adapters</td>
</tr>
<tr>
<td nowrap align="center"><b>thakis</b></td>
<td nowrap align="right"><tt>http://www.amnoid.de/gc/</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">lots of additonal fileformat info, proofreading&amp;spellchecking</td>
</tr>
<tr>
<td nowrap align="center"><b>Alexander Wold (micropal)</b></td>
<td nowrap align="right"><tt>http://cube.iu.hio.no/~s104086/</tt></td>
</tr>
<tr>
<td nowrap align="center">&nbsp;</td>
<td nowrap align="right">additional rtc/ipl pinout info</td>
</tr>
</table>
</td></tr></table>
<br>
moreover, many thanks must go to everyone who helped making this document
more consistant and error free by proofreading and pointing out mistakes,
in particular tmbinc, org, hubb, Aaron Kaluszka, Skywalker, Jihad,
xor37h, costis, CrowTrobo, mist, ionic, Briii, Desktopman, Spike Grobstein,
Steven Looman, Anders Montonen, Monk, Josiah "afnom"
Burroughs, Scream - CT, thakis ... (please check the changelog for details)<br><br><br>
</div>
</body>
</html>
